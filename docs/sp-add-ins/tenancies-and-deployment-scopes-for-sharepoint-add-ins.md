---
title: "Области клиентов и области развертывания для надстроек SharePoint"
description: "Развертывание надстроек SharePoint в клиентах SharePoint области клиента и веб-области."
ms.date: 11/02/2017
ms.prod: sharepoint
ms.openlocfilehash: 459df536d9d6ea5185d7804c71bdddfc981a53fb
ms.sourcegitcommit: 0a94e0c600db24a1b5bf5895e6d3d9681bf7c810
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/07/2017
---
# <a name="tenancies-and-deployment-scopes-for-sharepoint-add-ins"></a><span data-ttu-id="5944b-103">Области клиентов и области развертывания для надстроек SharePoint</span><span class="sxs-lookup"><span data-stu-id="5944b-103">Tenancies and deployment scopes for SharePoint Add-ins</span></span>

<span data-ttu-id="5944b-104">**Тенантность** SharePoint — это набор семейств веб-сайтов в ферме SharePoint либо в SharePoint Online.</span><span class="sxs-lookup"><span data-stu-id="5944b-104">A SharePoint **tenancy** is a set of site collections in either a SharePoint farm or in SharePoint Online.</span></span> <span data-ttu-id="5944b-105">В SharePoint Online семейства веб-сайтов принадлежат учетной записи одного клиента.</span><span class="sxs-lookup"><span data-stu-id="5944b-105">In SharePoint Online, the site collections belong to a single customer account.</span></span> <span data-ttu-id="5944b-106">В ферме SharePoint семейства веб-сайтов могут представлять собой все семейства веб-сайтов в веб-приложении SharePoint либо их подмножество. Кроме того, они могут быть набором семейств веб-сайтов из нескольких веб-приложений в ферме.</span><span class="sxs-lookup"><span data-stu-id="5944b-106">In a SharePoint farm, the site collections can be all the site collections in a SharePoint web application or a subset of them, or it can be a set of site collections from across multiple web applications in the farm.</span></span> <span data-ttu-id="5944b-107">У тенантности может быть каталог надстройки SharePoint, так же, как и у веб-приложения SharePoint.</span><span class="sxs-lookup"><span data-stu-id="5944b-107">A tenancy can have a SharePoint add-in catalog just as a SharePoint web application can.</span></span>

<span data-ttu-id="5944b-108"><a name="AppScope"> </a></span><span class="sxs-lookup"><span data-stu-id="5944b-108"><a name="AppScope"> </a></span></span>
## <a name="tenancies-and-add-in-scope"></a><span data-ttu-id="5944b-109">Тенантности и область надстройки</span><span class="sxs-lookup"><span data-stu-id="5944b-109">Tenancies and add-in scope</span></span>

<span data-ttu-id="5944b-110">У надстройки SharePoint есть **область надстройки**.</span><span class="sxs-lookup"><span data-stu-id="5944b-110">A SharePoint Add-in has an **add-in scope**.</span></span> <span data-ttu-id="5944b-111">Существуют только две области надстройки: веб-область и область клиента.</span><span class="sxs-lookup"><span data-stu-id="5944b-111">The two possible add-in scopes are web scope or tenant scope.</span></span> <span data-ttu-id="5944b-112">Разница между ними не связана со свойствами надстройки, и вы (разработчик) не принимаете решение, какая область будет использоваться для вашей надстройки.</span><span class="sxs-lookup"><span data-stu-id="5944b-112">The difference is not an intrinsic property of the add-in, and you, the developer, do not decide what the scope of your add-in is.</span></span> <span data-ttu-id="5944b-113">Такое решение принимают администраторы надстройки, и оно зависит от способа установки надстройки.</span><span class="sxs-lookup"><span data-stu-id="5944b-113">The decision is made by tenant administrators as a side effect of how the add-in is installed.</span></span> 

<span data-ttu-id="5944b-114">После отправки надстройки в каталог надстроек тенантности она сразу же будет доступна для установки на веб-сайтах в этой тенантности, и ее можно будет установить поочередно на нескольких веб-сайтах.</span><span class="sxs-lookup"><span data-stu-id="5944b-114">After an add-in is uploaded to the add-in catalog of a tenancy, it is immediately available to be installed on websites within the tenancy on a website-by-website basis.</span></span> <span data-ttu-id="5944b-115">У надстроек, устанавливаемых таким способом, будет **веб-область**.</span><span class="sxs-lookup"><span data-stu-id="5944b-115">Add-ins that are installed this way have **web scope**.</span></span> 

<span data-ttu-id="5944b-116">Администраторы клиента могут использовать еще один вариант.</span><span class="sxs-lookup"><span data-stu-id="5944b-116">Tenant administrators have another option, however.</span></span> <span data-ttu-id="5944b-117">Они могут выполнить пакетную установку надстройки на подмножество веб-сайтов в тенантности.</span><span class="sxs-lookup"><span data-stu-id="5944b-117">They can choose to batch install the add-in to a subset of websites within the tenancy.</span></span> <span data-ttu-id="5944b-118">У надстроек, устанавливаемых таким способом, будет **область клиента**.</span><span class="sxs-lookup"><span data-stu-id="5944b-118">Add-ins that are installed in this way have **tenant scope**.</span></span> <span data-ttu-id="5944b-119">Администратор клиента может указать, на какие веб-сайты необходимо установить надстройку, с помощью списка управляемых путей, списка шаблонов сайтов или списка семейств веб-сайтов.</span><span class="sxs-lookup"><span data-stu-id="5944b-119">The tenant admin can specify which websites the add-in is installed to by means of a list of managed paths, a list of site templates, or a list of site collections.</span></span> <span data-ttu-id="5944b-120">Надстройку, установленную в пакетном режиме, может удалить только администратор клиента.</span><span class="sxs-lookup"><span data-stu-id="5944b-120">An add-in that has been batch-installed can only be uninstalled by a tenant administrator.</span></span> <span data-ttu-id="5944b-121">Если администратор клиента удаляет надстройку, она будет удалена со всех веб-сайтов тенантности.</span><span class="sxs-lookup"><span data-stu-id="5944b-121">When the tenant admin uninstalls the add-in, it is uninstalled from every website in the tenancy.</span></span> <span data-ttu-id="5944b-122">У пользователей нет возможности удалить надстройку, установленную в пакетном режиме поочередно на несколько веб-сайтов.</span><span class="sxs-lookup"><span data-stu-id="5944b-122">Users can't uninstall a batch-installed add-in on a website-by-website basis.</span></span> <span data-ttu-id="5944b-123">Такой же принцип применяется и при обновлении надстройки, установленной в пакетном режиме: только администратор клиента может выполнить эту операцию. Надстройка будет обновлена в пакетном режиме на каждом веб-сайте, на котором она установлена, в тенантности.</span><span class="sxs-lookup"><span data-stu-id="5944b-123">The same principle applies to updating a batch-installed add-in: only a tenant administrator can do it, and it is batch-updated on every website in the tenancy where it is installed.</span></span>

<span data-ttu-id="5944b-124">Если надстройка, включающая сайт надстройки, установлена в пакетном режиме, будет создан только один сайт надстройки, и он будет совместно использоваться всеми хост-сайтами, на которые установлена надстройка.</span><span class="sxs-lookup"><span data-stu-id="5944b-124">If an add-in that includes an add-in web is batch-installed, only one add-in web is created, and it is shared by all the host websites on which the add-in is installed.</span></span> <span data-ttu-id="5944b-125">Сайт надстройки будет размещен в семействе веб-сайтов каталога надстроек организации.</span><span class="sxs-lookup"><span data-stu-id="5944b-125">The add-in web is located in the site collection of the organization's add-in catalog.</span></span>

<span data-ttu-id="5944b-126">При создании семейств веб-сайтов в тенантности надстройки, которые были установлены ранее в пакетном режиме, будут автоматически установлены в новом семействе веб-сайтов.</span><span class="sxs-lookup"><span data-stu-id="5944b-126">When new site collections are created in the tenancy, add-ins that were previously batch-installed are automatically installed on the new site collection.</span></span>

> [!NOTE]
> <span data-ttu-id="5944b-127">Не следует путать область надстройки с областью компонента.</span><span class="sxs-lookup"><span data-stu-id="5944b-127">Add-in scope should not be confused with Feature scope.</span></span> <span data-ttu-id="5944b-128">Область компонента указывает, где будут развернуты элементы компонента.</span><span class="sxs-lookup"><span data-stu-id="5944b-128">Feature scope determines where the elements in a Feature are deployed.</span></span> <span data-ttu-id="5944b-129">Возможные варианты **Farm** (Ферма), **WebApplication** (Веб-приложение), **Site** (Сайт), то есть семейство веб-сайтов, и **Web** (Интернет).</span><span class="sxs-lookup"><span data-stu-id="5944b-129">The possibilities include **Farm**, **WebApplication**, **Site** (that is, site collection), and **Web**.</span></span> <span data-ttu-id="5944b-130">Для компонентов в надстройках SharePoint (и для компонентов хост-сайтов, и для компонентов в WSP-файле в пакете надстройки) разрешен только вариант **Web** (Интернет).</span><span class="sxs-lookup"><span data-stu-id="5944b-130">Only **Web** is permitted for Features in SharePoint Add-ins (both host web features and features inside a .wsp in an add-in package).</span></span> 

> <span data-ttu-id="5944b-131">Кроме того, не следует путать область надстройки с уровнями разрешений надстройки.</span><span class="sxs-lookup"><span data-stu-id="5944b-131">Add-in scope should also not be confused with add-in permission levels.</span></span> <span data-ttu-id="5944b-132">Надстройки SharePoint могут запрашивать разрешения для доступа ко всем или отдельным частям контента SharePoint на уровнях списка, Интернета, семейства веб-сайтов и тенантности.</span><span class="sxs-lookup"><span data-stu-id="5944b-132">SharePoint Add-ins can request permissions to all or selected parts of SharePoint content at the levels of list, web, site collection, and tenancy.</span></span> <span data-ttu-id="5944b-133">При установке надстройки с областью клиента она не получает разрешения, которые она бы не имела в ином случае, и такая установка не отменяет ключевые положения модели безопасности SharePoint.</span><span class="sxs-lookup"><span data-stu-id="5944b-133">Installing an add-in with tenant scope does not give it permissions that it would not otherwise have, nor does it cancel key provisions of the SharePoint security model.</span></span> <span data-ttu-id="5944b-134">Дополнительные сведения о разрешениях для надстроек см. в статье [Разрешения для надстроек SharePoint](add-in-permissions-in-sharepoint.md).</span><span class="sxs-lookup"><span data-stu-id="5944b-134">For more information about add-in permissions, see [Add-in permissions in SharePoint](add-in-permissions-in-sharepoint.md).</span></span>

<span data-ttu-id="5944b-135"><a name="Tenant"> </a></span><span class="sxs-lookup"><span data-stu-id="5944b-135"><a name="Tenant"> </a></span></span>
## <a name="limitations-of-tenant-scoped-add-ins"></a><span data-ttu-id="5944b-136">Ограничения для надстроек области клиента</span><span class="sxs-lookup"><span data-stu-id="5944b-136">Limitations of tenant-scoped add-ins</span></span>

<span data-ttu-id="5944b-137">Если установить указанные ниже надстройки в пакетном режиме, они будут работать неправильно.</span><span class="sxs-lookup"><span data-stu-id="5944b-137">The following types of add-ins will not work correctly when batch-installed:</span></span>

- <span data-ttu-id="5944b-138">Надстройки, которые содержат дополнительное действие для ленты (дополнительные действия, которые развертываются в виде элементов меню, разрешены).</span><span class="sxs-lookup"><span data-stu-id="5944b-138">Add-ins that contain a custom action for the ribbon (custom actions that are deployed as menu items are allowed)</span></span>
- <span data-ttu-id="5944b-139">Надстройки, которые содержат веб-часть надстройки.</span><span class="sxs-lookup"><span data-stu-id="5944b-139">Add-ins that contain an add-in part</span></span>

<span data-ttu-id="5944b-140">Кроме того, учтите, что установка с областью клиента не поддерживается в SharePoint Online в Office 365 для малого бизнеса расширенный.</span><span class="sxs-lookup"><span data-stu-id="5944b-140">In addition, note again that installation with tenant scope is not possible in the Office 365 Small Business Premium version of SharePoint Online.</span></span>

<span data-ttu-id="5944b-141"><a name="Web"> </a></span><span class="sxs-lookup"><span data-stu-id="5944b-141"><a name="Web"> </a></span></span>
## <a name="how-to-install-uninstall-and-update-an-add-in-on-multiple-websites-in-a-tenancy"></a><span data-ttu-id="5944b-142">Установка, удаление и обновление надстройки на нескольких веб-сайтах в тенантности</span><span class="sxs-lookup"><span data-stu-id="5944b-142">How to install, uninstall, and update an add-in on multiple websites in a tenancy</span></span>

<span data-ttu-id="5944b-143">Независимо от того, устанавливается ли надстройка из Магазин Office или из каталога надстроек, администраторы клиента могут установить ее на нескольких веб-сайтах клиента, а также удалить и обновить ее с помощью следующих процедур.</span><span class="sxs-lookup"><span data-stu-id="5944b-143">Regardless of whether an add-in is installed from the Office Store or from an add-in catalog, tenant admins can install it to multiple websites in a tenancy, uninstall it, and update it by using the following procedures.</span></span>

### <a name="to-install-a-sharepoint-add-in-to-multiple-websites"></a><span data-ttu-id="5944b-144">Установка надстройки SharePoint на нескольких веб-сайтах</span><span class="sxs-lookup"><span data-stu-id="5944b-144">To install a SharePoint Add-in to multiple websites</span></span>

1. <span data-ttu-id="5944b-145">Перейдите на страницу **Содержимое сайта** веб-сайта корпоративного каталога.</span><span class="sxs-lookup"><span data-stu-id="5944b-145">Go to the **Site Contents** page of the corporate catalog website.</span></span>

2. <span data-ttu-id="5944b-146">Щелкните **Добавить надстройку** и установите надстройку так же, как и на любом другом веб-сайте SharePoint.</span><span class="sxs-lookup"><span data-stu-id="5944b-146">Select **Add an add-in**, and install the add-in just as you would on any other SharePoint website.</span></span>

3. <span data-ttu-id="5944b-147">После установки надстройки наведите указатель мыши на ссылку надстройки на странице **Содержимое сайта**.</span><span class="sxs-lookup"><span data-stu-id="5944b-147">After the add-in is installed, hover over the link to the add-in on the **Site Contents** page.</span></span> <span data-ttu-id="5944b-148">Отобразится ссылка **...**.</span><span class="sxs-lookup"><span data-stu-id="5944b-148">A "**...**" link appears.</span></span>

4. <span data-ttu-id="5944b-149">Щелкните ссылку. Отобразится выноска.</span><span class="sxs-lookup"><span data-stu-id="5944b-149">Select the link, and a callout appears.</span></span>

5. <span data-ttu-id="5944b-150">Выберите **Развертывание** в меню.</span><span class="sxs-lookup"><span data-stu-id="5944b-150">Select **Deployment** on the menu.</span></span>

6. <span data-ttu-id="5944b-p109">Используйте открывшийся интерфейс развертывания для указания семейств веб-сайтов, в которых необходимо установить надстройку. Можно выполнять фильтрацию по управляемым путям, шаблонам сайтов и URL-адресам. Для фильтров действует логическое отношение "ИЛИ": надстройка устанавливается во всех семействах веб-сайтов, которые проходят один или больше фильтров.</span><span class="sxs-lookup"><span data-stu-id="5944b-p109">Use the deployment UI that opens to specify the site collections to which you want the add-in installed. You can filter by managed paths, site templates, or URLs. The filters have a logical "OR" relationship: the add-in is installed to the union of all the site collections that pass any one or more of the filters.</span></span>

7. <span data-ttu-id="5944b-154">Выберите **ОК**.</span><span class="sxs-lookup"><span data-stu-id="5944b-154">Select **OK**.</span></span>
    

### <a name="to-uninstall-a-batch-installed-sharepoint-add-in"></a><span data-ttu-id="5944b-155">Удаление надстройки SharePoint, установленной в пакетном режиме</span><span class="sxs-lookup"><span data-stu-id="5944b-155">To uninstall a batch-installed SharePoint Add-in</span></span>

1. <span data-ttu-id="5944b-156">Перейдите на страницу **Содержимое сайта** веб-сайта корпоративного каталога.</span><span class="sxs-lookup"><span data-stu-id="5944b-156">Go to the **Site Contents** page of the corporate catalog website.</span></span>

2. <span data-ttu-id="5944b-157">Наведите указатель мыши на ссылку надстройки на странице **Содержимое сайта**.</span><span class="sxs-lookup"><span data-stu-id="5944b-157">Hover over the link to the add-in on the **Site Contents** page.</span></span> <span data-ttu-id="5944b-158">Отобразится ссылка **...**.</span><span class="sxs-lookup"><span data-stu-id="5944b-158">A "**...**" link appears.</span></span>

3. <span data-ttu-id="5944b-159">Щелкните ссылку. Отобразится выноска.</span><span class="sxs-lookup"><span data-stu-id="5944b-159">Select the link, and a callout appears.</span></span>

4. <span data-ttu-id="5944b-160">В выноске выберите **Удалить**.</span><span class="sxs-lookup"><span data-stu-id="5944b-160">Select **Remove** on the callout.</span></span>    
 

### <a name="to-update-a-batch-installed-sharepoint-add-in"></a><span data-ttu-id="5944b-161">Обновление надстройки SharePoint, установленной в пакетном режиме</span><span class="sxs-lookup"><span data-stu-id="5944b-161">To update a batch-installed SharePoint Add-in</span></span>

1. <span data-ttu-id="5944b-162">Перейдите на страницу **Содержимое сайта** веб-сайта корпоративного каталога.</span><span class="sxs-lookup"><span data-stu-id="5944b-162">Go to the **Site Contents** page of the corporate catalog website.</span></span> <span data-ttu-id="5944b-163">Если доступно обновление для надстройки, рядом с ней отображается соответствующее сообщение.</span><span class="sxs-lookup"><span data-stu-id="5944b-163">If there is an update available for an add-in, a message appears next to the add-in.</span></span> <span data-ttu-id="5944b-164">Кроме того, отображается ссылка для обновления надстройки.</span><span class="sxs-lookup"><span data-stu-id="5944b-164">There will be a link to update the add-in.</span></span>

2. <span data-ttu-id="5944b-165">Щелкните ссылку, чтобы обновить надстройку.</span><span class="sxs-lookup"><span data-stu-id="5944b-165">Select the link to update the add-in.</span></span>

3. <span data-ttu-id="5944b-166">Когда вам будет предложено утвердить запросы на разрешения для надстройки, щелкните **Доверять**.</span><span class="sxs-lookup"><span data-stu-id="5944b-166">When you are prompted to approve the permission requests of the add-in, select **Trust It**.</span></span>   
 

## <a name="see-also"></a><span data-ttu-id="5944b-167">См. также</span><span class="sxs-lookup"><span data-stu-id="5944b-167">See also</span></span>
<span data-ttu-id="5944b-168"><a name="SP15tenancies_addlresources"> </a></span><span class="sxs-lookup"><span data-stu-id="5944b-168"><a name="SP15tenancies_addlresources"> </a></span></span>

-  [<span data-ttu-id="5944b-169">Публикация надстроек SharePoint</span><span class="sxs-lookup"><span data-stu-id="5944b-169">Publish SharePoint Add-ins</span></span>](publish-sharepoint-add-ins.md)    
-  [<span data-ttu-id="5944b-170">Важные аспекты разработки и архитектуры для надстроек SharePoint</span><span class="sxs-lookup"><span data-stu-id="5944b-170">Important aspects of the SharePoint Add-in architecture and development landscape</span></span>](important-aspects-of-the-sharepoint-add-in-architecture-and-development-landscap.md)   
-  [<span data-ttu-id="5944b-171">Развертывание и установка надстроек SharePoint: методы и параметры</span><span class="sxs-lookup"><span data-stu-id="5944b-171">Deploying and installing SharePoint Add-ins: methods and options</span></span>](deploying-and-installing-sharepoint-add-ins-methods-and-options.md) 
-  [<span data-ttu-id="5944b-172">Процесс обновления надстроек SharePoint</span><span class="sxs-lookup"><span data-stu-id="5944b-172">SharePoint Add-ins update process</span></span>](sharepoint-add-ins-update-process.md)
    
