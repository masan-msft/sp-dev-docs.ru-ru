---
title: "Хост-сайты, сайты надстроек и компоненты SharePoint в SharePoint"
description: "Узнайте, какие компоненты SharePoint можно включить в надстройку SharePoint, какие из них развертываются на хост-сайте, а какие на сайте надстройки, и как сайт надстройки развертывается в изолированном домене."
ms.date: 11/02/2017
ms.prod: sharepoint
ms.openlocfilehash: 71012cfa78c88ce62f1da0023c9510aa5658d746
ms.sourcegitcommit: 0a94e0c600db24a1b5bf5895e6d3d9681bf7c810
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/07/2017
---
# <a name="host-webs-add-in-webs-and-sharepoint-components-in-sharepoint"></a><span data-ttu-id="a941a-103">Хост-сайты, сайты надстроек и компоненты SharePoint в SharePoint</span><span class="sxs-lookup"><span data-stu-id="a941a-103">Host webs, add-in webs, and SharePoint components in SharePoint</span></span>

<span data-ttu-id="a941a-104">Когда надстройка, включающая компоненты SharePoint, устанавливается на веб-сайте, она включается в список на странице **Контент сайта**, откуда ее можно запустить.</span><span class="sxs-lookup"><span data-stu-id="a941a-104">When an add-in that includes SharePoint components is installed on a website, it is listed on the **Site Contents** page from which it can be launched.</span></span> <span data-ttu-id="a941a-105">Этот список является единственным обязательным добавлением на веб-сайт, хотя также можно добавить и другие элементы (например, дополнительное действие или веб-часть надстройки).</span><span class="sxs-lookup"><span data-stu-id="a941a-105">That listing, which is the launch point of the add-in, is the only required addition to the website, although certain other things can optionally be added, such as a custom action or an add-in part.</span></span> <span data-ttu-id="a941a-106">Сведения об этих возможностях см. в разделе [Доступ к надстройке из пользовательского интерфейса](important-aspects-of-the-sharepoint-add-in-architecture-and-development-landscap.md#AccessingApp).</span><span class="sxs-lookup"><span data-stu-id="a941a-106">For information about these options, see [Accessing the add-in from the UI](important-aspects-of-the-sharepoint-add-in-architecture-and-development-landscap.md#AccessingApp).</span></span> 

<span data-ttu-id="a941a-107"><a name="IsolatedDomain"> </a></span><span class="sxs-lookup"><span data-stu-id="a941a-107"><a name="IsolatedDomain"> </a></span></span>
## <a name="host-webs-add-in-webs-and-the-isolated-domain"></a><span data-ttu-id="a941a-108">Хост-сайты, сайты надстроек и изолированный домен</span><span class="sxs-lookup"><span data-stu-id="a941a-108">Host webs, add-in webs, and the isolated domain</span></span>

<span data-ttu-id="a941a-109">Компоненты надстройки SharePoint, отличные от элементов пользовательского интерфейса, такие как списки, типы контента, рабочие процессы и страницы, развертываются на другом веб-сайте в специальном изолированном домене.</span><span class="sxs-lookup"><span data-stu-id="a941a-109">Other than these UI elements, the SharePoint Add-in components and content, such as lists, content types, workflows, and pages, are deployed to a different website in a special isolated domain.</span></span> <span data-ttu-id="a941a-110">Этот факт во многом скрыт от пользователя.</span><span class="sxs-lookup"><span data-stu-id="a941a-110">This fact is largely hidden from the user.</span></span> <span data-ttu-id="a941a-111">Специальный веб-сайт, на котором *развертывается* надстройка, называется сайтом надстройки.</span><span class="sxs-lookup"><span data-stu-id="a941a-111">The special website to which the add-in is *deployed* is called an add-in web.</span></span> <span data-ttu-id="a941a-112">Веб-сайт, на котором *устанавливается* надстройка, называется хост-сайтом.</span><span class="sxs-lookup"><span data-stu-id="a941a-112">The website to which the add-in is *installed* is called the host web.</span></span> <span data-ttu-id="a941a-113">Хотя сайт надстройки имеет собственный изолированный домен, он находится в том же семействе веб-сайтов, что и хост-сайт.</span><span class="sxs-lookup"><span data-stu-id="a941a-113">Although the add-in web has its own isolated domain, it is in the same site collection as the host web.</span></span> <span data-ttu-id="a941a-114">(Единственное исключение из этого правила — установка надстройки с областью клиента.</span><span class="sxs-lookup"><span data-stu-id="a941a-114">(One exception to this rule is when the add-in is installed with tenant scope.</span></span> <span data-ttu-id="a941a-115">В этом случае сайт надстройки находится в семействе веб-сайтов корпоративного каталога надстроек.)</span><span class="sxs-lookup"><span data-stu-id="a941a-115">In that scenario, the add-in web is in the site collection of the corporate add-in catalog.)</span></span> 

<span data-ttu-id="a941a-116">На рисунке 1 показан хост-сайт с двумя установленными надстройками SharePoint.</span><span class="sxs-lookup"><span data-stu-id="a941a-116">Figure 1 shows a host web with two SharePoint Add-ins installed.</span></span> <span data-ttu-id="a941a-117">У надстройки 1 есть удаленные компоненты, но нет компонентов SharePoint, поэтому она не имеет сайта надстройки.</span><span class="sxs-lookup"><span data-stu-id="a941a-117">Add-in 1 has remote components, but no SharePoint components, so it has no add-in web.</span></span> <span data-ttu-id="a941a-118">У надстройки 2 нет удаленных компонентов, но есть два списка SharePoint и рабочий процесс.</span><span class="sxs-lookup"><span data-stu-id="a941a-118">Add-in 2 has no remote components, but it has two SharePoint lists and a workflow.</span></span> <span data-ttu-id="a941a-119">Они развернуты на изолированном дочернем сайте. (У надстройки SharePoint могут быть как удаленные компоненты, так и компоненты, размещенные в SharePoint, но ни одна показанная на этой схеме надстройка не включает компоненты обоих этих типов.)</span><span class="sxs-lookup"><span data-stu-id="a941a-119">These have been deployed to an isolated subsite (a SharePoint Add-in can have both remote and SharePoint-hosted components, although neither add-in in this diagram has both).</span></span>

<span data-ttu-id="a941a-120">*Рис. 1. Хост-сайт с надстройкой, размещенной у поставщика, и надстройкой с размещением в SharePoint*</span><span class="sxs-lookup"><span data-stu-id="a941a-120">*Figure 1: Host web with a provider-hosted add-in and a SharePoint-hosted add-in*</span></span>

![Хостинговые сети, сети приложений и их компоненты.](../images/HostWebAndAppWeb.png)
 
<span data-ttu-id="a941a-122">Например, предположим, что надстройка с компонентами SharePoint, включающими не только элементы пользовательского интерфейса, которые могут быть развернуты на хост-сайте, устанавливается на хост-сайте со следующим URL-адресом:</span><span class="sxs-lookup"><span data-stu-id="a941a-122">For example, suppose that an add-in, with SharePoint components beyond just the UI elements that can be deployed to a host web, is installed on a host website at the following URL:</span></span>

    `https://www.fabrikam.com/sites/Marketing`

<span data-ttu-id="a941a-123">Надстройка SharePoint будет развертываться на заново созданном веб-сайте с URL-адресом, аналогичным следующему:</span><span class="sxs-lookup"><span data-stu-id="a941a-123">The SharePoint Add-in will be deployed to a newly created website with a URL like the following:</span></span>

    `http://add-in-bdf2016ea7dacb.fabrikamadd-ins.com/sites/Marketing/Scheduler`

<span data-ttu-id="a941a-124">Обратите внимание, что этот URL-адрес имеет следующую структуру:</span><span class="sxs-lookup"><span data-stu-id="a941a-124">Note that this URL has the following structure:</span></span>

    `https://` _Add-in_Prefix_ `-` _Add-in_ID_ `.` _Add-in_Base_Domain_ `/` _Domain_Relative_URL_of_Host_Web_ `/` _Add-in_Name_

<span data-ttu-id="a941a-125">Эти заполнители имеют следующие значения:</span><span class="sxs-lookup"><span data-stu-id="a941a-125">The placeholders are defined as follows:</span></span>

-  <span data-ttu-id="a941a-p104">_Add-in_Prefix_ — это любая строка, установленная администратором фермы в центре администрирования. Значение по умолчанию — "default". В данном примере администратор изменил его на "add-in".</span><span class="sxs-lookup"><span data-stu-id="a941a-p104">_Add-in_Prefix_ is any string set by the farm administrator in Central Administration. The default is "default." In this example the administrator has changed this to "add-in."</span></span>

-  <span data-ttu-id="a941a-129">_Add-in_ID_ — это шестнадцатеричное число, которое генерируется внутри надстройки при ее установке.</span><span class="sxs-lookup"><span data-stu-id="a941a-129">_Add-in_ID_ is a hexadecimal number generated internally when the add-in is installed.</span></span>

-  <span data-ttu-id="a941a-130">_Add-in_Base_Domain_ — это строка, установленная администратором фермы в центре администрирования или командной консоли SharePoint.</span><span class="sxs-lookup"><span data-stu-id="a941a-130">_Add-in_Base_Domain_ is any string set by the farm administrator in Central Administration or with SharePoint Management Shell.</span></span> <span data-ttu-id="a941a-131">Его *не* следует устанавливать как поддомен веб-приложения SharePoint, иначе цель изоляции надстройки не будет выполнена.</span><span class="sxs-lookup"><span data-stu-id="a941a-131">This should *not* be set to a subdomain of the SharePoint web application or the purpose of add-in isolation is largely defeated.</span></span> <span data-ttu-id="a941a-132">В этом примере администратор удалил префикс "www."</span><span class="sxs-lookup"><span data-stu-id="a941a-132">In this example, the administrator has removed the "www."</span></span> <span data-ttu-id="a941a-133">и добавил "add-ins" к названию компании.</span><span class="sxs-lookup"><span data-stu-id="a941a-133">and added "add-ins" to the company name.</span></span> <span data-ttu-id="a941a-134">Таким образом, `fabrikamadd-ins.com` — это базовый домен надстройки.</span><span class="sxs-lookup"><span data-stu-id="a941a-134">So `fabrikamadd-ins.com` is the add-in base domain.</span></span>

-  <span data-ttu-id="a941a-135">_Domain_Relative_URL_of_Host_Web_ — это относительный URL-адрес родительского хост-сайта, в данном случае `sites/Marketing`.</span><span class="sxs-lookup"><span data-stu-id="a941a-135">_Domain_Relative_URL_of_Host_Web_ is the relative URL of the parent host web, in this case `sites/Marketing`.</span></span>

-  <span data-ttu-id="a941a-136">_Add-in_Name_ — это значение для атрибута **Name** элемента **App** в файле appmanifest.xml.</span><span class="sxs-lookup"><span data-stu-id="a941a-136">_Add-in_Name_ is the value of the **Name** attribute of the **App** element in the appmanifest.xml file.</span></span>

<span data-ttu-id="a941a-p106">Существует две основные причины, по которым компоненты SharePoint развертываются на сайтах надстроек, а не на хост-сайта. Обе они связаны с безопасностью.</span><span class="sxs-lookup"><span data-stu-id="a941a-p106">There are two primary reasons why SharePoint components are deployed to add-in webs, rather than the host web. Both are related to security.</span></span>

-  <span data-ttu-id="a941a-p107">**Обеспечение выполнения разрешений надстройки.** В Модель для надстроек SharePoint надстройка имеет собственное удостоверение, а также разрешения, которые могут не совпадать с разрешениями пользователя, выполняющего надстройку. Эти разрешения надстройки запрашиваются при установке надстройки и предоставляются лицом, устанавливающим её, а также лицом, имеющим все разрешения, которые запрашивает надстройка. (Если пользователь, устанавливающий надстройку, не имеет все разрешения, запрашиваемые надстройкой, то он не может установить её.) Предоставляя каждой надстройке собственный домен, SharePoint может надежно идентифицировать запросы, которые делает надстройка, и проверять разрешения надстройки. Дополнительные сведения о разрешениях надстроек см. в разделе [Разрешения надстроек](important-aspects-of-the-sharepoint-add-in-architecture-and-development-landscap.md#AppPermissions).</span><span class="sxs-lookup"><span data-stu-id="a941a-p107">**Enforcement of add-in permissions:** In the model for SharePoint Add-ins, an add-in has its own identity and it has permissions that are not necessarily the same as the permissions of the user who is executing the add-in. These add-in permissions are requested when the add-in is installed and granted by the person who installs the add-in, as long as person has all the permissions that the add-in requests. (If the user who is installing the add-in does not have all the permissions that are requested by the add-in, the user cannot install the add-in.) By giving each add-in its own domain, SharePoint can reliably identify requests made by the add-in and verify the permissions of the add-in. For more information about add-in permissions, see [Add-in permissions](important-aspects-of-the-sharepoint-add-in-architecture-and-development-landscap.md#AppPermissions).</span></span>

-  <span data-ttu-id="a941a-p108">**Безопасность междоменных скриптов.** Современные браузеры поддерживают "политику единого домена" по отношению к вызовам методов JavaScript. При развертывании каждого Надстройка SharePoint в собственном домене, SharePoint использует преимущества политики единого домена браузера, чтобы JavaScript в Надстройка SharePoint не мог выполнять никакой JavaScript из другого домена, включая домен, в котором с точки зрения пользователя установлена надстройка.</span><span class="sxs-lookup"><span data-stu-id="a941a-p108">**Cross-domain scripting security:** Modern browsers support a "same origin policy" with regard to JavaScript method calls. By deploying each SharePoint Add-in to its own domain, SharePoint takes advantage of the browser's same origin policy to ensure that JavaScript in the SharePoint Add-in cannot execute any JavaScript from any other domain, including the domain in which, from the end-user's perspective, the add-in is installed.</span></span>
    
   <span data-ttu-id="a941a-145">В SharePoint также есть средства безопасного обхода ограничений политики.</span><span class="sxs-lookup"><span data-stu-id="a941a-145">SharePoint also provides a means of safely overcoming the limits of the policy.</span></span> <span data-ttu-id="a941a-146">Помимо прочего, удаленным компонентам надстройки SharePoint разрешается запрашивать данные с любого веб-сайта в рамках общей родительской принадлежности сайта надстройки и хост-сайта.</span><span class="sxs-lookup"><span data-stu-id="a941a-146">Among other things, this enables the remote components of a SharePoint Add-in to query data from any website in the common parent tenancy of the host and add-in webs.</span></span> <span data-ttu-id="a941a-147">Дополнительные сведения см. в статье [Обращение к данным SharePoint из надстроек с помощью междоменной библиотеки](access-sharepoint-data-from-add-ins-using-the-cross-domain-library.md).</span><span class="sxs-lookup"><span data-stu-id="a941a-147">For more information, see [Access SharePoint data from add-ins using the cross-domain library](access-sharepoint-data-from-add-ins-using-the-cross-domain-library.md).</span></span>

<span data-ttu-id="a941a-148"><a name="TypesOfSPComponentsInApps"> </a></span><span class="sxs-lookup"><span data-stu-id="a941a-148"><a name="TypesOfSPComponentsInApps"> </a></span></span>
## <a name="types-of-sharepoint-components-that-can-be-in-a-sharepoint-add-in"></a><span data-ttu-id="a941a-149">Типы компонентов SharePoint, встречающиеся в надстройке SharePoint</span><span class="sxs-lookup"><span data-stu-id="a941a-149">Types of SharePoint components that can be in a SharePoint Add-in</span></span>

<span data-ttu-id="a941a-150">В целом надстройка SharePoint может содержать один или несколько компонентов из приведенного ниже списка.</span><span class="sxs-lookup"><span data-stu-id="a941a-150">In general, a SharePoint Add-in can contain one or more of the components in the following list.</span></span> <span data-ttu-id="a941a-151">С некоторыми исключениями, эти компоненты необходимо развертывать в **веб**-компонентах, находящихся в файле пакета решения SharePoint (WSP-файле).</span><span class="sxs-lookup"><span data-stu-id="a941a-151">With certain exceptions, these components must be deployed in **Web**-scoped Features that are inside a SharePoint solution package (.wsp) file.</span></span>

> [!NOTE]
> <span data-ttu-id="a941a-152">Компоненты, помеченные звездочкой (\*), более подробно описаны в разделе [Условия для развертывания компонентов SharePoint](#SpecialCases) далее в этой статье.</span><span class="sxs-lookup"><span data-stu-id="a941a-152">The components that are marked with an asterisk (\*) are discussed in more detail in the section [Caveats for deploying SharePoint components](#SpecialCases) later in this article.</span></span>

- <span data-ttu-id="a941a-153">Компоненты (только уровня **веб-сайта**)</span><span class="sxs-lookup"><span data-stu-id="a941a-153">Features (**Web**-scoped only)</span></span>
- <span data-ttu-id="a941a-154">Дополнительные действия (в том числе пункты контекстного меню и настройки ленты)\*</span><span class="sxs-lookup"><span data-stu-id="a941a-154">Custom actions (including shortcut menu items and ribbon customizations)\*</span></span>
- <span data-ttu-id="a941a-155">Приемники удаленных событий\*</span><span class="sxs-lookup"><span data-stu-id="a941a-155">Remote event receivers\*</span></span>
- <span data-ttu-id="a941a-156">Разметка, которая ссылается на веб-части, в том числе веб-части надстроек, включенные в SharePoint (но не пользовательские веб-части)\*</span><span class="sxs-lookup"><span data-stu-id="a941a-156">Markup that references Web Parts, including add-in parts, that are included in SharePoint (but not custom Web Parts)\*</span></span>
- <span data-ttu-id="a941a-157">Пользовательские файлы каскадных таблиц стилей (CSS) для использования на страницах SharePoint</span><span class="sxs-lookup"><span data-stu-id="a941a-157">Custom cascading style sheets (CSS) files for use by SharePoint pages</span></span>
- <span data-ttu-id="a941a-158">Пользовательские файлы JavaScript для использования страницами SharePoint</span><span class="sxs-lookup"><span data-stu-id="a941a-158">Custom JavaScript files for use by SharePoint pages</span></span>
- <span data-ttu-id="a941a-159">Модули (наборы файлов)</span><span class="sxs-lookup"><span data-stu-id="a941a-159">Modules (sets of files)</span></span>
- <span data-ttu-id="a941a-160">Страницы</span><span class="sxs-lookup"><span data-stu-id="a941a-160">Pages</span></span>
- <span data-ttu-id="a941a-161">Шаблоны списка</span><span class="sxs-lookup"><span data-stu-id="a941a-161">List templates</span></span>
- <span data-ttu-id="a941a-162">Экземпляры списков и библиотек</span><span class="sxs-lookup"><span data-stu-id="a941a-162">List and library instances</span></span>
- <span data-ttu-id="a941a-163">Настраиваемые формы списков</span><span class="sxs-lookup"><span data-stu-id="a941a-163">Custom list forms</span></span>
- <span data-ttu-id="a941a-164">Настраиваемые представления списков</span><span class="sxs-lookup"><span data-stu-id="a941a-164">Custom list views</span></span>
- <span data-ttu-id="a941a-165">Настраиваемые типы контента</span><span class="sxs-lookup"><span data-stu-id="a941a-165">Custom content types</span></span>
- <span data-ttu-id="a941a-166">Поля (относящиеся к типам полей, встроенных в SharePoint)</span><span class="sxs-lookup"><span data-stu-id="a941a-166">Fields (of field types that are built into SharePoint)</span></span>
- <span data-ttu-id="a941a-167">Модели Microsoft Business Connectivity Services (только в **веб**-области), основанные на модели типы внешнего контента и внешние списки, использующие типы контента\*</span><span class="sxs-lookup"><span data-stu-id="a941a-167">Microsoft Business Connectivity Services (BCS) models (**Web**-scoped only), external content types based on the model, and external lists that use the content types\*</span></span>
- <span data-ttu-id="a941a-168">Рабочие процессы\*</span><span class="sxs-lookup"><span data-stu-id="a941a-168">Workflows\*</span></span>
- <span data-ttu-id="a941a-169">Контейнеры свойств</span><span class="sxs-lookup"><span data-stu-id="a941a-169">Property bags</span></span>
- <span data-ttu-id="a941a-170">Шаблоны сайтов (но не определения сайтов)\*</span><span class="sxs-lookup"><span data-stu-id="a941a-170">Web templates (but not site definitions)\*</span></span>

<span data-ttu-id="a941a-171">В надстройке SharePoint нельзя развертывать компоненты SharePoint других видов.</span><span class="sxs-lookup"><span data-stu-id="a941a-171">No other kind of SharePoint component can be deployed in a SharePoint Add-in.</span></span> <span data-ttu-id="a941a-172">Дополнительные сведения о том, что можно включать в надстройку SharePoint, см. в статье [Сравнение надстроек SharePoint с решениями SharePoint](http://msdn.microsoft.com/library/0e9efadb-aaf2-4c0d-afd5-d6cf25c4e7a8%28Office.15%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="a941a-172">For more information about restrictions on what can be included in a SharePoint Add-in, see [SharePoint Add-ins compared with SharePoint solutions](http://msdn.microsoft.com/library/0e9efadb-aaf2-4c0d-afd5-d6cf25c4e7a8%28Office.15%29.aspx).</span></span>

<span data-ttu-id="a941a-173"><a name="SpecialCases"> </a></span><span class="sxs-lookup"><span data-stu-id="a941a-173"><a name="SpecialCases"> </a></span></span>
## <a name="caveats-for-deploying-sharepoint-components"></a><span data-ttu-id="a941a-174">Условия для развертывания компонентов SharePoint</span><span class="sxs-lookup"><span data-stu-id="a941a-174">Caveats for deploying SharePoint components</span></span>

<span data-ttu-id="a941a-175">Ознакомьтесь с условиями и подробными сведениями, касающимися развертывания определенных компонентов SharePoint в надстройке:</span><span class="sxs-lookup"><span data-stu-id="a941a-175">The following are some caveats and details concerning the deployment of certain kinds of SharePoint components in an add-in:</span></span> 

- <span data-ttu-id="a941a-p112">**Дополнительные действия.** Дополнительные действия можно добавлять как на сайт надстройки, так и на хост-сайт. Чтобы добавить дополнительное действие на сайт надстройки, его следует включить в компонент уровня **Web**, находящийся в WSP-файле, как это делается с любым другим компонентом, который добавляется на сайт надстройки. Чтобы добавить дополнительное действие на хост-сайт, можно включить (даже в надстройке с внешним размещением) разметку **CustomAction** в компонент, который находится в пакете надстройки, но вне WSP-файла. Компоненты в таком "свободном" компоненте относятся к хост-сайту, а не к сайту надстройки, поэтому такой тип компонентов называетсякомпонентом хост-сайта.</span><span class="sxs-lookup"><span data-stu-id="a941a-p112">**Custom actions:** In addition to adding custom actions to the add-in web, you can add them to the host web as well. To add the custom action to the add-in web, you include it in a **Web**-scoped Feature that is inside a .wsp file, just as you would include any other component you add to the add-in web. To add a custom action to the host web, you can include (even in an externally based add-in) **CustomAction** markup in a Feature that is in the add-in package but outside any .wsp file. Components in such a "loose" Feature apply to the host web, not the add-in web, so this type of Feature is called ahost web Feature.</span></span> 

- <span data-ttu-id="a941a-p113">**Веб-части.** Одну разновидность веб-частей, веб-часть надстройки, можно разворачивать в надстройке, и эта веб-часть может вести либо на сайт надстройки, либо на хост-сайт. На все остальные типы веб-частей можно ссылаться в надстройках, но они не могут разворачиваться в надстройках. Если веб-часть надстройки разворачивается на хост-сайте, ее необходимо включить в компонент хост-сайта.</span><span class="sxs-lookup"><span data-stu-id="a941a-p113">**Web Parts:** One kind of Web Part, an add-in part, can be deployed in an add-in, and an add-in part can go to either the add-in web or the host web. All other types of Web Parts can be referenced in add-ins, but not deployed by them. If an add-in part is deployed to the host web, it should be included in a host web Feature.</span></span>

- <span data-ttu-id="a941a-p114">**Удаленные приемники событий.** Удаленные приемники событий появились в SharePoint. Они похожи на классические приемники событий SharePoint, за исключением того, что код выполняется в облаке. Эти приемники событий недоступны в надстройках, размещенных в SharePoint.</span><span class="sxs-lookup"><span data-stu-id="a941a-p114">**Remote event receivers:** These are new in SharePoint. They resemble classic SharePoint event receivers except that the code runs in the cloud. These are not available in a SharePoint-hosted add-in.</span></span>

- <span data-ttu-id="a941a-p115">**Рабочие процессы.** Рабочие процессы в SharePoint используют среду выполнения workflow-процессов, размещенную в Microsoft Azure, которая появилась в SharePoint. Закодированные рабочие процессы, которые используют среду выполнения workflow-процессов, размещенную в SharePoint, не могут включаться в Надстройка SharePoint. Разрешены только декларативные рабочие процессы или рабочие процессы, использующие новейшую среду выполнения.</span><span class="sxs-lookup"><span data-stu-id="a941a-p115">**Workflows:** Workflows in SharePoint use the Microsoft Azure-hosted workflow runtime that is new in SharePoint. Coded workflows that use the SharePoint-hosted workflow runtime cannot be included in a SharePoint Add-in. Only declarative workflows or workflows that use the newer runtime are allowed.</span></span>

- <span data-ttu-id="a941a-189">**Модели Microsoft Business Connectivity Services (BCS), типы внешнего контента и внешние списки.** Модели службы подключения к бизнес-данным (BDC) обычно имеют область, которая шире, чем семейство веб-сайтов.</span><span class="sxs-lookup"><span data-stu-id="a941a-189">**Microsoft Business Connectivity Services (BCS) models, external content types, and external lists:** Business Data Connectivity (BDC) service models typically have a scope that is wider than a site collection.</span></span> <span data-ttu-id="a941a-190">Но когда модель службы подключения к бизнес-данным развертывается в надстройке, ее область ограничивается областью сайта надстройки.</span><span class="sxs-lookup"><span data-stu-id="a941a-190">However, when a BDC service model is deployed in an add-in, its scope is limited to the add-in web.</span></span> <span data-ttu-id="a941a-191">Когда модель службы подключения к бизнес-данным включается в надстройку, она хранится не в хранилище общих служб BDC,</span><span class="sxs-lookup"><span data-stu-id="a941a-191">When a BDC service model is included in an add-in, it is not stored in the BDC service shared service store.</span></span> <span data-ttu-id="a941a-192">а в виде файла на сайте надстройки.</span><span class="sxs-lookup"><span data-stu-id="a941a-192">Instead, it is stored as a file in the add-in web.</span></span>

- <span data-ttu-id="a941a-193">**Шаблоны веб-сайтов.** В большинстве случаев вам потребуется, чтобы сайт надстройки устанавливал новую встроенную конфигурацию определений сайта **APP#0**, оптимизированную для сайтов надстройки.</span><span class="sxs-lookup"><span data-stu-id="a941a-193">**Web Templates:** In most cases, you will want the add-in web to instantiate the new built-in site definition configuration **APP#0**, which is optimized for add-in webs.</span></span> <span data-ttu-id="a941a-194">(Дополнительные сведения об этом см. в разделе [Доступ к надстройке из пользовательского интерфейса](important-aspects-of-the-sharepoint-add-in-architecture-and-development-landscap.md#AccessingApp).) SharePoint автоматически использует **APP#0**, если пакет надстройки не включает элемент [WebTemplate](http://msdn.microsoft.com/library/ff4ba91a-cc5f-47ff-9101-a7651f452185%28Office.15%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="a941a-194">(For more information, see [Accessing the add-in from the UI](important-aspects-of-the-sharepoint-add-in-architecture-and-development-landscap.md#AccessingApp).) SharePoint automatically uses **APP#0** when the add-in package does not include a [WebTemplate](http://msdn.microsoft.com/library/ff4ba91a-cc5f-47ff-9101-a7651f452185%28Office.15%29.aspx) element.</span></span>
    
   <span data-ttu-id="a941a-p118">Кроме того, можно задать пользовательского тип для сайта надстройки. Для этого необходимо выполнить два основных действия.</span><span class="sxs-lookup"><span data-stu-id="a941a-p118">You can also define a custom site type for the add-in web. There are two major steps to doing this:</span></span>
    
   - <span data-ttu-id="a941a-197">Включите пользовательский [элемент WebTemplate (шаблон веб-сайта)](http://msdn.microsoft.com/library/ff4ba91a-cc5f-47ff-9101-a7651f452185%28Office.15%29.aspx), файл onet.xml и, возможно, другие связанные файлы в компонент сайта надстройки для вашей надстройки.</span><span class="sxs-lookup"><span data-stu-id="a941a-197">Include a custom [WebTemplate Element (Web Template)](http://msdn.microsoft.com/library/ff4ba91a-cc5f-47ff-9101-a7651f452185%28Office.15%29.aspx), an onet.xml file, and possibly other associated files, in the add-in web Feature for your add-in.</span></span> <span data-ttu-id="a941a-198">Разверните шаблон веб-сайта в веб-компоненте в WSP-файле внутри пакета надстройки как обычно.</span><span class="sxs-lookup"><span data-stu-id="a941a-198">Deploy the web template in the Web-scoped Feature in a .wsp file inside the add-in package as usual.</span></span>

   - <span data-ttu-id="a941a-199">Добавьте [элемент WebTemplate (PropertiesDefinition complexType) (манифест надстройки SharePoint)](http://msdn.microsoft.com/library/62302903-e97a-a9a3-a64e-13176a7c4e1e%28Office.15%29.aspx) в манифест надстройки в качестве потомка элемента **Properties** и установите для его атрибута **Id** значение GUID компонента сайта надстройки и значение **Name** атрибута [Элемент WebTemplate (шаблон веб-сайта)](http://msdn.microsoft.com/library/ff4ba91a-cc5f-47ff-9101-a7651f452185%28Office.15%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="a941a-199">Add a [WebTemplate element (PropertiesDefinition complexType) (SharePoint Add-in Manifest)](http://msdn.microsoft.com/library/62302903-e97a-a9a3-a64e-13176a7c4e1e%28Office.15%29.aspx) to the add-in manifest as a child of the **Properties** element, and set its **Id** attribute to the GUID of the add-in web Feature and the value of the **Name** attribute of the [WebTemplate Element (Web Template)](http://msdn.microsoft.com/library/ff4ba91a-cc5f-47ff-9101-a7651f452185%28Office.15%29.aspx).</span></span> <span data-ttu-id="a941a-200">Обратите внимание, что GUID должен быть заключен в фигурные скобки и содержать дефисы, а также отделяться от имени шаблона символом "#".</span><span class="sxs-lookup"><span data-stu-id="a941a-200">Note that the GUID must be hyphenated and wrapped in braces "{}", and the GUID and template name are separated by the "#" character.</span></span> <span data-ttu-id="a941a-201">Вот пример такого значения:</span><span class="sxs-lookup"><span data-stu-id="a941a-201">The following is an example:</span></span>
    
     ```XML
       <WebTemplate Id="{81dd4ae5-873b-4759-9838-4ad9c3dd2952}#NewSiteType" />
     ```

   > [!NOTE]
   > <span data-ttu-id="a941a-202">Новый элемент [WebTemplate](http://msdn.microsoft.com/library/62302903-e97a-a9a3-a64e-13176a7c4e1e%28Office.15%29.aspx) для манифестов надстроек отличается разметкой от элемента [WebTemplate](http://msdn.microsoft.com/library/ff4ba91a-cc5f-47ff-9101-a7651f452185%28Office.15%29.aspx), который можно включить в компоненты.</span><span class="sxs-lookup"><span data-stu-id="a941a-202">The new [WebTemplate](http://msdn.microsoft.com/library/62302903-e97a-a9a3-a64e-13176a7c4e1e%28Office.15%29.aspx) element for add-in manifests is not the same markup as the [WebTemplate](http://msdn.microsoft.com/library/ff4ba91a-cc5f-47ff-9101-a7651f452185%28Office.15%29.aspx) element that can be included in Features.</span></span> <span data-ttu-id="a941a-203">Элемент **WebTemplate**, который можно включить в компоненты, определяет тип сайта, но элемент **WebTemplate** для манифестов надстроек просто указывает на используемый тип сайтов.</span><span class="sxs-lookup"><span data-stu-id="a941a-203">The **WebTemplate** element that can be included in Features defines a type of site, but the **WebTemplate** element for add-in manifests simply identifies what type of site to use.</span></span> <span data-ttu-id="a941a-204">Дополнительные сведения о манифесте надстройки SharePoint см. в разделе [Структура пакета надстройки](important-aspects-of-the-sharepoint-add-in-architecture-and-development-landscap.md#SPAppModelArch_Package).</span><span class="sxs-lookup"><span data-stu-id="a941a-204">For more information about the add-in manifest of a SharePoint Add-in, see [Add-in package structure](important-aspects-of-the-sharepoint-add-in-architecture-and-development-landscap.md#SPAppModelArch_Package).</span></span>

   > [!CAUTION]
   > <span data-ttu-id="a941a-205">Не используйте элемент **WebTemplate** в манифесте надстройки для указания какой-либо из встроенных конфигураций определений сайта SharePoint в качестве типа веб-сайта надстройки.</span><span class="sxs-lookup"><span data-stu-id="a941a-205">Do not use the **WebTemplate** element in the add-in manifest to designate any of the built-in SharePoint site definition configurations as the add-in web's site type.</span></span> <span data-ttu-id="a941a-206">Для сайтов надстройки не поддерживается использование какой-либо из встроенных конфигураций определений сайта, кроме **APP#0**.</span><span class="sxs-lookup"><span data-stu-id="a941a-206">We do not support using any of the built-in site definition configurations, other than **APP#0**, for add-in webs.</span></span> 

   <span data-ttu-id="a941a-207">Дополнительные сведения о конфигурациях определений сайта и шаблонах веб-сайтов см. в статье [Работа с шаблонами и определениями](http://msdn.microsoft.com/library/1edf6d4d-eddb-4cb5-9034-ed394e8a3e01%28Office.15%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="a941a-207">For more information about site definition configurations and web templates, see  [Working with Site Templates and Definitions](http://msdn.microsoft.com/library/1edf6d4d-eddb-4cb5-9034-ed394e8a3e01%28Office.15%29.aspx).</span></span>
    
## <a name="see-also"></a><span data-ttu-id="a941a-208">См. также</span><span class="sxs-lookup"><span data-stu-id="a941a-208">See also</span></span>
<span data-ttu-id="a941a-209"><a name="SP15hostedwebs_bk_addlresources"> </a></span><span class="sxs-lookup"><span data-stu-id="a941a-209"><a name="SP15hostedwebs_bk_addlresources"> </a></span></span>

- [<span data-ttu-id="a941a-210">Важные аспекты разработки и архитектуры для надстроек SharePoint</span><span class="sxs-lookup"><span data-stu-id="a941a-210">Important aspects of the SharePoint Add-in architecture and development landscape</span></span>](important-aspects-of-the-sharepoint-add-in-architecture-and-development-landscap.md)
- [<span data-ttu-id="a941a-211">Безопасный доступ к данным и клиентские объектные модели для надстроек SharePoint</span><span class="sxs-lookup"><span data-stu-id="a941a-211">Secure data access and client object models for SharePoint Add-ins</span></span>](secure-data-access-and-client-object-models-for-sharepoint-add-ins.md)
- [<span data-ttu-id="a941a-212">Сравнение надстроек SharePoint с решениями SharePoint</span><span class="sxs-lookup"><span data-stu-id="a941a-212">SharePoint Add-ins compared with SharePoint solutions</span></span>](http://msdn.microsoft.com/library/0e9efadb-aaf2-4c0d-afd5-d6cf25c4e7a8%28Office.15%29.aspx)

