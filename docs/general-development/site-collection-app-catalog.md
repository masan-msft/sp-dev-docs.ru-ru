---
title: "Использование каталога приложений в семействе веб-сайтов"
ms.date: 12/14/2017
ms.prod: sharepoint
ms.assetid: fdf7ecb1-9951-475b-b058-3285fba77b68
ms.openlocfilehash: 28d98344b8cab6334b86394aa190eca2cf32cb65
ms.sourcegitcommit: e157d51378190ddfed6394ba154ce66141c8ca33
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/19/2018
---
# <a name="use-the-site-collection-app-catalog"></a>Использование каталога приложений в семействе веб-сайтов

_**Область применения:** Office 365_

С помощью каталогов приложений в семействах веб-сайтов администраторы клиентов SharePoint могут рассредоточить управление и ограничить развертывание надстроек SharePoint и решений SharePoint Framework определенными сайтами.

## <a name="why-site-collection-app-catalogs"></a>Зачем нужны каталоги приложений в семействах веб-сайтов

Ранее всеми надстройками и решениями SharePoint Framework необходимо было централизованно управлять в каталоге приложений клиента. Администраторы клиентов могли делегировать доступ другим пользователям в организации, но развернутый пакет был виден во всех семействах веб-сайтов. В SharePoint нет поддерживаемого способа развертывания надстроек и решений SharePoint Framework только на определенных сайтах.

С появлением каталогов приложений для семейств веб-сайтов у администраторов клиентов появилась возможность включать каталог на определенных сайтах. После этого администраторы семейств веб-сайтов могут развертывать надстройки SharePoint и решения SharePoint Framework, которые будут доступны только в соответствующем семействе веб-сайтов.

На приведенной ниже схеме показано использование каталогов приложений в семействе веб-сайтов.

![Схема, иллюстрирующая понятие каталога приложений для семейства веб-сайтов](../images/site-collection-app-catalog-diagram.png)

В клиенте Office 365 есть клиентский каталог приложений. Решения, развернутые в этом каталоге, можно установить в любом семействе веб-сайтов в клиенте. Администраторы клиентов могут включать каталоги приложений в определенных семействах веб-сайтов. Решения, развернутые в таких каталогах, можно устанавливать только в соответствующем семействе веб-сайтов.

## <a name="supported-capabilities"></a>Поддерживаемые возможности

### <a name="support-for-both-sharepoint-add-ins-and-sharepoint-framework-packages"></a>Поддержка надстроек SharePoint и пакетов SharePoint Framework

В каталогах приложений для семейств веб-сайтов, как и в каталоге приложений для клиента, можно развертывать не только надстройки SharePoint, но и решения SharePoint Framework (SPPKG-файлы).

### <a name="including-assets-in-solution-packages"></a>Включение ресурсов в пакеты решений

Пакеты решений SharePoint Framework, содержащие ресурсы, можно развертывать в каталогах приложений для семейств веб-сайтов. Включенные в них ресурсы развертываются в заранее настроенной библиотеке документов в том же семействе веб-сайтов, где находится каталог приложений. Если настроена общедоступная сеть доставки содержимого Office 365, ресурсы будут предоставляться из нее. В противном случае они будут поступать непосредственно из библиотеки документов.

> [!NOTE]
> В настоящее время развертывается исправление для корректной поддержки упаковывания ресурсов в каталогах приложений для семейств веб-сайтов. Оно должно стать доступным во всех клиентах до окончания 2017 г.

### <a name="tenant-scoped-deployment"></a>Развертывание на уровне клиента

При развертывании решений SharePoint Framework, поддерживающих развертывание на уровне клиента, в каталоге приложений для семейства веб-сайтов вам будет предложено сделать решение доступным на всех сайтах в организации. Несмотря на такую формулировку, при установке этого флажка решение сразу станет доступным **только в том семействе веб-сайтов, где находится каталог приложений**. Другие семейства веб-сайтов в организациях не смогут использовать решение. Если не включить этот параметр, потребуется явно установить решение на сайте, прежде чем использовать его.

## <a name="current-limitations"></a>Текущие ограничения

### <a name="application-lifecycle-management-alm-apis-are-not-yet-supported"></a>API управления жизненным циклом приложений (ALM) пока что не поддерживаются

В данный момент невозможно использовать недавно выпущенные API ALM для управления жизненным циклом решений в каталогах приложений для семейств веб-сайтов. Эта функция находится на стадии разработки. Она должна появиться в начале 2018 г.

## <a name="configure-and-manage-site-collection-app-catalogs"></a>Настройка каталогов приложений для семейств веб-сайтов и управление ими

Вы можете настраивать каталоги приложений для семейств веб-сайтов и управлять ими с помощью командной консоли SharePoint Online.

> [!NOTE]
> Чтобы управлять каталогами приложений в клиенте, установите [командную консоль SharePoint Online](https://www.microsoft.com/en-us/download/details.aspx?id=35588), выпущенную в ноябре 2017 г., или более поздней версии.

### <a name="create-a-site-collection-app-catalog"></a>Создание каталога приложений в семействе веб-сайтов

> [!NOTE]
> Прежде чем запускать приведенный ниже скрипт, подключитесь к клиенту SharePoint Online с помощью командлета `Connect-SPOService`. Кроме того, убедитесь, что в клиенте создан каталог приложений. В противном случае командлет вернет следующую ошибку:
> ```text
> Cannot invoke method or retrieve property from null object. Object returned by the
> following call stack is null. "TenantAppCatalog
> RootWeb
> GetSiteByUrl
> new Microsoft.Online.SharePoint.TenantAdministration.Tenant()
> "
> ```

Чтобы создать каталог приложений в семействе веб-сайтов, используйте командлет `Add-SPOSiteCollectionAppCatalog`, передав имя нужного семейства веб-сайтов в параметре `-Site`.

```powershell
# get a reference to the site collection where the
# site collection app catalog should be created
$site = Get-SPOSite https://contoso.sharepoint.com/sites/marketing

# create site collection app catalog
Add-SPOSiteCollectionAppCatalog -Site $site
```

После выполнения скрипта в семейство веб-сайтов будет добавлена библиотека **Приложения для SharePoint**, где можно будет развертывать надстройки SharePoint и решения SharePoint Framework.

### <a name="disable-the-site-collection-app-catalog"></a>Отключение каталога приложений в семействе веб-сайтов

> [!NOTE]
> Прежде чем запускать приведенный ниже скрипт, подключитесь к клиенту SharePoint Online с помощью командлета `Connect-SPOService`.

Чтобы отключить каталог приложений в семействе веб-сайтов, используйте командлет `Remove-SPOSiteCollectionAppCatalog`, передав имя нужного семейства веб-сайтов в параметре `-Site`. Кроме того, если вы знаете ИД семейства веб-сайтов, можно использовать командлет `Remove-SPOSiteCollectionAppCatalogById`.

> [!NOTE]
> Несмотря на их названия, командлеты `Remove-SPOSiteCollectionAppCatalog` и `Remove-SPOSiteCollectionAppCatalogById` не удаляют каталог приложений из семейства веб-сайтов. Они просто отключают его, чтобы в нем нельзя было развертывать решения и использовать их.

```powershell
# get a reference to the site collection in which
# the site collection app catalog should be disabled
$site = Get-SPOSite https://contoso.sharepoint.com/sites/marketing

# disable the site collection app catalog
Remove-SPOSiteCollectionAppCatalog -Site $site
```

После выполнения этого скрипта библиотека **Приложения для SharePoint** по-прежнему будет видна в семействе веб-сайтов, но в ней будет невозможно развертывать решения и использовать их.

## <a name="considerations"></a>Замечания

### <a name="governance"></a>Управление

В настоящее время невозможно получить список всех семейств веб-сайтов в клиенте, для которых включен каталог приложений.

### <a name="security"></a>Безопасность

Перед развертыванием решений в каталогах приложений для семейств веб-сайтов администраторы этих семейств должны проверять соответствие решений политикам организации. Решения, установленные в каталогах приложений для семейств веб-сайтов, можно использовать только в соответствующих семействах, но они могут получать доступ к ресурсам с других сайтов клиента, поэтому администраторам следует убедиться, что развертываемые решения работают надлежащим образом.

## <a name="see-also"></a>См. также

- [Управление каталогом приложений для семейства веб-сайтов](https://support.office.com/ru-RU/article/Manage-the-Site-Collection-App-Catalog-928b9b61-a9de-4563-a7d1-6231aa9d4d19)