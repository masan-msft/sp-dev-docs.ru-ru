---
title: "URL-адреса и токены в SharePoint"
ms.date: 09/25/2017
ms.prod: sharepoint
ms.openlocfilehash: 46db672ebf75166154351dc3b35b89ec803914e6
ms.sourcegitcommit: 1cae27d85ee691d976e2c085986466de088f526c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/13/2017
---
# <a name="urls-and-tokens-in-sharepoint"></a>URL-адреса и токены в SharePoint
Узнайте, как составлять URL-адреса и использовать токены URL-адресов в SharePoint.

## <a name="types-of-urls-in-sharepoint"></a>Типы URL-адресов в SharePoint
<a name="TypesOfURLs"> </a>

SharePoint анализирует строки URL-адресов для определения их формы на основе указанного протокола (например, **http:**) или размещении косой черты (/) в строке. В зависимости от конкретного элемента можно использовать следующие формы URL-адресов:
  
    
    

- **Абсолютный URL-адрес** указывает полный путь и начинается с обозначения протокола. Например, `http://` _домен_или_сервер_/[ `sites/`] _сайт_/ `Lists`/ _название_списка_/ `AllItems.aspx`.
    
  
- **URL-адрес относительно домена** основан на адресе домена (он может быть именем сервера) и всегда начинается с косой черты. Он определяет полный путь от веб-сайта верхнего уровня к имени файла. Например, /[`sites/`] _веб_сайт_/ `Lists`/ _название_списка_/ `AllItems.aspx`. 
    
  
- **URL-адрес относительно веб-сайта** основан на адресе объекта веб-сайта ([SPWeb](https://msdn.microsoft.com/library/Microsoft.SharePoint.SPWeb.aspx)). Он _не_ начинается с косой черты и указывает полный путь от адреса веб-сайта к имени файла. Например, `Lists/` _название_списка_/ `AllItems.aspx`.
    
  
- **URL-адрес относительно файла или папки** основан на папке, содержащей файл. Он _не содержит_ косых черт и просто указывает имя файла. Например, `AllItems.aspx`.
    
  

> **Примечание.** Не существует такого понятия, как "URL-адрес относительно семейства веб-сайтов". Передача такого URL-адреса может вызвать сбой кода. 
  
    
    


## <a name="good-practice-for-image-urls"></a>Рекомендации для URL-адресов изображений
<a name="GoodPracticeImageURL"> </a>

При создании URL-адреса файла изображения, расположенного в каталоге %ProgramFiles%\\Common Files\\Microsoft Shared\\web server extensions\\15\\TEMPLATE\\LAYOUTS\\1033\\IMAGES, укажите путь, использующий корневой веб-сайт семейства сайтов, но не включающий дочерний сайт. Например, используйте путь /_layouts/images/MyImage.gif вместо /MySubsite/_layouts/images/MyImage.gif. Это связано с тем, что URL-адреса дочерних сайтов сопоставляются по-разному в зависимости от того, где они используются. Эти варианты можно игнорировать, если вы всегда используете URL-адрес относительно корневого веб-сайта.
  
    
    

## <a name="url-tokens-in-sharepoint"></a>Маркеры URL-адресов в SharePoint
<a name="URLtokens"> </a>

SharePointподдерживает маркеры, приведенные в следующих таблицах, для любых Надстройки SharePoint и решений ферм. Кроме того, некоторые маркеры можно использовать только в приложениях. Дополнительные сведения о них см. в разделе  [Строки URL и маркеры в надстройках для SharePoint](http://msdn.microsoft.com/library/800ec8cd-a448-46bc-b41e-d4030eeb4048%28Office.15%29.aspx).
  
    
    
Маркеры, перечисленные в таблицах в этом разделе, можно использовать в URL-адресах в различных ситуациях в ходе разработки SharePoint, например в дополнительных действиях и ссылках на пользовательских страницах. Некоторые из этих маркеров нельзя использовать в определенных контекстах. Список допустимых маркеров ограничен для начальных страниц приложений, дополнительных действий на хост-сайтах и свойства веб-частей приложений  [Src](https://msdn.microsoft.com/library/Microsoft.SharePoint.WebControls.SPAppIFrame.Src.aspx) . Эти случаи вынесены в отдельные столбцы, но они не являются единственными областями применения маркеров.
  
    
    
В столбце **StartPage** указано, можно ли использовать маркер в элементе манифеста приложения **StartPage**. В столбце **Дополнительное действие** указано, можно ли использовать маркер в URL-адресе пользовательского действия на хост-сайте. В столбце **Веб-часть приложения** указано, можно ли использовать маркер в свойстве веб-части приложения [Src](https://msdn.microsoft.com/library/Microsoft.SharePoint.WebControls.SPAppIFrame.Src.aspx) .
  
    
    

**Маркеры, которые можно использовать в начале URL-адреса**


|**Маркер**|**Во что разрешается**|**StartPage**|**Дополнительное действие**|**Веб-часть приложения**|**Замечания**|
|:-----|:-----|:-----|:-----|:-----|:-----|
|~controlTemplates  <br/> |URL-адрес виртуальной папки ControlTemplates для текущего веб-сайта.  <br/> |Нет  <br/> |Нет  <br/> |Нет  <br/> ||
|~layouts  <br/> |URL-адрес виртуальной папки Layouts для текущего веб-сайта.  <br/> |Нет  <br/> |Нет  <br/> |Нет  <br/> ||
|~site  <br/> |URL-адрес текущего веб-сайта.  <br/> |Нет  <br/> |Нет  <br/> |Да  <br/> ||
|~sitecollection  <br/> |URL-адрес родительского семейства сайтов для текущего веб-сайта.  <br/> |Нет  <br/> |Нет  <br/> |Да  <br/> ||
   
Если не указано обратное, перечисленные в следующей таблице маркеры нельзя использовать в части  *path*  свойства веб-части приложения [Src](https://msdn.microsoft.com/library/Microsoft.SharePoint.WebControls.SPAppIFrame.Src.aspx) . Столбец **Веб-часть приложения** относится к их использованию в части значения *query string*  .
  
    
    

**Маркеры, которые можно использовать в URL-адресе**


|**Маркер**|**Во что разрешается**|**StartPage**|**Дополнительное действие**|**Веб-часть приложения**|**Замечания**|
|:-----|:-----|:-----|:-----|:-----|:-----|
|{ControlTemplates}  <br/> |URL-адрес виртуальной папки ControlTemplates для текущего веб-сайта.  <br/> |Нет  <br/> |Нет  <br/> |Нет  <br/> ||
|{ItemId}  <br/> |Идентификатор элемента в списке или библиотеке (целое значение).  <br/> |Нет  <br/> |Да  <br/> |Нет  <br/> ||
|{ItemUrl}  <br/> |URL-адрес элемента, с которым выполняется действие.  <br/> |Нет  <br/> |Да  <br/> |Нет  <br/> ||
|{Layouts}  <br/> |URL-адрес виртуальной папки Layouts для текущего веб-сайта.  <br/> |Нет  <br/> |Нет  <br/> |Нет  <br/> ||
|{ListId}  <br/> |Идентификатор текущего списка (GUID).  <br/> |Нет  <br/> |Да  <br/> |Нет  <br/> ||
|{RecurrenceId}  <br/> |Индекс повторения повторяющегося события.  <br/> |Нет  <br/> |Да  <br/> |Нет  <br/> |Этот маркер не поддерживается для контекстных меню элементов списков.  <br/> |
|{Site}  <br/> |URL-адрес текущего веб-сайта.  <br/> |Нет  <br/> |Да  <br/> |Да  <br/> ||
|{SiteCollection}  <br/> |URL-адрес родительского сайта для текущего веб-сайта.  <br/> |Нет  <br/> |Да  <br/> |Да  <br/> ||
|{SiteUrl}  <br/> |URL-адрес текущего веб-сайта.  <br/> |Нет  <br/> |Да  <br/> |Нет  <br/> ||
|{Source}  <br/> |URL-адрес HTTP-запроса.  <br/> |Нет  <br/> |Да  <br/> |Нет  <br/> ||
   

## <a name="additional-resources"></a>Дополнительные ресурсы
<a name="SP15URLS_addlresources"> </a>


-  [Создавайте решения фермы в SharePoint](https://msdn.microsoft.com/ru-RU/library/office/jj163902.aspx)
    
  
-  [Расширенная поддержка экстрасети](http://msdn.microsoft.com/library/21d67796-23c5-4339-8f0e-124208d21ab2%28Office.15%29.aspx)
    
  
-  [Получение ссылок на сайты, веб-приложения и другие ключевые объекты](http://msdn.microsoft.com/library/8623ef1d-e3cc-426c-84a3-6379e0ae284f%28Office.15%29.aspx)
    
  
-  [Работа с объектами List и коллекциями](http://msdn.microsoft.com/library/d4167b10-6f1e-49f1-8b22-16ce20012a27%28Office.15%29.aspx)
    
  
-  [Базовые задачи объектной модели](http://msdn.microsoft.com/library/94d6898d-6a0f-43a7-ad06-1b27ec6916ea%28Office.15%29.aspx)
    
  
