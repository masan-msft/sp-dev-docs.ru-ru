---
title: "Обзор SharePoint и службы теневого копирования томов"
ms.date: 09/25/2017
ms.prod: sharepoint
ms.assetid: d1cb6653-bfc0-4af2-b221-d7d30cb40d84
ms.openlocfilehash: 16ba81e41273df0243063aeae3d80030b718fa61
ms.sourcegitcommit: 0a94e0c600db24a1b5bf5895e6d3d9681bf7c810
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/07/2017
---
# <a name="overview-of-sharepoint-and-the-volume-shadow-copy-service"></a>Обзор SharePoint и службы теневого копирования томов
 **Сводка:** Сведения об интерфейсе Microsoft SharePoint для службы теневого копирования томов (VSS).
Для резервного копирования поставщиков тома теневой копии Service (VSS) упрощает резервное копирование Microsoft server решений с помощью централизованного API. Microsoft SharePoint Foundation включает в себя ссылочной модуля записи VSS (в дальнейшем, называемое «SPF-VSS Writer»), которая интегрируется с платформой резервного копирования Windows служба теневого копирования ТОМОВ Включение приложений резервного копирования для резервного копирования и восстановления данных SharePoint Foundation. Он поддерживает аварийное перезаписи сценария для всей фермы (включенные индекс поиска). На восстановление он подключается баз данных, а также сведения об сопоставлений.
  
    
    


## <a name="design-of-the-system"></a>Проектирование системы

На следующем рисунке показаны основные компоненты системы: Microsoft Windows Server и службы теневого копирования томов, SharePoint Foundation (и записи SPF-VSS для Windows Server теневого копирования тома) и приложение стороннего (или настраиваемого) резервного копирования и восстановления (включая запрашивающего и поставщика).
  
    
    

  
    
    
![Отношения между SharePoint и VSS](../images/77a290e8-e4aa-4c54-b1ec-3d74bf3962b6.gif)
  
    
    
VSS взаимодействует с файловой системой Windows Server и драйвера запоминающего устройства через стороннего (или настраиваемого) поставщика. Поставщик оборудования необходимо определить, где создается теневая копия. VSS абстрагирует конкретной аппаратной теневой копии, поэтому приложение резервного копирования и восстановления можно получить доступ к теневой копии единообразную не зная деталей оборудования. 
  
    
    
Хранилище SharePoint Foundation является компонентом SharePoint Foundation и обращается к SharePoint Foundation группы хранения файловой системой Windows Server. В файловой системе каждая группа хранения SharePoint Foundation содержит конфигурации, содержимое, сторонним базам данных, зарегистрированные в файлы индекса поиска и базы данных конфигурации и базы данных поиска. Также включены все службы построены на SharePoint Foundation платформу приложения службы. 
  
    
    
Чтобы обеспечить поддержку VSS, SharePoint Foundation включает в себя записи SPF-VSS. Модуль записи SPF-VSS координирует в хранилище SharePoint Foundation (действующие от имени запрашивающей стороны) и отключить перед его резервное копирование группы хранения и Чтобы разморозить и подключить группу хранения после резервного копирования завершена.
  
    
    
Во время восстановления резервное копирование и восстановление приложения указывает, что модуль записи SPF-VSS для координации с хранилищем SharePoint Foundation (действующие от имени запрашивающего) отключить группы хранения и файлы базы данных подключить группу хранения.
  
> [!NOTE]
> Важные сведения о восстановлений в разделе «Восстановление» в [опросчики VSS и SharePoint](vss-requestors-and-sharepoint.md) .
  
    
    

Запрашивающая сторона является приложением стороннего (или настраиваемого) предназначен для использования VSS для правильной резервное копирование и восстановление данных SharePoint Foundation . Запрашивающая сторона взаимодействует со службой VSS для получения информации о SharePoint Foundation, команда создания теневых копий и доступа к данным для резервного копирования. 
  
    
    
При восстановлении, запрашивающая сторона также взаимодействует с VSS для подготовки системы к операции восстановления, а затем поместить данные обратно на запоминающее устройство. Программа архивации/восстановления также отвечает за работу с сервером Windows для чтения и записи данных на носителе архива, ли архивировать ленты, сети хранения данных или другой носитель данных резервных копий. 
  
    
    
Сведения, необходимые для успешного выполнения резервного копирования операций и восстановления между SharePoint Foundation, VSS и приложений резервного копирования и восстановления, передается как часть метаданных модуля записи SPF VSS.
  
    
    
Ниже приведен высокоуровневый последовательность событий при выполнении операций резервного копирования или восстановления.
  
    
    

  
    
    

1. Резервной копии программы (или агент) запускает запланированное задание. 
    
  
2. Запросчик службы VSS в программе резервного копирования/восстановления отправляет команду VSS вступили теневую копию выбранных SharePoint Foundation группы хранения. 
    
  
3. VSS взаимодействует с записи SPF-VSS для подготовки моментальной резервной копии. SharePoint Foundation запрещает административных действий для группы хранения, проверяет зависимости тома и приостанавливает все операции записи в базу данных и файлы журнала транзакций, предоставляя доступ только для чтения. 
    
  
4. VSS взаимодействует с соответствующим поставщиком хранилища для создания теневой копии тома хранилища, содержащего группу хранения SharePoint Foundation . 
    
  
5. VSS освобождает SharePoint Foundation , чтобы вернуться в обычный режим работы.
    
  
6. Запросчик службы VSS проверяет целостность резервной копии до передачи сигналов резервное копирование выполнено успешно. SharePoint Foundation регистрирует время последнего резервного копирования базы данных.
    
  

## <a name="see-also"></a>См. также
<a name="bk_addresources"> </a>


-  [Модуль записи SharePoint VSS](sharepoint-vss-writer.md)
    
  
-  [Опросчики VSS и SharePoint](vss-requestors-and-sharepoint.md)
    
  
-  [Как: создание опросчика VSS для использования с SharePoint](how-to-create-a-vss-requestor-for-use-with-sharepoint.md)
    
  
-  [Как: резервное копирование и восстановление SharePoint с использованием модуля запросов VSS](how-to-back-up-and-restore-sharepoint-using-a-vss-requestor.md)
    
  
-  [Как: резервное копирование и восстановление приложения-службы поиска в SharePoint с использованием служба теневого копирования ТОМОВ](how-to-back-up-and-restore-a-search-service-application-in-sharepoint-using.md)
    
  
-  [Starting and Configuring the WSS Writer Service](http://msdn.microsoft.com/library/c9243dd6-e61e-4783-9fef-48d0122f1c09.aspx)
    
  
-  [Служба теневого копирования томов](http://msdn.microsoft.com/en-us/library/windows/desktop/bb968832%28v=vs.85%29.aspx)
    
  
-  [Тома теневой копии службы Технический справочник](http://msdn.microsoft.com/en-us/library/windows/desktop/aa384648%28v=vs.85%29.aspx)
    
  

