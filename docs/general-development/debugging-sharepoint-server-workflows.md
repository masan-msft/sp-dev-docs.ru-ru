---
title: "Отладка рабочих процессов SharePoint"
ms.date: 09/25/2017
ms.prod: sharepoint
ms.assetid: a5adf39b-8640-4871-be60-b786dcf9fafc
ms.openlocfilehash: c8bbf5be25d073bdc08cbccfe2642411269a25e1
ms.sourcegitcommit: 1cae27d85ee691d976e2c085986466de088f526c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/13/2017
---
# <a name="debugging-sharepoint-workflows"></a>Отладка рабочих процессов SharePoint
В этой статье описываются обработка рабочих процессов SharePoint и управление ими в Workflow Manager 1.0, а также способы отладки.
 **Автор:** [Эндрю Коннел (Andrew Connell)](http://social.msdn.microsoft.com/profile/andrew%20connell%20%5bmvp%5d/), [www.AndrewConnell.com](http://www.andrewconnell.com)
  
    

В SharePoint корпорация Майкрософт изменила подход к рабочим процессам по сравнению с предыдущими версиями. Команда разработчиков рабочих процессов в сотрудничестве с командой разработчиков Azure создала новый продукт под названием Workflow Manager. В Workflow Manager размещаются последняя версия среды выполнения Windows Workflow Foundation и все необходимые службы с высоким уровнем доступности и масштабируемости. Производительность и масштабируемость обеспечивает служебная шина Microsoft Azure. Этот диспетчер работает абсолютно одинаково в локальном развертывании и облаке, подобно Office 365. Затем SharePoint подключается и настраивается, чтобы передать выполнение рабочих процессов и все сопутствующие задачи в ферму Workflow Manager.
  
    
    
Для этого изменения архитектуры потребовались некоторые изменения в двух основных средствах разработки рабочих процессов (SharePoint Designer 2013 и Visual Studio 2012), с помощью которых пользователи создавали настраиваемые рабочие процессы. Однако способы отладки, используемые разработчиками в SharePoint 2007 и SharePoint 2010, по-прежнему применимы. В новой архитектуре рабочие процессы, созданные с помощью SharePoint Designer 2013 или Visual Studio 2012, поддерживают использование Fiddler для отслеживания трафика между SharePoint и Workflow Manager.
  
    
    

## <a name="sharepoint-workflow-debugging-overview"></a>Общие сведения об отладке рабочих процессов SharePoint

Отладка пользовательских рабочих процессов SharePoint похожа на отладку рабочих процессов предыдущих версий, в том числе SharePoint 2010 и SharePoint 2007. Доступные способы отладки зависят от того, какое средство используется для создания рабочего процесса (SharePoint Designer 2013 или Visual Studio 2012), и от типа развертывания SharePoint, например локального или Office 365 (размещаемого).
  
    
    
Разработчики рабочих процессов могут использовать четыре способа отладки:
  
    
    

- запись в журнал рабочего процесса;
    
  
- настройка точек останова;
    
  
- отправка сообщений отладки в консоль;
    
  
- мониторинг трафика между SharePoint и Workflow Manager с помощью Fiddler.
    
  
У каждого способа есть свои преимущества и недостатки. Полезно иметь представление о возможностях двух средств разработки рабочих процессов (SharePoint Designer 2013 или Visual Studio 2012), а также типе развертывания рабочих процессов (локальное или в Office 365). В таблице ниже представлена матрица средств разработки, целей развертывания и способов, доступных в каждом сценарии.
  
    
    


||**Локальное развертывание SharePoint**|**SharePoint Online в Office 365**|
|:-----|:-----|:-----|
|SharePoint Designer 2013, SharePoint Online  <br/> | Запись в журнал <br/>  Fiddler <br/> | Запись в журнал <br/> |
|Visual Studio 2012  <br/> | Запись в журнал <br/>  Точки останова <br/>  Сообщения отладки в консоли <br/>  Fiddler <br/> | Запись в журнал <br/>  Точки останова <br/> |
   

## <a name="debugging-with-the-workflow-history-list"></a>Отладка с помощью журнала рабочего процесса

Единственный способ отладки, доступный в каждом типе развертывания SharePoint,  запись сообщений в журнал рабочего процесса. Добавить строковое сообщение в список, который указан в сопоставлении рабочего процесса и является контейнером для всех сообщений журнала, можно с помощью действия **Записать в журнал** в SharePoint Designer 2013 или операции **WriteToHistory** в Visual Studio 2012. Эти строки могут быть простыми или составленными путем объединения значений переменных в рабочем процессе.
  
    
    
Отладка с помощью списка журнала не является идеальным решением, так как пользователям доступны сообщения. Поэтому после сеанса отладки и развертывания рабочего процесса в рабочей среде разработчик должен удалять эти сообщения, что создает дополнительный этап между отладкой и развертыванием. Тем не менее это единственный вариант, доступный в любом сценарии, независимо от средства, которое используется для создания рабочего процесса, и типа развертывания SharePoint.
  
    
    

## <a name="debugging-using-visual-studio-2012-breakpoints"></a>Отладка с помощью точек останова Visual Studio 2012

Еще один способ отладки  использование точек останова. Точки останова доступны только для рабочих процессов, созданных с помощью Visual Studio 2012, так как в SharePoint Designer 2013 невозможно создавать точки останова и подключать отладчик к запущенному процессу. Эти функции доступны в локальных развертываниях SharePoint и размещаемых развертываниях, например Office 365. В этом сценарии можно задать точку останова для операции в рабочем процессе, а затем запустить процесс в режиме отладки.
  
    
    

**Рисунок 1. Запуск рабочего процесса**

  
    
    

  
    
    
![Рис. 1. Запуск рабочего процесса](../images/ngDebuggingSP2013Workflows01.png)
  
    
    
Visual Studio развернет рабочий процесс в целевой среде SharePoint и подключит отладчик. Когда рабочий процесс достигает операции, для которой задана точка останова, фокус переключается на Visual Studio, после чего вы можете изучить значения переменных рабочего процесса и поочередно выполнить все операции из Visual Studio 2012, как показано на рисунке ниже.
  
    
    

**Рис. 2. Точка останова рабочего процесса**

  
    
    

  
    
    
![Рис. 2. Точка останова рабочего процесса](../images/ngDebuggingSP2013Workflows02.png)
  
    
    

  
    
    

  
    
    

## <a name="debugging-workflows-using-debug-messages-and-the-test-service-host"></a>Отладка рабочих процессов с помощью сообщений отладки и узла тестовой службы

После интеграции SharePoint с Workflow Manager появились два новых способа отладки, доступные при создании рабочих процессов с помощью Visual Studio 2012 и их тестировании в локальном развертывании. Visual Studio 2012 включает операцию **WriteLine**, которая принимает в качестве входного параметра одно строковое сообщение.
  
    
    

**Рис. 3. Операция WriteLine**

  
    
    

  
    
    
![Рис. 3. Операция WriteLine](../images/ngDebuggingSP2013Workflows.png)
  
    
    
Эта операция записывает сообщение подобно методу **System.Diagnostics.Debug.WriteLine()** в стандартном консольном приложении .NET для Windows. Средство разработки Workflow Manager 1.0 включает служебную программу консоли **Узел тестовой службы**, которую Visual Studio 2012 открывает при запуске нового сеанса отладки и тестировании в локальном развертывании SharePoint. Эта служебная программа, **Microsoft.Workflow.TestServiceHost.exe** в **C:\\Program Files (x86)\\Workflow Manager Tools\\1.0**, подключается к зарегистрированному экземпляру Workflow Manager и отслеживает сообщения, записанные с помощью операции **WriteLine**, как показано на рисунке ниже.
  
    
    

**Рис. 4. Сообщения для операции WriteLine**

  
    
    

  
    
    
![Рис. 4. Сообщения для операции WriteLine](../images/ngDebuggingSP2013Workflows04.png)
  
    
    
Эти сообщения похожи на комментарии к коду и сообщения отладки в консольном приложении. В отличие от записи в журнал рабочего процесса, эти сообщения не требуется удалять перед развертыванием в рабочей среде. Если служебная программа **Узел тестовой службы** не подключена к Workflow Manager, эти сообщения безопасны.
  
    
    
Этот способ отладки недоступен для рабочих процессов, созданных с помощью SharePoint Designer 2013, так как ни одно действие не соответствует операции **WriteLine**. К сожалению, этот способ отладки доступен только в локальных установках SharePoint, так как порт, используемый служебной программой "Узел тестовой службы" обычно недоступен за пределами локальной сети. Это также касается Office 365. Для подключения к Workflow Manager SharePoint использует те же порты, что и узел тестовой службы. Эти порты доступны только в доверенной сети. Однако это не означает, что вам необходимо изменять их рабочие процессы, что удалить операции **WriteLine** перед развертыванием Office 365. Их можно оставить в рабочем процессе, так как они не отображаются, если **узел тестовой службы** не подключен к Workflow Manager.
  
    
    

## <a name="debugging-using-fiddler-to-monitor-http-traffic"></a>Отладка с помощью Fiddler для отслеживания трафика HTTP

Последний способ отладки рабочих процессов SharePoint появился в результате изменения способа обработки рабочих процессов в текущей платформе. Как вы уже знаете, в SharePoint обработка всех рабочих процессов передается внешнему продукту — Workflow Manager 1.0. Если рабочему процессу необходимо взаимодействовать с SharePoint, например для обновления текущего состояния рабочего процесса, сбора данных элементов или пользователей на сайте SharePoint или работы с задачами, Workflow Manager использует REST API SharePoint для выполнения этих операций. SharePoint взаимодействует с Workflow Manager с помощью клиентской библиотеки, которая служит прокси-сервером для служб REST, предоставляемых программой Workflow Manager. Как SharePoint, так и Workflow Manager взаимодействуют друг с другом с помощью стандартных протоколов HTTP и HTTPS.
  
    
    
В этой архитектуре представлен новый способ отладки для разработчиков рабочих процессов. С помощью Fiddler, прокси-отладчика для HTTP, вы можете отслеживать все запросы и соответствующие ответы между двумя продуктами. Кроме того, с помощью Fiddler можно отслеживать и проверять все пользовательские службы, вызываемые пользовательскими рабочими процессами с помощью операции **HttpSend** в Visual Studio 2012 или соответствующего действия **Call HTTP Web Service** в SharePoint Designer 2013. Эта модель отладки также доступна независимо от средства, которое используется для создания рабочих процессов (SharePoint Designer 2013 или Visual Studio 2012).
  
    
    
Этот способ недоступен только при тестировании рабочих процессов с помощью развертывания SharePoint в Office 365. Так как весь трафик между SharePoint и Workflow Manager находится на стороне сервера, невозможно подключиться к одному из серверов в Office 365 и запустить Fiddler из консоли.
  
    
    
При использовании этого нового способа вам доступны все данные об обработчике рабочих процессов, что было невозможно при разработке рабочих процессов в предыдущих версиях SharePoint. 
  
    
    
Например, при вызове веб-службы вам доступны необработанные отклики от Workflow Manager или SharePoint. В некоторых случаях Workflow Manager может отправить в отклике определенное сообщение об ошибке. SharePoint включает понятные сообщения об ошибках, но они могут быть недостаточно подробными. С помощью Fiddler вы можете просмотреть подробное сообщение об ошибке, чтобы устранить проблему. 
  
    
    
Кроме того, вы можете просмотреть ответ, полученный после успешного вызова веб-службы. При работе с веб-службами в рабочих процессах (независимо от средства разработки) необходимо знать точное имя свойства (и путь, если это комплексный ответ) для значения, включенного в ответ. С помощью Fiddler вы можете просмотреть полные данные об ответе.
  
    
    

### <a name="understanding-sharepoint-and-workflow-manager-for-debugging-with-fiddler"></a>Общие сведения о SharePoint и диспетчере Workflow Manager для отладки с помощью Fiddler

Перед отладкой рабочих процессов в SharePoint и Workflow Manager 1.0 с помощью Fiddler необходимо выполнить некоторые действия по настройке в среде разработки. Прежде чем выполнять эти действия, полезно получить представление о принципе работы Fiddler и особенностях рабочих процессов в SharePoint.
  
    
    

#### <a name="fiddler-can-only-inspect-traffic-from-the-local-server"></a>Fiddler может проверять только трафик с локального сервера

Fiddler может перехватывать и проверять только запросы с локального сервера, на котором он запущен. Это может создавать сложности при использовании Fiddler в качестве отладчика рабочих процессов SharePoint. 
  
    
    
Если SharePoint и Workflow Manager 1.0 установлены на разных серверах, а Fiddler запущен на сервере SharePoint Server, то в Fiddler будет отображаться только трафик из источника запроса в SharePoint. Исходящий трафик из Workflow Manager 1.0, даже если он предназначен для SharePoint Server, не будет перехватываться.
  
    
    
Таким образом, отладка рабочих процессов становится проще, если SharePoint и Workflow Manager 1.0 установлены на одном сервере. Обратите внимание, что это не обязательно. Вы можете запускать Fiddler на серверах SharePoint Server и Workflow Manager, но отслеживать два экземпляра одного рабочего процесса на двух серверах будет сложнее.
  
    
    

#### <a name="fiddler-can-only-inspect-traffic-from-the-current-logged-on-user"></a>Fiddler может проверять только трафик от текущего пользователя

 Fiddler может перехватывать и проверять только трафик от текущего пользователя. Чтобы просмотреть трафик из SharePoint, необходимо войти в SharePoint Server с помощью учетной записи Windows, настроенной в качестве удостоверения пула приложений, в котором размещается веб-приложение для сайта SharePoint, который запускает рабочий процесс.
  
    
    
Это также касается Workflow Manager. Чтобы перехватывать и проверять трафик из Workflow Manager, необходимо войти на сервер с помощью удостоверения Windows, настроенного во время подготовки фермы Workflow Manager в качестве учетной записи службы для Workflow Manager.
  
    
    
Отладка рабочих процессов с помощью Fiddler становится еще проще, если Workflow Manager и SharePoint не только установлены и настроены на одном сервере, но и используют одно удостоверение Windows в качестве учетной записи службы. В этом случае Fiddler сможет перехватывать и проверять весь трафик из Workflow Manager и SharePoint.
  
    
    

#### <a name="sharepoint-must-trust-fiddlers-certificate"></a>SharePoint должен доверять сертификату Fiddler

Чтобы использовать Fiddler для отладки рабочих процессов SharePoint, необходимо понимать, как обрабатывается зашифрованный трафик. Зашифрованный трафик по протоколу HTTP, также известный как HTTPS, реализуется путем шифрования данных с помощью закрытого ключа сертификата и отправки их получателю. У получателя есть открытый ключ сертификата, связанный с закрытым ключом. Получив запрос, он может проверить отправителя, так как подпись зашифрованного содержимого совпадает с открытым ключом, только если оно было зашифровано с помощью закрытого ключа сертификата.
  
    
    
Fiddler может перехватывать трафик HTTPS и расшифровывать его, представляя в понятном для пользователя формате. После отображения запроса Fiddler использует собственный сертификат для повторного шифрования трафика и его отправки получателю. Тем не менее это может вызвать проблему, так как теперь получатель получил исходный отклик, не защищенный с помощью сертификата исходного отправителя. Это может создавать проблемы при отладке рабочих процессов SharePoint, так как SharePoint не доверяет сертификату Fiddler. Следовательно, чтобы использовать Fiddler для перехвата и проверки трафика HTTPS между SharePoint и Workflow Manager, среда SharePoint должна доверять сертификату Fiddler.
  
    
    

### <a name="configure-sharepoint-and-workflow-manager-10-for-workflow-debugging-with-fiddler"></a>Настройка SharePoint и Workflow Manager 1.0 для отладки рабочих процессов с помощью Fiddler

В следующих разделах показано, как настроить Fiddler и SharePoint для отладки рабочих процессов.
  
    
    

#### <a name="configure-the-net-framework-default-proxy-configuration"></a>Настройка конфигурации прокси-сервера .NET Framework по умолчанию

Для начала необходимо определить конфигурацию прокси-сервера по умолчанию для .NET Framework. Эти изменения позволят Fiddler перехватывать трафик как из SharePoint, так и из Workflow Manager. Откройте файл **machine.config** в каждом из следующих расположений:
  
    
    

-  `%systemdrive%\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Config\\machine.config`
    
  
-  `%systemdrive%\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319\\Config\\machine.config`
    
  
Затем добавьте следующую разметку в конце каждого файла, непосредственно перед закрывающим элементом **<configuration>**:
  
    
    



```xml

<system.net>
  <defaultProxy enabled="true">
    <proxy bypassonlocal="false" usesystemdefault="true" />
  </defaultProxy>
</system.net>
```

Сохраните изменения и закройте файлы.
  
    
    

#### <a name="configure-fiddler-to-intercept-and-inspect-https-traffic"></a>Настройка перехвата и проверки трафика HTTPS в Fiddler

Далее необходимо настроить перехват зашифрованного трафика и его расшифровку для настройки.
  
    
    

1. Запустите Fiddler.
    
  
2. Если используется локальный файл HOSTS, убедитесь, что записи включены в Fiddler, выбрав в меню команду **Tools -> HOSTS** (Сервис -> УЗЛЫ).
    
  
3. Установите флажок **Enable remapping of requests for one host to a different host or IP, overriding DNS** (Разрешить переназначение запросов одного узла запросам другого узла или IP-адреса в обход DNS).
    
  
4. Нажмите ссылку **Import Windows Hosts File** (Импортировать файл узлов Windows), а затем кнопку **Save** (Сохранить).
    
  

**Рис. 5. Переназначение узла**

  
    
    

  
    
    
![Рис. 5. Пользовательский интерфейс для использования локального файла HOSTS](../images/ngDebuggingSP2013Workflows05.png)
  
    
    
Затем настройте подключение Fiddler. 
  
    
    

  
    
    

1. Выберите в меню команду **Tools -> Fiddler Options** (Сервис -> Параметры Fiddler).
    
  
2. Откройте вкладку **Connections** (Подключения).
    
  
3. Снимите флажок **Chain to upstream gateway proxy** (Подключаться к вышестоящему прокси-серверу шлюза).
    
  
4. Установите флажки **Act as system proxy on startup** (Выполнять роль системного прокси-сервера при запуске) и **Monitor all connections** (Отслеживать все подключения), как показано на рисунке ниже.
    
   **Рис. 6. Параметры подключения Fiddler.**

  

  ![Рис. 6. Параметры подключения Fiddler](../images/ngDebuggingSP2013Workflows06.png)
  

  

  
5. В диалоговом окне **Fiddler Options** (Параметры Fiddler) откройте вкладку **HTTPS**.
    
  
6. Установите флажок **Capture HTTPS CONNECTs** (Захватывать подключения HTTPS).
    
  
7. Установите флажок **Decrypt HTTPS Traffic** (Расшифровывать трафик HTTPS).
    
  
8. Выберите пункт **??? from all processes** (От всех процессов).
    
  
9. Установите флажок **Ignore server certificate errors** (Игнорировать ошибки сертификатов).
    
  
10. Нажмите кнопку **Export Root Certificate to Desktop** (Экспортировать корневой сертификат на рабочий стол).
    
  
11. Когда появится предупреждение, нажмите кнопку **Yes** (Да), чтобы **доверять корневому сертификату Fiddler**.
    
  
Вы настроили доверие Windows (не SharePoint) к сертификату.
  
    
    

**Рис. 7. Вкладка "HTTPS"**

  
    
    

  
    
    
![Рис. 7. Вкладка "HTTPS"](../images/ngDebuggingSP2013Workflows07.png)
  
    
    
 >**Примечание.** Если появится предупреждение системы безопасности с указанием не доверять сертификату Fiddler, нажмите кнопку **Yes** (Да), чтобы продолжить установку сертификата.
  
    
    

#### <a name="configure-sharepoint-to-trust-the-certificate"></a>Настройка SharePoint на доверие сертификату

Вам осталось лишь настроить доверие SharePoint к сертификату Fiddler, экспортированному на предыдущем этапе. 
  
    
    

1. Войдите от имени администратора фермы SharePoint.
    
  
2. Запустите командную консоль SharePoint.
    
  
3. Загрузите оснастку SharePoint.
    
```powershell
  
PS C:\\> Add-PSSnapIn Microsoft.SharePoint.PowerShell
```

4. Установите сертификат Fiddler с помощью служебной программы.
    
```powershell
  PS C:\\> $fidderCertificatePath = [full path to exported FiddlerRoot.cer certificate file]
PS C:\\> certutil.exe -addstore -enterprise -f -v root $fidderCertificatePath
PS C:\\> $fiddlerCertificate = Get-PfxCertificate -FilePath $fidderCertificatePath
PS C:\\> New-SPTrustedRootAuthority -Name "Fiddler" -Certificate $fiddlerCertificate

```

5. Запустите команду IISRESET, чтобы убедиться, что состояние доверия SharePoint к сертификату изменилось.
    
  

### <a name="walkthrough-debugging-a-sharepoint-workflow-with-fiddler"></a>Пошаговое руководство. Отладка рабочего процесса SharePoint с помощью Fiddler

В этом простом пошаговом руководстве показано, как использовать Fiddler для отладки рабочего процесса SharePoint, созданного с помощью Visual Studio 2012. При запуске рабочий процесс получает идентификатор пользователя из поля настраиваемого списка. Запрос с этим идентификатором отправляется в общедоступную службу для получения дополнительных сведений о пользователе. Затем эти значения используются для обновления исходного элемента списка. Этот рабочий процесс можно найти в следующем примере кода на сайте MSDN: [Рабочий процесс SharePoint: вызов внешней веб-службы](http://code.msdn.microsoft.com/officeapps/SharePoint-workflow-48ea87d4.aspx).
  
    
    
Ниже приведены условия использования этого пошагового руководства.
  
    
    

- SharePoint и Workflow Manager 1.0 установлены на одном сервере.
    
  
- Удостоверение Windows **CONTOSO\\SP_Content** настроено для удостоверения пула приложений, в котором размещается веб-приложение, обслуживающее сайт SharePoint, который запускает рабочий процесс.
    
  
- Для запуска рабочего процесса используется сайт SharePoint **http://intranet.contoso.com**.
    
  
- Конечная точка фермы Workflow Manager 1.0 — **w15sp.contoso.com**.
    
  
- В SharePoint и Workflow Manager 1.0 разрешена авторизация OAuth через HTTP.
    
    > **Внимание!** Она никогда не используется на рабочем сервере (только для тестирования и отладки). 

1. Войдите на сервер, на котором установлены Workflow Manager и SharePoint с удостоверением Windows, настроенным в качестве учетной записи фермы Workflow Manager 1.0 и удостоверения пула приложений SharePoint.
    
  
2. Запустите Fiddler. Теперь он будет перехватывать трафик от текущего пользователя, но он может пропускать уже запущенные подключения или процессы. Чтобы Fiddler перехватывал трафик между Workflow Manager и SharePoint Server, перезапустите SharePoint (с помощью команды IISRESET) и Workflow Manager (остановив и заново запустив службу Windows **Workflow Manager Backend**). Для этого выполните указанные ниже команды в административной командной строке.
    
```powershell  
PS C:\\> IISRESET
PS C:\\> net stop WorkflowServiceBackend
PS C:\\> net start WorkflowServiceBackend
```

3. Запустите рабочий процесс.
    
  
Обратите внимание, что на приведенном ниже рисунке сеансы 18-36 созданы в SharePoint, а сеансы 37-43  в Workflow Manager.
  
    
    

**Рис. 8. Запуск рабочего процесса**

  
    
    

  
    
    
![Рис. 8. Запуск рабочего процесса](../images/ngDebuggingSP2013Workflows08.png)
  
    
    
Обратите внимание, что в сеансе № 36 SharePoint отправляет компоненту Workflow Manager запрос на запуск рабочего процесса (отмечено буквой [A] на рисунке), а Workflow Manager отвечает (отмечено буквой [B] на рисунке) сообщением об успешном выполнении:
  
    
    

**Рис. 9. Отклик с сообщением об успешном выполнении**

  
    
    

  
    
    
![Рис. 10. Сообщение об успешном выполнении](../images/ngDebuggingSP2013Workflows10.png)
  
    
    
Во время сеанса 40 Workflow Manager получает код и GUID элемента списка из SharePoint.
  
    
    

**Рис. 10. Получение кода и GUID элемента**

  
    
    

  
    
    
![Рис. 10. Получение кода элемента списка и GUID](../images/ngDebuggingSP2013Workflows11.png)
  
    
    
Во время сеанса 43 Workflow Manager изменяет значение поля **Body** в элементе списка SharePoint, передавая объект Нотация объектов JavaScript (JSON) (отмечено буквой [A] на рисунке) в качестве полезной нагрузки. SharePoint отвечает кодом состояния HTTP 204, который означает, что запрос успешно обработан, но в ответе нет сообщения.
  
    
    

**Рис. 11. Обновление элемента списка**

  
    
    

  
    
    
![Рис. 11. Обновление элемента списка в SharePoint](../images/ngDebuggingSP2013Workflows12.png)
  
    
    

  
    
    

  
    
    

## <a name="conclusion"></a>Заключение

В выпуске SharePoint появился новый уровень абстрагирования рабочих процессов — Workflow Manager 1.0. Эта новая архитектура изменила способ обработки рабочих процессов. Теперь SharePoint использует Workflow Manager 1.0 для обработки рабочих процессов и управления ими.
  
    
    
При создании приложений и бизнес-процессов в рабочих процессах необходимо выполнять отладку. В новой архитектуре рабочих процессов SharePoint представлены те же способы отладки, что и в предыдущих версиях SharePoint. Кроме того, в ней представлены два новых способа, доступных при создании рабочих процессов с помощью новой архитектуры. В этой статье мы рассмотрели как старые, так и новые способы отладки с использованием операции **WriteLine**, а также перехват и проверку трафика между SharePoint и Workflow Manager 1.0 с помощью Fiddler.
  
    
    

## <a name="additional-resources"></a>Дополнительные ресурсы
<a name="bk_addresources"> </a>


-  [Fiddler](http://fiddler2.com/home)
    
  

  
    
    

