---
title: "Как добавить фрагмент Trim безопасности в SharePoint"
ms.date: 09/25/2017
ms.prod: sharepoint
ms.assetid: 4beaab08-760b-408a-b768-906312779379
ms.openlocfilehash: 4b6dd168f921d249159a05cf6266ae2ca79cf698
ms.sourcegitcommit: 1cae27d85ee691d976e2c085986466de088f526c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/13/2017
---
# <a name="how-to-add-a-security-trim-snippet-in-sharepoint"></a>Как: добавить фрагмент Trim безопасности в SharePoint
Вы можете использовать фрагмент фильтрации по ролям безопасности, чтобы отображать контент только для указанных пользователей, имеющих специальное разрешение и прошедших или не прошедших (анонимные пользователи) проверку подлинности.
## <a name="introduction-to-the-security-trim-snippet"></a>Общие сведения о фрагменте Trim безопасности
<a name="Introduction"> </a>

Фрагмент Trim безопасности можно использовать для отображения содержимого только для конкретных пользователей, на основании конкретные разрешения, эти пользователи должны иметь, и являются ли тех пользователей, прошедших проверку подлинности или анонимного. Панель Trim безопасности можно добавить к главной странице или макету страницы. Панель Trim безопасности является контейнером, который может содержать другие компоненты или в дополнение к статического содержимого фрагменты кода, например веб-части.
  
    
    
К примеру можно использовать панель Trim безопасности должно отображаться следующее содержимое для конкретных пользователей:
  
    
    

- Контент по веб-части поиска, которое отображает документы пользователя с разрешением в настоящее время работает в.
    
  
- Недавно измененные документов представления списка, таким образом, прошедшего проверку подлинности пользователи могут просматривать новые возможности на сайте.
    
  
- Контент по веб-части поиска, который отображает список посетителей без проверки подлинности рекомендуется ссылок на основании текущей статьи. Список рекомендаций по использованию может быть помех для прошедшего проверку подлинности контента авторов, работающих на сайте, но не важно для посетителей, не прошедшим проверку подлинности.
    
  
- Вход ссылка отдельно от ленты, не прошедшим проверку подлинности или пользователей, которые еще не проходить проверку подлинности.
    
    > **Примечание:** В этом ссылку входа автоматически вставляется в главную страницу, которая создается с помощью Дизайнера, но его можно удалить, если не требуется. 
      > Панель Trim безопасности имеет два важных свойств: для проверки подлинности и для разрешения (или авторизации). К примеру можно использовать панель Trim безопасности должно отображаться следующее содержимое для конкретных пользователей:
  
    
    

- **AuthenticationRestrictions** С помощью этого свойства можно ограничить панели прошедшего проверку подлинности либо анонимным пользователям, или выберите всех пользователей (все пользователи по умолчанию).
    
  
- **Разрешения** С помощью этого свойства можно выбрать определенное разрешение, которое необходимо пользователям для просмотра содержимого панели.
    
    > **Примечание:** Вы выбираете отдельных разрешений, не уровня разрешений. (Уровень разрешений — это набор предоставленных разрешений). Конечно Если проверка подлинности только анонимным пользователям, не обычно необходимо указать определенное разрешение, так как анонимные пользователи не обычно были указаны все разрешения SharePoint. Это имеет смысл использовать разрешения только с всем пользователям или всем прошедшим проверку подлинности пользователям.
  
    
    
На панели безопасности Trim имеется три варианта на ленте, перечисленные в столбце слева в таблице 1. В таблице 1 показано, как эти параметры определить конкретные разрешения, необходимые для пользователей, низкий уровень разрешений по умолчанию, которая включает в себя этого определенные разрешения и группы, которая связана этот уровень разрешений по умолчанию.)
  
    
    

> **Примечание:** Далее представлены параметры по умолчанию, которые могут быть изменены для любой заданной области действия, такие как семейства веб-сайтов, сайта, списка или элемента. 
  
    
    

К примеру Если панель Trim безопасности для **отображения для авторов**, с содержимым по умолчанию в этой панели отображается для пользователей в группе элементы и группы "Владельцы".
  
    
    

**В таблице 1. Сопоставление параметры панели уровни разрешений по умолчанию и группам**


|**Параметр удаления панели безопасности**|**Свойство разрешения**|**Разрешение**|**Уровень разрешений**|**Группа**|
|:-----|:-----|:-----|:-----|:-----|
|Показать авторов  <br/> |**AddAndCustomizePages** <br/> |Добавление и настройка страниц  <br/> |Contribute (или более поздней версии)  <br/> |Элементы  <br/> |
|Отображать для пользователей, прошедших проверку  <br/> |**ViewPages** <br/> |Просмотр страниц  <br/> |Read (или выше)  <br/> |Посетители  <br/> |
|Показать для администраторов  <br/> |**FullMask** <br/> |Выделить все  <br/> |Полный доступ  <br/> |Владельцы  <br/> |
   

### <a name="inserting-a-security-trim-panel"></a>Вставка панели Trim безопасности
<a name="InsertSnippet"> </a>

Как все фрагменты кода добавьте фрагмент Trim безопасности из коллекция фрагментов кода. Чтобы перейти к коллекция фрагментов кода, сначала нужно выбрать главную страницу или макет страницы для редактирования.
  
    
    

### <a name="to-insert-a-security-trim-panel"></a>Чтобы вставить панель Trim безопасности


1. Откройте свой сайт публикации.
    
  
2. Нажмите значок шестеренки "Параметры" в правом верхнем углу страницы, а затем выберите **Дизайнер**.
    
  
3. В диспетчере оформления на левой панели навигации слева выберите **Изменить главную страницу** или **Изменение макетов страниц**, в зависимости от того, какой тип файла требуется изменить.
    
  
4. Выберите имя главной страницы или макет страницы, который вы хотите добавить фрагмент для.
    
  
5. Чтобы открыть коллекцию фрагментов, выберите **Фрагменты** в правом верхнем углу страницы предварительного просмотра на стороне сервера.
    
  
6. На ленте перейдите на вкладку **Конструктор** нажмите кнопку **Обрезать безопасности**.
    
    Кроме того в раскрывающемся списке на кнопке **Trim безопасности**, можно выбрать пользователей, которым будет отображаться содержимого панели или можно увидеть дополнительные параметры, настроив значения важных свойств для панели.
    
  
7. В разделе **Об этом компоненте** в правой части коллекции фрагментов щелкните или выберите заголовок раздела, чтобы развернуть или свернуть группу свойств, а затем настройте все нужные настраиваемые параметры.
    
  
8. Настроив свойства, нажмите **Обновить**. При этом обновляется фрагмент HTML в левой части страницы, чтобы разметка отражала настраиваемые параметры. Вы всегда можете нажать кнопку **Сбросить**, чтобы восстановить исходные значения всех свойств.
    
  
9. В разделе **Фрагмент HTML** в левой части коллекции фрагментов выберите команду **Копировать в буфер обмена**.
    
  
10. В редакторе HTML откройте сопоставленный сетевой диск на своем компьютере, а затем откройте HTML-файл для эталонной страницы или макета, к которым добавляется фрагмент.
    
  
11. Вставьте фрагмент в том месте HTML-файла, где должна отображаться разметка.
    
    При добавлении фрагмента в макет страниц, убедитесь в том вставить фрагмент внутри **PlaceHolderMain**.
    
  
12. Замените **<div>** в разделе `class="DefaultContentBlock"` собственным контентом.
    
  
13. Сохраните страницу и затем обновить на сервере предварительного просмотра в диспетчере оформления, чтобы убедиться в том, что панель безопасности сократить отображается должным.
    
  

## <a name="understanding-the-snippet-markup"></a>Сведения о разметке фрагментов
<a name="UnderstandMarkup"> </a>

Наиболее важные части фрагмента Trim безопасности  это свойство **AuthenticationRestrictions** и свойство **Permissions** и **<div>** полужирным шрифтом ниже. **AuthenticationRestrictions** появится в разметке только в том случае, если изменено с **AllUsers**, которая используется по умолчанию. Если выбран **перезапуск** для фрагмента в коллекция фрагментов кода **AuthenticationRestrictions** удаляется из разметка, которая означает, что в фрагменте используется значение по умолчанию **AllUsers**.
  
    
    
**<div>**, где `class="DefaultContentBlock"`  заменить на собственный текст, который может содержать другие фрагменты кода и элементов управления.
  
    
    



```HTML

<div data-name="SecurityTrimmedAuthors">
    <!--CS: Start Security Trim Snippet-->
    <!--SPM:<%@Register Tagprefix="SharePoint" Namespace="Microsoft.SharePoint.WebControls" Assembly="Microsoft.SharePoint, Version=15.0.0.0, Culture=neutral, PublicKeyToken=71e9bce111e9429c"%>-->
    <!--MS:<SharePoint:SPSecurityTrimmedControl runat="server" AuthenticationRestrictions="AuthenticatedUsersOnly" Permissions="AddAndCustomizePages" PermissionContext="RootSite">-->
        <!--PS: Start of READ-ONLY PREVIEW (do not modify)--><span><!--PE: End of READ-ONLY PREVIEW-->
        <div class="DefaultContentBlock" style="border:medium black solid; background:yellow; color:black; margin:20px; padding:10px;">
        You should replace this div with content that renders based on your Security Trim Properties.
        </div>
        <!--PS: Start of READ-ONLY PREVIEW (do not modify)--></span><!--PE: End of READ-ONLY PREVIEW-->
    <!--ME:</SharePoint:SPSecurityTrimmedControl>-->
    <!--CE: End Security Trim Snippet-->
</div>
```


## <a name="additional-resources"></a>Дополнительные ресурсы
<a name="AdditionalResources"> </a>


-  [Введение: управление доступом пользователей с разрешениями](http://office.microsoft.com/en-us/sharepoint-foundation-help/introduction-control-user-access-with-permissions-HA102771919.aspx?CTT=1)
    
  
-  [Общие сведения об уровнях разрешений](http://office.microsoft.com/en-us/products/default-permission-levels-HA102772313.aspx?CTT=5&amp;origin=HA102771919)
    
  
-  [Фрагменты кода дизайнер SharePoint](sharepoint-design-manager-snippets.md)
    
  
-  [Создание сайтов для SharePoint](build-sites-for-sharepoint.md)
    
  
-  [Разработка макета сайта в SharePoint](develop-the-site-design-in-sharepoint.md)
    
  

