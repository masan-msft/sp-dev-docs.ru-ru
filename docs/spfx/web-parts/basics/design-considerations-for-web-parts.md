# <a name="design-considerations-for-sharepoint-client-side-web-parts"></a>Особенности проектирования клиентских веб-частей SharePoint

Для разработки веб-частей необходимо понимание [Office UI Fabric](http://dev.office.com/fabric). Все стили из [Fabric Core](https://github.com/OfficeDev/office-ui-fabric-core) (включая значки, оформление, использование цветов, анимация и адаптируемая сетка) загружаются по умолчанию и доступны веб-части. Не импортируйте копию Fabric для веб-части, так как может возникнуть конфликт с глобальной копией. Эти классы формируют основу стиля веб-части, от которой можно отклоняться, если требуется другое оформление, соответствующее фирменной символике компании.

## <a name="office-ui-fabric-react-components"></a>Компоненты Office UI Fabric React

Наряду с Office UI Fabric для создания веб-частей можно использовать компоненты Office UI Fabric React. Fabric React — это адаптируемая, рассчитанная на мобильные устройства коллекция компонентов, призванных ускорить и упростить создание веб-интерфейсов с помощью языка разработки Office.

В приведенном ниже примере со списком дел компоненты Fabric используются в области свойств, с помощью которой автор страницы может настраивать веб-часть.

![Пример веб-части списка дел, использующей Fabric](../../../../images/design-wp-todo-example.png)

Полный список стилей, вариантов оформления, цветов, значков и анимаций Office UI Fabric представлен на странице [Стили Office UI Fabric](http://dev.office.com/fabric/styles).


## <a name="responsive-behavior"></a>Адаптируемое поведение

На страницах нового интерфейса разработки SharePoint используется адаптируемая сетка Office UI Fabric, обеспечивающая приятный внешний вид каждой страницы. 

### <a name="max-width"></a>Максимальная ширина

Рекомендуем использовать во всех веб-частях максимальную ширину 100 %, чтобы обеспечить их правильное расплавление и корректную работу на любой странице. Ширина страниц и столбцов определяется шаблоном страницы, но разработчик может менять ее. Если для веб-части задано максимальное количество пикселей, это может непредсказуемым образом повлиять на функции и макет страницы при ее просмотре на экранах разной ширины.

![Адаптируемая максимальная ширина веб-части](../../../../images/design-wp-responsive-max-width.png)

### <a name="min-width"></a>Минимальная ширина

Все веб-части должны поддерживать расплавление, так как ширина страниц и столбцов может уменьшаться до 320 пикселей.

![Адаптируемая минимальная ширина веб-части](../../../../images/design-wp-responsive-min-width.png)

## <a name="web-part-published-mode-vs-edit-mode"></a>Сравнение режимов публикации и правки веб-частей

У нового интерфейса создания страниц SharePoint есть два режима:

* **Режим публикации**, в котором группа или аудитория может просматривать содержимое и работать с веб-частями.
* **Режим правки**, в котором авторы страницы могут добавлять и настраивать веб-части, чтобы добавлять содержимое на страницу.

### <a name="edit-mode"></a>Режим правки

#### <a name="add-hint-and-toolbox"></a>Подсказка о добавлении и панель элементов

Подсказка о добавлении — это горизонтальная линия со значком "плюс", которая отображается при выделении веб-части или наведении указателя мыши на нее и указывает, что авторы могут добавлять веб-части на свою страницу. Когда пользователь нажимает значок "плюс", открывается панель элементов. Панель элементов содержит все веб-части, которые можно добавить на страницу.

![Подсказка о добавлении и панель элементов веб-части](../../../../images/design-wp-toolbox.png)

#### <a name="toolbar"></a>Панель инструментов

Вертикальная панель инструментов и ограничивающий прямоугольник входят в состав платформы для каждой веб-части и предоставляются страницей. Для каждой веб-части на панели инструментов есть действия редактирования и удаления.

![Вертикальная панель инструментов для веб-части](../../../../images/design-wp-toolbar.png)

#### <a name="contextual-edits"></a>Контекстная правка

Для веб-частей следует разработать интерфейс в режиме WYSIWYG, где можно вводить данные и добавлять содержимое, которое увидит пользователь после публикации. Добавлять содержимое следует на странице, чтобы пользователь понимал, как оно будет выглядеть. Например, заголовки и описания следует вводить там, где будет отображаться текст, а новые задачи следует добавлять и редактировать в контексте страницы.

![Контекстная правка веб-частей](../../../../images/design-wp-contexual-edits.png)

#### <a name="item-level-edits"></a>Правка на уровне элементов

Пользовательский интерфейс веб-части может меняться. Например, текст может превращаться в текстовое поле для ввода ссылок, а при отображении интерфейса можно менять порядок элементов и отмечать задачи в веб-части.

![Правка веб-части на уровне элементов](../../../../images/design-wp-item-level-edits.png)

## <a name="property-panes"></a>Области свойств

Области свойств вызываются с помощью значка редактирования на панели инструментов. Области в первую очередь должны содержать параметры конфигурации для включения и отключения компонентов, которые либо отображаются на странице, либо вызывают службу для отображения содержимого.

![Оформление области свойств веб-части](../../../../images/design-wp-pp.png)

Существует три типа областей свойств, позволяющих создавать и оформлять веб-части в соответствии с потребностями бизнеса или клиентов.

### <a name="single-pane"></a>Одиночная область

Одиночная область используется для простых веб-частей с небольшим количеством настраиваемых свойств.

![Оформление одиночной области свойств веб-части](../../../../images/design-wp-pp-single.png)

### <a name="accordion-pane"></a>Область-гармошка

Область-гармошка используется для размещения групп свойств с большим количеством вариантов, образующих длинный прокручивающийся список. Например, у вас может быть три группы с названиями "Свойства", "Внешний вид" и "Макет", по десять компонентов в каждой.

#### <a name="accordion---one-group-open"></a>Гармошка с одной открытой группой

![Область-гармошка свойств веб-части с одной открытой группой](../../../../images/design-wp-pp-accordion.png)

#### <a name="accordion--two-groups-open-and-scrolled"></a>Гармошка с двумя открытыми прокручивающимися группами

![Область-гармошка свойств веб-части с двумя открытыми прокручивающимися группами](../../../../images/design-wp-pp-accordion-groups.png)


### <a name="property-pane-stepspages"></a>Ступенчатые и страничные области свойств

Ступенчатая область используется для группирования свойств на нескольких шагах или страницах, если веб-часть требуется настраивать в линейном порядке или параметры, выбранные на первом шаге, влияют на то, какие параметры отображаются на втором.

**Шаг 1 из 3**![Область свойств с шагом 1 из 3](../../../../images/design-wp-pp-pages-step1.png)

**Шаг 2 из 3**![Область свойств с шагом 2 из 3](../../../../images/design-wp-pp-pages-step2.png)

**Шаг 3 из 3**![Область свойств с шагом 3 из 3](../../../../images/design-wp-pp-pages-step3.png)


## <a name="reactive-vs-non-reactive-web-parts"></a>Сравнение реактивных и нереактивных веб-частей

Реактивные веб-части разрабатываются как полноценные клиентские веб-части, то есть каждый компонент, настроенный в свойствах, отражает изменения в веб-части на странице. В веб-части "Список дел" при снятии флажка "Выполненные задачи" скрывается соответствующее представление в веб-части.

![Оформление реактивной веб-части](../../../../images/design-wp-pp-reactive.png)

Нереактивные веб-части работают не только на стороне клиента. Как правило, одному или нескольким свойствам требуется совершить вызов, чтобы задать, получить или сохранить данные на сервере. В этом случае следует включить кнопки "Применить" и "Отмена" в нижней части области свойств.

![Оформление нереактивной веб-части](../../../../images/design-wp-pp-non-reactive.png)

## <a name="constructing-the-to-do-list-property-pane"></a>Создание области свойств для списка дел

В примере со списком дел используются одиночная область и реактивная веб-часть. Ниже показаны все компоненты Fabric React и соответствующее оформление.

Добавление описания списка дел ![Добавление описания списка дел](../../../../images/design-wp-todo-pp-description.png)

Раскрывающийся список для выбора задач из имеющегося списка ![Раскрывающийся список для выбора задач из имеющегося списка](../../../../images/design-wp-todo-pp-dropdown.png)

Флажок, с помощью которого авторы могут показывать и скрывать различные представления ![Флажок, с помощью которого авторы могут показывать и скрывать различные представления](../../../../images/design-wp-todo-pp-checkbox.png)

Ползунок для выбора количества отображаемых задач ![Ползунок для выбора количества отображаемых задач](../../../../images/design-wp-todo-pp-slider.png)

После выбора элемента в раскрывающемся списке в веб-части отображается индикатор загрузки элементов на странице ![Веб-часть с индикатором загрузки элементов](../../../../images/design-wp-todo-loading-indicator.png)

После загрузки новые задачи плавно появляются с использованием стилей анимации из Office UI Fabric ![Веб-часть с анимацией Fabric](../../../../images/design-wp-todo-fabric-animations.png)
