# <a name="sharepoint-framework-solutions-governance-considerations"></a>Рекомендации по управлению решениями SharePoint Framework

Применение платформы SharePoint Framework упрощает работу организаций над созданием решений, которые позволяют лучше использовать возможности SharePoint и Office 365. Кроме того, по умолчанию решения SharePoint Framework работают на различных устройствах, включая мобильное приложение SharePoint. Чтобы воспользоваться всеми преимуществами решений SharePoint Framework, организациям понадобится действующий план управления, охватывающий наиболее важные вопросы.

## <a name="anatomy-of-sharepoint-framework-solutions"></a>Структура решений SharePoint Framework

![Схема, иллюстрирующая состав решений SharePoint Framework](../../../../images/guidance-governance-spfx-structure-schema.png)

Решения SharePoint Framework состоят из двух частей: кода (его часто называют пакетом веб-части), развертываемого по URL-адресу, и файла SPPKG, который содержит манифест веб-части с URL-адресом, указывающим расположение, в котором развертывается код веб-части. Не существует определенных ограничений по месту развертывания кода. Единственное ограничение — наличие у пользователя доступа к коду веб-части. Например, организации могут разместить веб-части в [общедоступной сети CDN Office 365](https://dev.office.com/blogs/office-365-public-cdn-developer-preview-release), [хранилище Azure](../get-started/deploy-web-part-to-cdn) или на принадлежащем им веб-сервере.

## <a name="web-part-code-hosting-location"></a>Расположение, в котором размещен код веб-части

Перед развертыванием решений SharePoint Framework необходимо точно знать расположение, в котором размещается код решения. Решения SharePoint Framework выполняются как часть страницы (с учетом текущего пользователя). Таким образом, код веб-части может делать все, что может делать пользователь. В отличие от надстроек SharePoint к решениям SharePoint Framework не применяется отдельная область разрешений. Поэтому администраторам SharePoint следует рассматривать решения SharePoint Framework, как имеющие высокий уровень доверия, по аналогии с локальными решениями ферм. Существует несколько причин, по которым важно знать расположение, где развертывается код веб-части.

### <a name="is-the-code-hosting-location-supported-by-the-organization"></a>Поддерживается ли организацией расположение, где развертывается код

В SharePoint Framework не предусмотрены ограничения, касающиеся места развертывания кода решения. Таким образом, у разработчиков и поставщиков есть возможность выбрать любое расположение, как внутри, так и за пределами ИТ-отдела организации. В каждой организации могут быть собственные требования, в которых учитываются возможности использования серверов (от политик доступа до соглашений об уровне обслуживания). Перед началом развертывания пакета решений SharePoint Framework нужно убедиться, что сервер, на котором планируется размещение кода, известен и разрешен организацией к использованию.

### <a name="who-manages-the-code-hosting-location"></a>Кто управляет расположением, где размещается код

Решения SharePoint Framework выполняются как часть страницы (с учетом текущего пользователя). При этом у организации должна быть возможность проверить код перед развертыванием пакета решения и убедиться, что ему можно доверять, а также удостовериться в целостности кода после его развертывания в клиенте. Очень важно, чтобы в организации четко понимали, кто управляет расположением, в котором размещается код, кто и в каких случаях может изменять файлы, а также как проходит утверждение внесенных изменений. Ответы на эти вопросы позволяют организации управлять процедурой обновления и снижают риск развертывания вредоносного кода.

### <a name="what-is-the-sla-for-the-hosting-location"></a>Что такое соглашение об уровне обслуживания для расположения размещения

Если организации работают со службами Office 365 и SharePoint Online, они используют соглашения об уровне обслуживания, предоставляемые корпорацией Майкрософт. Решения SharePoint Framework, отличающиеся от стандартных возможностей, предоставляемых в рамках SharePoint и Office 365, необходимо развертывать на серверах, соответствующих соглашениям об уровне обслуживания от корпорации Майкрософт или превышающих их требования. В этом случае организации могут воспользоваться всеми преимуществами индивидуальных настроек.

## <a name="what-libraries-are-used-by-the-solution"></a>Какие библиотеки используются решением

При создании клиентских решений разработчики могут выбрать нужную им библиотеку, например React, Angular, jQuery, Knockout или любую другую. Благодаря использованию уже существующих библиотек JavaScript разработчики могут создавать более сложные решения. Кроме того, при выборе библиотеки для создания решения на ее основе следует учитывать, что принципы работы библиотек отличаются друг от друга и для их понимания часто требуются определенные знания.

Вы должны быть уверены, что созданное вами решение после реализации в рабочем клиенте получит соответствующую поддержку в организации, будь-то ваш собственный ИТ-отдел или сторонняя организация, с которой у вас заключен договор. Для этого необходимо, чтобы организация, обеспечивающая поддержку, располагала по крайней мере основными сведениями о работе библиотеки, которую вы использовали для создания решения. Обратите внимание, что использование большого количества разных библиотек в клиенте усложняет поддержку различных решений. Выберите одну или две библиотеки для своей организации, это поможет снизить расходы на эксплуатацию. Перед тем как развернуть решение в рабочем клиенте, убедитесь, что оно содержит только библиотеки, поддерживаемые в вашей организации.

## <a name="does-the-solution-use-external-scripts-and-if-so-where-does-it-load-them-from"></a>Используются ли в решении внешние сценарии и откуда они загружаются

При использовании существующих библиотек JavaScript разработчики могут включить их в пакет кода веб-части или загрузить по URL-ссылке. Последний способ позволяет разработчикам оптимизировать решения SharePoint Framework и повысить производительность. Так как библиотеки загружаются по URL-ссылке, они не включаются в пакет веб-части, следовательно, его размер уменьшается, а время загрузки сокращается. Кроме того, использование в клиенте ссылок на одни и те же библиотеки ускорит загрузку решений SharePoint Framework благодаря повторному обращению к ранее загруженным сценариям из локального кэша.

Поскольку ограничения на источники загрузки существующих библиотек отсутствуют, очень важно точно знать, с каких серверов загружаются внешние сценарии. Вместе с кодом веб-части эти сценарии запускаются с учетом текущего пользователя и могут выполнять все доступные ему действия. Поэтому очень важно, чтобы вы доверяли этим сценариям и их целостности. В некоторых организациях существуют строгие политики, касающиеся загрузки ресурсов из общедоступных сетей CDN, поэтому следует убедиться, что решение и его ресурсы соответствуют политикам вашей организации.

### <a name="is-the-hosting-location-optimized-for-performance"></a>Оптимизировано ли расположение, в котором размещается решение, для улучшения производительности

Загрузка существующих библиотек по URL-ссылке (вместо встраивания их в пакет веб-части) — это первый шаг к сокращению времени загрузки решений SharePoint Framework. Чтобы достигнуть максимального эффекта, убедитесь, что на сервере, на котором размещаются нужные сценарии, используются правильные настройки для улучшения производительности. Например, сервер должен обрабатывать все сжатые файлы. Кроме того, более длительное время, предусмотренное для кэширования файлов для прокси-серверов и клиентов, позволяет пользователям дольше использовать возможность загрузки сценариев из локального кэша. Что, в свою очередь, значительно сокращает время загрузки страниц SharePoint, содержащих веб-части.

## <a name="approve-sharepoint-framework-solutions-for-deployment"></a>Утверждение решений SharePoint Framework для развертывания

Развертывание решений SharePoint Framework в клиенте — это централизованный процесс, который выполняется с помощью каталога приложений. В организации должен существовать план, содержащий сведения о том, кто может развертывать и утверждать пакеты SharePoint Framework. Этот план очень важен, так как в нем предусматривается ответственность за проверку развертываемых пакетов на соответствие политикам организации и за их безопасность. В отличие от надстроек SharePoint, решения SharePoint Framework выполняются в браузере с учетом текущего пользователя и обладают теми же разрешениями, что и вошедший в систему пользователь. Развертыванию и утверждению решения SharePoint Framework для использования в организации должна предшествовать тщательная проверка его происхождения и соответствия всем критериям, которые упоминались выше в этой статье.

Чтобы убедиться, что определенное решение SharePoint Framework соответствует требованиям организации, необходимо проверить содержимое пакета SPPKG, который вы планируете развернуть, а также внимательно изучить содержимое сценариев, на которые ссылается решение, и их расположения. Эти проверки можно выполнить вручную или частично автоматизировать процесс, например с помощью средств сторонних производителей. [SharePoint Customization Analysis Framework](https://rencore.com/products/#spcaf) (SPCAF) — один из примеров решения от сторонних производителей, значительно упрощающего анализ содержимого решений SharePoint Framework и проверку соответствия требованиям к управлению и безопасности в вашей организации.

## <a name="sharepoint-framework-solutions-and-no-script-sites"></a>Решения SharePoint Framework и сайты без скрипта

В Office 365 организации могут использовать параметр "Без сценария", чтобы отключить настройки на основе сценария в SharePoint Online. Подобные настройки можно применить как ко всему клиенту, так и к отдельным семействам веб-сайтов. На основе условий, указанных в политиках организации, администраторы могут использовать параметр "Без сценария", чтобы отключить настройки, которые были созданы, например с помощью веб-части редактора скриптов или настраиваемого действия пользователя.

Этот параметр служит в организации в качестве дополнительного уровня управления и защиты всего клиента или отдельных семейств веб-сайтов. Настройка SharePoint с помощью внедрения или добавления сценариев таит в себе определенные риски. В частности, необходимо тщательно взвесить все "за" и "против" при принятии такого решения, если на сайте содержится конфиденциальная информация.

Ранее разработчики использовали внедрение и добавление сценариев для создания эффективных настроек SharePoint. В некоторых случаях эти настройки использовали определенную структуру страницы, при изменении которой определенные настройки в дальнейшем работали неправильно. Чтобы помочь разработчикам в создании надежных решений, команда разработчиков SharePoint решила, что для всех современных сайтах будет включен параметр "Без сценария". Это означает, что на этих сайтах внедрение и добавление скриптов невозможно. Таким образом, в настоящее время единственным вариантом настройки подобных сайтов остается использование платформы SharePoint Framework. Мы рассчитываем, что в будущем на всех современных сайтах будет использоваться параметр "Без сценария", а взамен внедрения и добавления скриптов разработчикам будут предложены другие варианты настройки сайта, поддерживающие различные сценарии.