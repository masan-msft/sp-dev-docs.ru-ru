---
title: "Использование цветов темы в настройках SharePoint Framework"
description: "Используйте цвета темы, чтобы ваши настройки сочетались с дизайном сайта, с помощью ссылки на цвета темы контекстного сайта в вашем решении SharePoint Framework."
ms.date: 01/24/2018
ms.prod: sharepoint
ms.openlocfilehash: 72ae107f75a03d639d8565c59a0f5ac5f189c7c9
ms.sourcegitcommit: 4e65e89f3ad8ef1d953e2fdd04d7ab5c0e7df174
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/27/2018
---
# <a name="use-theme-colors-in-your-sharepoint-framework-customizations"></a>Использование цветов темы в настройках SharePoint Framework

При создании настроек SharePoint Framework следует использовать цвета темы, чтобы настройки сочетались с дизайном сайта. В этой статье показано, как ссылаться на цвета темы контекстного сайта в решении SharePoint Framework.

> [!NOTE] 
> В этой статье в качестве примера используется клиентская веб-часть SharePoint Framework, но описанные способы применимы ко всем типам настроек SharePoint Framework.

## <a name="fixed-colors-vs-theme-colors"></a>Фиксированные цвета или цвета темы?

При формировании шаблонов новой клиентской веб-части SharePoint Framework используется фиксированная синяя палитра. Если добавить такую веб-часть на современный сайт с другой цветовой схемой, она будет выделяться и выглядеть неорганично.

![Клиентская веб-часть SharePoint Framework, использующая синюю цветовую схему, на современном сайте группы с красной темой](../images/themed-styles-blue-web-part-red-site.png)

Используя фиксированные цвета, вы заранее определяете, какие цвета хотите использовать для каких элементов. Это может привести к ситуации, когда, отображаясь на красном сайте группы, синяя веб-часть выделяется и выглядит неуместно. В большинстве случаев лучше использовать цвета темы контекстного сайта, чтобы решение не выделялось, а сочеталось с сайтом.

SharePoint Framework позволяет использовать цвета темы контекстного сайта вместо фиксированных цветов. Как следствие, если веб-часть размещена на сайте с использованием красной темы, она также будет использовать красную палитру, а при помещении на сайт с использованием синей темы она будет автоматически настроена на использование синей палитры. Все это происходит автоматически без каких-либо изменений кода веб-части.

## <a name="use-theme-colors-in-the-sharepoint-framework"></a>Использование цветов темы в SharePoint Framework

Работая с фиксированными цветами, вы указываете их в свойствах CSS, как показано в примере ниже.

```css
.button {
    background-color: #0078d7;
}
```

<br/>

Чтобы вместо этого использовать цвет темы, замените фиксированный цвет на маркер темы:

```css
.button {
    background-color: "[theme: themePrimary, default: #0078d7]";
}
```

<br/>

Когда настройка SharePoint Framework загружается на страницу, пакет **@microsoft/load-themed-styles**, являющийся частью SharePoint Framework, будет искать маркеры темы в файлах CSS и пытаться заменить их соответствующим цветом из текущей темы. Если значение для указанного маркера недоступно, SharePoint Framework использует значение, указанное с помощью **стандартного** параметра, поэтому важно, чтобы оно всегда было включено.

Вы можете использовать следующие маркеры темы:

Маркер|Значение по умолчанию на современном сайте группы с использованием красной палитры|Комментарии
-----|--------------------------------|-----------
`backgroundImageUri`|`none`|
`accent`|`#ee0410`|
`themeDark`|`#b3030c`|Используется для значков действия на панели команд, а также как цвет при наведении.
`themeDarkAlt`|`#b3030c`|
`themeDarker`|`#770208`|
`themeLight`|`#fd969b`|
`themeLightAlt`|`#fd969b`|
`themeLighter`|`#fecacd`|
`themeLighterAlt`|`#fecacd`|
`themePrimary`|`#ee0410`st|Основной цвет темы. Используется для значков и стандартных кнопок.
`themeSecondary`|`#fc6169`|
`themeTertiary`|`#fd969b`|

> [!NOTE] 
> В SharePoint Framework зарегистрировано больше маркеров. Все они имеют указанные значения на классических сайтах, но только упомянутая выше часть имеет значения на современных сайтах SharePoint. Полный список доступных маркеров см. в значении свойства `window.__themeState__.theme` (используйте консоль в средствах разработчика веб-браузера).

## <a name="use-theme-colors-in-your-customizations"></a>Использование цветов темы в настройках

При формировании шаблонов новой клиентской веб-части SharePoint Framework по умолчанию используется фиксированная синяя палитра. Ниже приведены действия, которые необходимо выполнить, чтобы веб-часть использовала цвета темы.

> [!NOTE] 
> Указанные ниже инструкции относятся к клиентской веб-части SharePoint Framework _HelloWorld_, созданной с помощью React. Для веб-частей, созданных с помощью других библиотек и типов настроек, может потребоваться соответствующая корректировка изменений.

### <a name="to-use-theme-colors"></a>Использование цветов темы

1. В редакторе кода откройте файл **./src/webparts/helloWorld/components/HelloWorld.tsx** и из DIV с классом **ms-Grid-row** удалите класс **ms-bgColor-themeDark**.

    ![Класс "ms-bgColor-themeDark", выбранный в редакторе Visual Studio Code](../images/themed-styles-ms-bgcolor-themedark-class.png)

2. В этой же папке откройте файл **HelloWorld.module.scss**. Измените селектор `.row` на следующий:

    ```css
    .row {
        padding: 20px;
        background-color: "[theme: themeDark, default: #005a9e]";
    }
    ```

    <br/>

    ![Область выделения строки, дополненная цветом фона](../images/themed-styles-row-class.png)

3. В селекторе `.button` замените свойства `background-color` и `border-color` указанными ниже:

    ```css
    .button {
        /* ... */
        background-color: "[theme: themePrimary, default: #0078d7]";
        border-color: "[theme: themePrimary, default: #0078d7]";
        /* ... */
    }
    ```

    <br/>

    ![Селектор .button обновлен с использованием цветов темы](../images/themed-styles-button-class.png)

4. При добавлении веб-части на сайт цвета, используемые веб-частью, автоматически адаптируются к цветам темы, используемым на текущем сайте.

    ![Параллельное представление одной и той же веб-части, отображаемой на двух сайтах с использованием разных цветов; веб-часть соответствует цветовой схеме каждого веб-сайта](../images/themed-styles-side-by-side.png)

## <a name="see-also"></a>См. также

- [Темы и цвета SharePoint](../design/themes-colors.md)
- [Использование цветов темы в веб-частях SPFX](https://n8d.at/blog/how-to-use-theme-colors-in-spfx-web-parts/), Стефан Бауэр (разработка для Office, MVP)
