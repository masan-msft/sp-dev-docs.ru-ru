---
title: "Обновление пакетов SharePoint Framework"
ms.date: 09/25/2017
ms.prod: sharepoint
ms.openlocfilehash: b8d542ac73d1739faff65f4636cffdef062a3c00
ms.sourcegitcommit: 1cae27d85ee691d976e2c085986466de088f526c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/13/2017
---
# <a name="update-sharepoint-framework-packages"></a>Обновление пакетов SharePoint Framework 

Средства клиентской разработки для SharePoint управляют зависимостями и другими необходимыми вспомогательными элементами JavaScript с помощью диспетчера пакетов [npm](https://www.npmjs.com/). Этот диспетчер обычно устанавливается вместе с Node.js.

При создании нового клиентского решения генератор Yeoman для SharePoint получает последние версии необходимых для проекта пакетов SharePoint Framework. По мере работы над проектом пакеты могут устаревать. Изучив [заметки о выпуске](https://aka.ms/spfx-release-notes), касающиеся определенного выпуска или последней версии пакета, вы можете решить обновить пакеты SharePoint Framework, используемые в проекте. Пакеты SharePoint Framework включают установленные в проекте пакеты npm, например [@microsoft/sp-core-library](https://www.npmjs.com/package/@microsoft/sp-core-library), и глобально установленные пакеты npm, например [@microsoft/generator-sharepoint](https://www.npmjs.com/package/@microsoft/generator-sharepoint). 

Рекомендуем время от времени обновлять пакеты SharePoint Framework, чтобы получать доступ к последним изменениям и исправлениям. 

## <a name="find-outdated-packages-in-your-project"></a>Поиск устаревших пакетов в проекте
Чтобы найти устаревшие пакеты, в том числе пакеты SharePoint Framework и другие пакеты, от которых зависит проект, перейдите в каталог проекта и выполните в нем следующую команду. 

```
npm outdated
```

На основе файла `package.json`, расположенного в корневом каталоге проекта, и реестра npm будут выведены следующие сведения о пакетах:

* версия, установленная в проекте;
* версия, запрашиваемая проектом (указана в файле `package.json`);
* последняя доступная версия.

![Устаревшие пакеты NPM](../../images/npm-outdated-packages-list.png)

Имена пакетов SharePoint Framework начинаются с такого идентификатора области npm и префикса:

```
@microsoft/sp-
```
Помимо пакетов Framework вам также может понадобиться обновить пакеты `react` и `office-ui-fabric-react`. Обязательно ознакомьтесь с [заметками о конкретном выпуске](https://aka.ms/spfx-release-notes), чтобы определить, какие пакеты нужно обновить, и запланируйте обновление.

### <a name="update-packages"></a>Обновление пакетов
Чтобы обновить пакеты до последней версии, необходимо изменить сведения о них в файле `package.json`, а затем получить новые пакеты.

#### <a name="update-package-versions"></a>Изменение версий пакетов
Откройте проект в любом редакторе кода и найдите файл `package.json` в корневом каталоге проекта.

В файле `package.json` найдите пакеты в разделах `dependencies` и `devDependencies` и измените версию на последнюю доступную версию, указанную в команде `npm outdated`. Например, на изображении ниже выделены измененные версии пакетов SharePoint Framework (слева — старые, а справа — новые).

![Изменение версий пакетов в файле package.json](../../images/npm-update-packagejson-versions.png)

После изменения версий пакетов сохраните файл `package.json`.

#### <a name="update-packages"></a>Обновление пакетов
Откройте любую консоль и перейдите в корневой каталог проекта. Следуйте приведенным ниже инструкциям, чтобы обновить пакеты до последней версии.

Удалите папку `node_modules`. В этой папке npm локально устанавливает пакеты для проекта. Если удалить эту папку, npm получит новые пакеты, а не будет копировать существующие.

Если вы используете компьютер Mac или среду Linux, выполните следующую команду:

```
rm -rf node_modules/
```

Если вы используете среду Windows, выполните следующую команду:

```
 rd /s /q node_modules/
```

Теперь выполните следующую команду, чтобы получить новые пакеты из реестра npm:

```
npm install
```

Эта команда создаст папку `node_modules` и установит все пакеты, от которых зависит проект, а также их зависимости на основе данных из файла `package.json`. Npm установит последние версии и все их взаимосвязи, так как именно эти версии мы указали в файле. 

После установки пакетов выполните следующую команду, чтобы удалить артефакты старой сборки:

```
gulp clean
```

### <a name="update-your-code"></a>Обновление кода
В зависимости от того, насколько существенно изменен API, может потребоваться обновить существующий код и файлы конфигурации проекта. О существенных изменениях и модификациях, которые нужно внести в существующий код, можно узнать из [заметок о выпуске](https://aka.ms/spfx-release-notes). Внесите необходимые исправления в код.

Вы всегда можете выполнить сборку проекта, чтобы посмотреть, есть ли ошибки и предупреждения, выполнив команду в консоли в каталоге проекта:

```
gulp build
```

## <a name="update-yeoman-generator-for-sharepoint"></a>Обновление генератора Yeoman для SharePoint
В отличие от пакетов npm, которые устанавливаются под определенный клиентский проект, генератор Yeoman для SharePoint устанавливается на компьютере глобально.

Чтобы узнать, устарел ли генератор Yeoman для SharePoint, выполните в консоли указанную ниже команду. 

```
npm outdated -g
```

На основе версий, установленных на компьютере, и реестра npm будут выведены следующие сведения о глобально установленных на компьютере пакетах:

* текущая версия, глобально установленная на компьютере;
* версия, которую вы запросили при установке;
* последняя доступная версия.

![Устаревшие глобальные пакеты NPM](../../images/npm-outdated-global-packages-list.png)

Имя пакета генератора выглядит следующим образом:

```
@microsoft/generator-sharepoint
```

### <a name="update-generator-package"></a>Обновление пакета генератора
Чтобы обновить генератор до последней опубликованной версии, откройте любую консоль и выполните следующую команду:

```
npm install @microsoft/generator-sharepoint@latest -g
```

Команда обновит генератор Yeoman для SharePoint и его зависимости до последней опубликованной версии. Для проверки выполните в консоли следующую команду:

```
npm ls @microsoft/generator-sharepoint -g --depth=0
```






 
