# <a name="sharepoint-framework-toolchain"></a><span data-ttu-id="53bae-101">Цепочка инструментов SharePoint Framework</span><span class="sxs-lookup"><span data-stu-id="53bae-101">SharePoint Framework Toolchain</span></span>

<span data-ttu-id="53bae-p101">Цепочка инструментов SharePoint Framework — это набор инструментов сборки, пакетов платформы и других элементов, которые управляют созданием и развертыванием клиентских проектов. Цепочка инструментов позволяет создавать клиентские компоненты, такие как веб-части. Она также позволяет проверять их в локальной среде разработки с помощью таких инструментов, как SharePoint Workbench. Кроме того, с ее помощью можно упаковывать проекты и развертывать их в SharePoint. В цепочке инструментов также представлен набор команд сборки для компиляции кода, упаковки клиентского проекта в пакет приложения SharePoint и других важных задач.</span><span class="sxs-lookup"><span data-stu-id="53bae-p101">The SharePoint Framework toolchain is the set of build tools, framework packages, and other items that manage building and deploying your client side projects. The toolchain helps you build client-side components like web parts. It also helps you test them in your local development environment with tools such as the SharePoint Workbench. And you can use the toolchain to package and deploy to SharePoint. The toolchain also provides you with a set of build commands that help you to complete key build tasks such as code compilation, packaging the client-side project into a SharePoint app package and more.</span></span> 

## <a name="npm"></a><span data-ttu-id="53bae-107">npm</span><span class="sxs-lookup"><span data-stu-id="53bae-107">npm</span></span>
<span data-ttu-id="53bae-p102">Прежде чем познакомиться с различными компонентами цепочки инструментов, важно понять, как в SharePoint Framework используется [npm](https://www.npmjs.com/) для управления различными модулями проекта. npm — это один из основных диспетчеров пакетов с открытым кодом для клиентской разработки JavaScript.</span><span class="sxs-lookup"><span data-stu-id="53bae-p102">Before diving into the various toolchain components, it’s important to understand how the SharePoint Framework uses [npm](https://www.npmjs.com/), to manage different modules in the project. npm is one of the preferred open source package managers for JavaScript client-side development.</span></span> 

<span data-ttu-id="53bae-p103">Типичный пакет npm состоит из одного или нескольких многократно используемых файлов кода JavaScript, называемых модулями, а также списка пакетов зависимостей. При установке пакета npm также устанавливаются эти зависимости. Официальный [реестр npm](https://www.npmjs.com/) состоит из сотни пакетов, которые можно скачать для создания приложения. Вы также можете [публиковать собственные пакеты](https://docs.npmjs.com/getting-started/what-is-npm) в npm и делиться ими с другими разработчиками. Платформа SharePoint Framework использует некоторые пакеты npm в цепочке инструментов и публикует [собственные пакеты в реестре npm](https://www.npmjs.com/search?q=%40microsoft%2Fsp-).</span><span class="sxs-lookup"><span data-stu-id="53bae-p103">A typically npm package consists of one or more reusable JavaScript code files called modules along with a list of dependency packages that it depends on. When you install the package, npm also installs those dependencies. The official [npm registry](https://www.npmjs.com/) consists of hundreds of packages that you can download to build your application. You can also [publish your own packages](https://docs.npmjs.com/getting-started/what-is-npm) to npm and share them with other developers. SharePoint Framework not only uses some of the npm packages in the toolchain but also publishes its [own packages to the npm registry](https://www.npmjs.com/search?q=%40microsoft%2Fsp-).</span></span> 

### <a name="sharepoint-framework-packages"></a><span data-ttu-id="53bae-115">Пакеты SharePoint Framework</span><span class="sxs-lookup"><span data-stu-id="53bae-115">SharePoint Framework packages</span></span>
<span data-ttu-id="53bae-116">Платформа SharePoint Framework состоит из нескольких пакетов npm, которые позволяют создавать клиентские решения для SharePoint.</span><span class="sxs-lookup"><span data-stu-id="53bae-116">SharePoint Framework consists of several npm packages that work together to help developers build client-side experiences in SharePoint.</span></span> 

<span data-ttu-id="53bae-117">В SharePoint Framework представлены следующие пакеты:</span><span class="sxs-lookup"><span data-stu-id="53bae-117">The following packages are in the SharePoint Framework:</span></span>

* <span data-ttu-id="53bae-p104">[@microsoft/generator-sharepoint](https://www.npmjs.com/package/@microsoft/generator-sharepoint) — подключаемый модуль [Yeoman](http://yeoman.io/) для платформы SharePoint Framework. С помощью этого генератора разработчики могут быстро настроить проект клиентской веб-части и установить оптимальные значения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="53bae-p104">[@microsoft/generator-sharepoint](https://www.npmjs.com/package/@microsoft/generator-sharepoint) - A [Yeoman](http://yeoman.io/) plug-in for use with the SharePoint Framework. Using this generator, developers can quickly set up a new client-side web part project with sensible defaults and best practices.</span></span>

* <span data-ttu-id="53bae-120">[@microsoft/sp-client-base](https://www.npmjs.com/package/@microsoft/sp-client-base) определяет основные библиотеки для клиентских приложений, созданных с помощью SharePoint Framework</span><span class="sxs-lookup"><span data-stu-id="53bae-120">[@microsoft/sp-client-base](https://www.npmjs.com/package/@microsoft/sp-client-base) - Defines the core libraries for client-side applications built using the SharePoint Framework</span></span>

* <span data-ttu-id="53bae-121">[@microsoft/sp-webpart-workbench](https://www.npmjs.com/package/@microsoft/sp-webpart-workbench). SharePoint Workbench — это отдельная среда для тестирования и отладки клиентских веб-частей.</span><span class="sxs-lookup"><span data-stu-id="53bae-121">[@microsoft/sp-webpart-workbench](https://www.npmjs.com/package/@microsoft/sp-webpart-workbench) - The SharePoint Workbench is a standalone environment for testing and debugging client-side web parts.</span></span>

* <span data-ttu-id="53bae-p105">[@microsoft/sp-module-loader](https://www.npmjs.com/package/@microsoft/sp-module-loader) — загрузчик модулей, который управляет версиями и загрузкой клиентских компонентов, веб-частей и других ресурсов. Он также предоставляет базовые службы диагностики. Он основан на знакомых стандартах, таких как SystemJS и WebPack, и первым загружается на странице.</span><span class="sxs-lookup"><span data-stu-id="53bae-p105">[@microsoft/sp-module-loader](https://www.npmjs.com/package/@microsoft/sp-module-loader) - A module loader that manages versioning and loading of client-side components, web parts, and other assets. It also provides basic diagnostic services. It is built on familiar standards such as SystemJS and WebPack, and is the first part of the SharePoint Framework to load on a page.</span></span>

* <span data-ttu-id="53bae-125">[@microsoft/sp-module-interfaces](https://www.npmjs.com/package/@microsoft/sp-module-interfaces) определяет несколько интерфейсов модулей, которые используются загрузчиком модулей SharePoint Framework и системой сборки.</span><span class="sxs-lookup"><span data-stu-id="53bae-125">[@microsoft/sp-module-interfaces](https://www.npmjs.com/package/@microsoft/sp-module-interfaces) - Defines several module interfaces that are shared by the SharePoint Framework module loader and also the build system.</span></span>

* <span data-ttu-id="53bae-p106">[@microsoft/sp-lodash-subset](https://www.npmjs.com/package/@microsoft/sp-lodash-subset) предоставляет пользовательский пакет [lodash](https://lodash.com/) для загрузчика модулей SharePoint Framework. Чтобы повысить производительность среды выполнения, он включает только наиболее важные функции lodash.</span><span class="sxs-lookup"><span data-stu-id="53bae-p106">[@microsoft/sp-lodash-subset](https://www.npmjs.com/package/@microsoft/sp-lodash-subset) - Provides a custom bundle of [lodash](https://lodash.com/) for use with the SharePoint Framework's module loader. To improve runtime performance, it only includes a subset of the most essential lodash functions.</span></span>

* <span data-ttu-id="53bae-128">[@microsoft/sp-tslint-rules](https://www.npmjs.com/package/@microsoft/sp-tslint-rules) определяет пользовательские правила tslint для клиентских проектов SharePoint.</span><span class="sxs-lookup"><span data-stu-id="53bae-128">[@microsoft/sp-tslint-rules](https://www.npmjs.com/package/@microsoft/sp-tslint-rules) - Defines custom tslint rules for usage with SharePoint client-side projects.</span></span>

* <span data-ttu-id="53bae-129">[@microsoft/office-ui-fabric-react-bundle](https://www.npmjs.com/package/@microsoft/office-ui-fabric-react-bundle) предоставляет пользовательский пакет [office-ui-fabric-react](https://www.npmjs.com/package/office-ui-fabric-react), оптимизированный для загрузчика модулей SharePoint Framework.</span><span class="sxs-lookup"><span data-stu-id="53bae-129">[@microsoft/office-ui-fabric-react-bundle](https://www.npmjs.com/package/@microsoft/office-ui-fabric-react-bundle) - Provides a custom bundle of  [office-ui-fabric-react](https://www.npmjs.com/package/office-ui-fabric-react) that is optimized for use with the SharePoint Framework's module loader.</span></span>

### <a name="common-build-tool-packages"></a><span data-ttu-id="53bae-130">Стандартные пакеты инструментов сборки</span><span class="sxs-lookup"><span data-stu-id="53bae-130">Common build tools packages</span></span>
<span data-ttu-id="53bae-131">Наряду с пакетами SharePoint Framework, для компиляции кода TypeScript в JavaScript, преобразования SCSS в CSS и других задач сборки также используется стандартный набор инструментов сборки.</span><span class="sxs-lookup"><span data-stu-id="53bae-131">Along with the SharePoint Framework packages described previously, a common set of build tools are also used to perform build tasks such as compiling TypeScript code to JavaScript, and converting SCSS to CSS.</span></span>

<span data-ttu-id="53bae-132">Ниже приведены стандартные пакеты инструментов сборки, представленные в SharePoint Framework.</span><span class="sxs-lookup"><span data-stu-id="53bae-132">The following list of common build tools packages are in the SharePoint Framework:</span></span>

* <span data-ttu-id="53bae-p107">[@microsoft/sp-build-core-tasks](https://www.npmjs.com/package/@microsoft/sp-build-core-tasks) — набор задач для системы сборки SharePoint Framework, основанной на gulp. Пакет `sp-build-core-tasks` реализует операции, относящиеся только к SharePoint, такие как упаковка и манифесты.</span><span class="sxs-lookup"><span data-stu-id="53bae-p107">[@microsoft/sp-build-core-tasks](https://www.npmjs.com/package/@microsoft/sp-build-core-tasks) - A collection of tasks for the SharePoint Framework build system, which is based on gulp. The `sp-build-core-tasks` package implements operations specific to SharePoint such as packaging solutions and writing manifests.</span></span>

* <span data-ttu-id="53bae-135">[@microsoft/sp-build-web](https://www.npmjs.com/package/@microsoft/sp-build-web) импортирует и настраивает задачи сборки для целевого режима сборки, который запустится в веб-браузере (а не в среде Node.js). Этот пакет должен импортироваться напрямую файлом gulp, который использует систему сборки SharePoint Framework.</span><span class="sxs-lookup"><span data-stu-id="53bae-135">[@microsoft/sp-build-web](https://www.npmjs.com/package/@microsoft/sp-build-web) - Imports and configures a set of build tasks that are appropriate for a build target that will run in a web browser (as opposed to a Node.js environment).This package is intended to be imported directly by a gulp file that uses the SharePoint Framework build system.</span></span> 

* <span data-ttu-id="53bae-p108">[@microsoft/gulp-core-build](https://www.npmjs.com/package/@microsoft/gulp-core-build) — основные задачи gulp для создания TypeScript, HTML, less и других форматов сборки. Этот пакет зависит от других пакетов npm, которые содержат следующие задачи:</span><span class="sxs-lookup"><span data-stu-id="53bae-p108">[@microsoft/gulp-core-build](https://www.npmjs.com/package/@microsoft/gulp-core-build) - The core gulp build tasks for building TypeScript, HTML, less, and other build formats. This package depends on several other npm packages that contain the following tasks:</span></span>
    - <span data-ttu-id="53bae-138">[@microsoft/gulp-core-build-typescript](https://www.npmjs.com/package/@microsoft/gulp-core-build-typescript);</span><span class="sxs-lookup"><span data-stu-id="53bae-138">[@microsoft/gulp-core-build-typescript](https://www.npmjs.com/package/@microsoft/gulp-core-build-typescript)</span></span>
    - <span data-ttu-id="53bae-139">[@microsoft/gulp-core-build-sass](https://www.npmjs.com/package/@microsoft/gulp-core-build-sass);</span><span class="sxs-lookup"><span data-stu-id="53bae-139">[@microsoft/gulp-core-build-sass](https://www.npmjs.com/package/@microsoft/gulp-core-build-sass)</span></span>
    - <span data-ttu-id="53bae-140">[@microsoft/gulp-core-build-webpack](https://www.npmjs.com/package/@microsoft/gulp-core-build-webpack);</span><span class="sxs-lookup"><span data-stu-id="53bae-140">[@microsoft/gulp-core-build-webpack](https://www.npmjs.com/package/@microsoft/gulp-core-build-webpack)</span></span>
    - <span data-ttu-id="53bae-141">[@microsoft/gulp-core-build-serve](https://www.npmjs.com/package/@microsoft/gulp-core-build-serve);</span><span class="sxs-lookup"><span data-stu-id="53bae-141">[@microsoft/gulp-core-build-serve](https://www.npmjs.com/package/@microsoft/gulp-core-build-serve)</span></span>
    - <span data-ttu-id="53bae-142">[@microsoft/gulp-core-build-karma](https://www.npmjs.com/package/@microsoft/gulp-core-build-karma);</span><span class="sxs-lookup"><span data-stu-id="53bae-142">[@microsoft/gulp-core-build-karma](https://www.npmjs.com/package/@microsoft/gulp-core-build-karma)</span></span>
    - <span data-ttu-id="53bae-143">[@microsoft/gulp-core-build-mocha](https://www.npmjs.com/package/@microsoft/gulp-core-build-mocha).</span><span class="sxs-lookup"><span data-stu-id="53bae-143">[@microsoft/gulp-core-build-mocha](https://www.npmjs.com/package/@microsoft/gulp-core-build-mocha)</span></span>

* <span data-ttu-id="53bae-p109">[@microsoft/loader-cased-file](https://www.npmjs.com/package/@microsoft/loader-cased-file) — программа-оболочка для [file-loader](https://www.npmjs.com/package/file-loader) webpack, которая может использоваться для изменения регистра итогового имени файла. Это удобно, например, при использовании сети доставки содержимого (CDN), в которой разрешены только имена файлов в нижнем регистре.</span><span class="sxs-lookup"><span data-stu-id="53bae-p109">[@microsoft/loader-cased-file](https://www.npmjs.com/package/@microsoft/loader-cased-file) - A wrapper for webpack's [file-loader](https://www.npmjs.com/package/file-loader) that can be used to modify the casing of the resulting filename. This is useful in some scenarios, such as when using a content delivery network (CDN) that only allows lowercase filenames.</span></span>

* <span data-ttu-id="53bae-p110">[@microsoft/loader-load-themed-styles](https://www.npmjs.com/package/@microsoft/loader-load-themed-styles) — загрузчик, который добавляет загрузку CSS в сценарий, эквивалентный <code>require('load-themed-styles').loadStyles( /* css text */ )</code>. Он заменяет style-loader.</span><span class="sxs-lookup"><span data-stu-id="53bae-p110">[@microsoft/loader-load-themed-styles](https://www.npmjs.com/package/@microsoft/loader-load-themed-styles) - A loader that wraps the loading of CSS in script equivalent to <code>require('load-themed-styles').loadStyles( /* css text */ )</code>. It is designed to be a replacement for style-loader.</span></span>

* <span data-ttu-id="53bae-148">[@microsoft/loader-raw-script](https://www.npmjs.com/package/@microsoft/loader-raw-script) — загрузчик, который загружает содержимое файла сценария прямо в пакет webpack с помощью `eval(…)`.</span><span class="sxs-lookup"><span data-stu-id="53bae-148">[@microsoft/loader-raw-script](https://www.npmjs.com/package/@microsoft/loader-raw-script) - A loader that loads a script file's contents directly in a webpack bundle using an `eval(…)`.</span></span>

* <span data-ttu-id="53bae-149">[@microsoft/loader-set-webpack-public-path](https://www.npmjs.com/package/@microsoft/loader-set-webpack-public-path) — загрузчик, который устанавливает значение переменной __webpack_public_path__, указанное в аргументах (может быть добавлено к свойству SystemJs baseURL).</span><span class="sxs-lookup"><span data-stu-id="53bae-149">[@microsoft/loader-set-webpack-public-path](https://www.npmjs.com/package/@microsoft/loader-set-webpack-public-path) -A loader that sets the __webpack_public_path__ variable to a value specified in the arguments, optionally appended to the SystemJs baseURL property.</span></span>

## <a name="scaffolding-a-new-client-side-project"></a><span data-ttu-id="53bae-150">Скаффолдинг нового клиентского проекта</span><span class="sxs-lookup"><span data-stu-id="53bae-150">Scaffolding a new client-side project</span></span>
<span data-ttu-id="53bae-p111">Генератор SharePoint выполняет скаффолдинг клиентского проекта с веб-частью. Генератор также скачивает и настраивает необходимые компоненты цепочки инструментов для указанного клиентского проекта.</span><span class="sxs-lookup"><span data-stu-id="53bae-p111">The SharePoint generator scaffolds a client-side project with a web part. The generator also downloads and configures the required toolchain components for the specified client-side project.</span></span>  

### <a name="packages-installation"></a><span data-ttu-id="53bae-153">Установка пакетов</span><span class="sxs-lookup"><span data-stu-id="53bae-153">Packages installation</span></span>
<span data-ttu-id="53bae-p112">Генератор устанавливает необходимые пакеты npm локально в папке проекта. npm позволяет устанавливать пакет локально и глобально. Оба варианта имеют свои преимущества, но если ваш код зависит от модулей этих пакетов, [лучше](https://nodejs.org/en/blog/npm/npm-1-0-global-vs-local-installation/) устанавливать их локально. Код веб-части зависит от различных пакетов сборки (общих и относящихся только к SharePoint), и поэтому эти пакеты необходимо устанавливать локально.</span><span class="sxs-lookup"><span data-stu-id="53bae-p112">The generator installs required npm packages locally in the project folder. npm allows you to install a package either locally to your project, or globally. There are benefits to both, but the  [general guidance](https://nodejs.org/en/blog/npm/npm-1-0-global-vs-local-installation/) is to install the npm packages locally if your code depends on those package modules. In the case of a web part project, your web part code depends on the various SharePoint and common build packages, and thus requires those packages to be installed locally.</span></span> 

<span data-ttu-id="53bae-p113">Так как пакеты устанавливаются локально, npm также устанавливает связанные с ними зависимости. Установленные пакеты можно найти в папке `node_modules`, вложенной в папку проекта. Эта папка содержит пакеты, а также все их зависимости. Замечательно то, что эта папка содержит десятки и сотни папок, так как пакеты npm всегда разбиваются на небольшие модули, в результате чего устанавливаются десятки и сотни пакетов. Основные пакеты SharePoint Framework расположены в папке `node_modules\@microsoft`. `@microsoft` — это область npm, которая представляет [пакеты, опубликованные корпорацией Майкрософт](https://www.npmjs.com/~microsoft).</span><span class="sxs-lookup"><span data-stu-id="53bae-p113">As the packages are installed locally, npm also installs the dependencies associated with each package. You can find the packages installed under the `node_modules` folder in your project folder. This folder contains the packages along with all of their dependencies. It is ideal that this folder contains dozens to hundreds of folders as npm packages are always broken down to smaller modules and thus resulting in dozens to hundreds of packages being installed. The key SharePoint Framework packages are located under the `node_modules\@microsoft` folder. The `@microsoft` is an npm scope that collectively represents [packages published by Microsoft](https://www.npmjs.com/~microsoft).</span></span>

<span data-ttu-id="53bae-p114">Каждый раз, когда вы создаете проект с помощью генератора, последний локально устанавливает пакеты SharePoint Framework, а также зависимости для этого проекта. Таким образом, благодаря npm вы можете легко управлять проектами веб-частей, не затрагивая другие проекты в локальной среде разработки.</span><span class="sxs-lookup"><span data-stu-id="53bae-p114">Every time you create a new project using the generator, the generator installs the SharePoint Framework packages along with its dependencies for that specific project locally. In this way, npm makes it easier to manage your web part projects without affecting other projects that are in the local dev environment.</span></span> 

### <a name="packagejson"></a><span data-ttu-id="53bae-166">package.json</span><span class="sxs-lookup"><span data-stu-id="53bae-166">package.json</span></span>
<span data-ttu-id="53bae-p115">Файл `package.json` в клиентском проекте определяет список зависимостей проекта. Список определяет, какие зависимости необходимо устанавливать. Как описано выше, каждая зависимость может содержать несколько других зависимостей. Пакетный менеджер npm позволяет определять зависимости среды выполнения и сборки для пакета с помощью свойств `dependencies` и `devDependencies`. Свойство `devDependencies` пригодится, если нужно использовать этот модуль в коде, например при создании веб-частей.</span><span class="sxs-lookup"><span data-stu-id="53bae-p115">The `package.json` file in the client-side project specifies the list of dependencies the project depends on. The list defines what dependencies to install. As described earlier, each dependency could contain several more. npm allows you to define both runtime and build dependencies for your package using the `dependencies` and `devDependencies` properties. The `devDependencies` property is used when you want to use that module in your code as in the case of building web parts.</span></span>

<span data-ttu-id="53bae-172">Ниже приведен файл `package.json` из [веб-части hello world](web-parts/get-started/build-a-hello-world-web-part).</span><span class="sxs-lookup"><span data-stu-id="53bae-172">Below is the `package.json` of the [helloworld-webpart](web-parts/get-started/build-a-hello-world-web-part):</span></span>

```json 
{
  "name": "helloword-webpart",
  "version": "0.0.1",
  "private": true,
  "engines": {
    "node": ">=0.10.0"
  },
  "dependencies": {
    "@microsoft/sp-client-base": "~1.0.0",
    "@microsoft/sp-core-library": "~1.0.0",
    "@microsoft/sp-webpart-base": "~1.0.0",
    "@types/webpack-env": ">=1.12.1 <1.14.0"
  },
  "devDependencies": {
    "@microsoft/sp-build-web": "~1.0.0",
    "@microsoft/sp-module-interfaces": "~1.0.0",
    "@microsoft/sp-webpart-workbench": "~1.0.0",
    "gulp": "~3.9.1",
    "@types/chai": ">=3.4.34 <3.6.0",
    "@types/mocha": ">=2.2.33 <2.6.0"
  },
  "scripts": {
    "build": "gulp bundle",
    "clean": "gulp clean",
    "test": "gulp test"
  }
}
```

<span data-ttu-id="53bae-p116">Для проекта устанавливается много пакетов, но они необходимы только для создания веб-части в среде разработки. С помощью этих пакетов вы можете добавлять зависимости от модулей, а также создавать, компилировать, объединять в пакет и упаковать веб-часть для развертывания. Минифицированная запакованная версия веб-части, получившаяся в итоге и развернутая на сервере CDN или в SharePoint, не включает эти пакеты. Но вы можете включить некоторые модули в зависимости от потребностей. Дополнительные сведения см. в статье [Добавление внешней библиотеки в веб-часть](web-parts/basics/add-an-external-library).</span><span class="sxs-lookup"><span data-stu-id="53bae-p116">While there are lot of packages installed for the project, they are required only for building the web part in the dev environment. It is with the help of these packages, you are able to depend on the modules, and build, compile, bundle & package your web part for deployment. The final minified bundled version of the web part that you deploy to a CDN server or SharePoint does not include any of these packages. That said, you can also configure to include certain modules depending on your requirements. For more information, see [Add an external library to a web part](web-parts/basics/add-an-external-library).</span></span>

### <a name="working-with-source-control-systems"></a><span data-ttu-id="53bae-178">Работа с системами управления версиями</span><span class="sxs-lookup"><span data-stu-id="53bae-178">Working with source control systems</span></span>
<span data-ttu-id="53bae-p117">Вместе с количеством зависимостей проекта увеличивается количество пакетов для установки. Не возвращайте папку `node_modules`, которая содержит все зависимости, в систему управления версиями. Папку `node_modules` следует исключить из списка файлов для пропуска при возврате.</span><span class="sxs-lookup"><span data-stu-id="53bae-p117">As project dependencies increase, the number of packages to install also increases. You don’t want to check in the `node_modules` folder, which contains all of the dependencies, into your source control system. You should exclude the `node_modules` from the list of files to ignore during check-ins.</span></span> 

<span data-ttu-id="53bae-p118">Если вы используете систему управления версиями `git`, то проект веб-части, скаффолдинг которого выполнен с помощью генератора Yeoman, будет содержать файл `.gitignore`. Он, помимо прочего, исключит папку `node_modules`. Когда вы впервые извлекаете или клонируете проект веб-части из системы управления версиями, выполните следующую команду, чтобы инициализировать и установить все зависимости проекта локально:</span><span class="sxs-lookup"><span data-stu-id="53bae-p118">If you are using `git` as your source control system, the Yeoman scaffolded web part project includes a `.gitignore` file that excludes the `node_modules` folder among other things. When you check out, or clone, the web part project from your source control system the first time, run the command to initialize and install all the project dependencies locally:</span></span>

```
npm i
```

<span data-ttu-id="53bae-184">Диспетчер npm проверит файл `package.json` и установит необходимые зависимости.</span><span class="sxs-lookup"><span data-stu-id="53bae-184">npm will scan the `package.json` file and install the required dependencies.</span></span> 

## <a name="build-tasks"></a><span data-ttu-id="53bae-185">Создание задач</span><span class="sxs-lookup"><span data-stu-id="53bae-185">Build tasks</span></span>
<span data-ttu-id="53bae-186">Платформа SharePoint Framework использует средство запуска задач [gulp](http://gulpjs.com/) для обработки следующих процессов:</span><span class="sxs-lookup"><span data-stu-id="53bae-186">SharePoint Framework uses [gulp](http://gulpjs.com/) as its task runner to handle processes like the following:</span></span>

* <span data-ttu-id="53bae-187">добавление в пакет и минификация файлов JavaScript и CSS;</span><span class="sxs-lookup"><span data-stu-id="53bae-187">Bundle and minify JavaScript and CSS files.</span></span>
* <span data-ttu-id="53bae-188">запуск инструментов для вызова задач по добавлению в пакет и минификации перед каждой сборкой;</span><span class="sxs-lookup"><span data-stu-id="53bae-188">Run tools to call the bundling and minification tasks before each build.</span></span>
* <span data-ttu-id="53bae-189">компиляция файлов LESS или SASS в CSS;</span><span class="sxs-lookup"><span data-stu-id="53bae-189">Compile LESS or SASS files to CSS.</span></span>
* <span data-ttu-id="53bae-190">компиляция файлов TypeScript в JavaScript.</span><span class="sxs-lookup"><span data-stu-id="53bae-190">Compile TypeScript files to JavaScript.</span></span>

<span data-ttu-id="53bae-191">Цепочка инструментов состоит из следующих задач gulp, определенных в пакете [@microsoft/sp-build-core-tasks](https://www.npmjs.com/package/@microsoft/sp-build-core-tasks):</span><span class="sxs-lookup"><span data-stu-id="53bae-191">The toolchain consists of the following gulp tasks defined in the [@microsoft/sp-build-core-tasks](https://www.npmjs.com/package/@microsoft/sp-build-core-tasks) package:</span></span>

* <span data-ttu-id="53bae-192">build</span><span class="sxs-lookup"><span data-stu-id="53bae-192">build</span></span>
  * <span data-ttu-id="53bae-193">Создает проект клиентского решения.</span><span class="sxs-lookup"><span data-stu-id="53bae-193">Builds the client-side solution project.</span></span>
* <span data-ttu-id="53bae-194">bundle</span><span class="sxs-lookup"><span data-stu-id="53bae-194">bundle</span></span>
  * <span data-ttu-id="53bae-195">Объединяет точку входа проекта клиентского решения и все его зависимости в один файл JavaScript.</span><span class="sxs-lookup"><span data-stu-id="53bae-195">Bundles the client-side solution project entry point and all its dependencies into a single JavaScript file.</span></span>
* <span data-ttu-id="53bae-196">serve</span><span class="sxs-lookup"><span data-stu-id="53bae-196">serve</span></span>
  * <span data-ttu-id="53bae-197">Запускает проект клиентского решения и ресурсы с локального компьютера.</span><span class="sxs-lookup"><span data-stu-id="53bae-197">Serves the client-side solution project and assets from the local machine.</span></span>
* <span data-ttu-id="53bae-198">clean</span><span class="sxs-lookup"><span data-stu-id="53bae-198">clean</span></span>
  * <span data-ttu-id="53bae-199">Удаляет артефакты сборки проекта клиентского решения из предыдущей сборки и каталогов целевого объекта сборки (lib и dist).</span><span class="sxs-lookup"><span data-stu-id="53bae-199">Cleans the client-side solution project's build artifacts from the previous build and from the build target directories (lib and dist)</span></span>
* <span data-ttu-id="53bae-200">test</span><span class="sxs-lookup"><span data-stu-id="53bae-200">test</span></span>
  * <span data-ttu-id="53bae-201">Запускает модульные тесты для проекта клиентского решения (если они доступны).</span><span class="sxs-lookup"><span data-stu-id="53bae-201">Runs unit tests, if available, for the client-side solution project.</span></span> 
* <span data-ttu-id="53bae-202">package-solution</span><span class="sxs-lookup"><span data-stu-id="53bae-202">package-solution</span></span>
  * <span data-ttu-id="53bae-203">Помещает клиентское решение в пакет SharePoint.</span><span class="sxs-lookup"><span data-stu-id="53bae-203">Packages the client-side solution into a SharePoint package.</span></span>
* <span data-ttu-id="53bae-204">deploy-azure-storage</span><span class="sxs-lookup"><span data-stu-id="53bae-204">deploy-azure-storage</span></span>
  * <span data-ttu-id="53bae-205">Развертывает ресурсы проекта клиентского решения в хранилище Azure.</span><span class="sxs-lookup"><span data-stu-id="53bae-205">Deploys client-side solution project assets to Azure Storage.</span></span> 

<span data-ttu-id="53bae-p119">Чтобы инициировать задачу, добавьте ее имя к команде gulp. Например, для компиляции и просмотра веб-части в SharePoint Workbench выполните следующую команду:</span><span class="sxs-lookup"><span data-stu-id="53bae-p119">To initiate different tasks, append the task name with the gulp command. For example, to compile and then preview your web part in the SharePoint Workbench, run the following command:</span></span>

```
gulp serve
```

><span data-ttu-id="53bae-208">**Примечание.** Нельзя выполнять несколько задач одновременно.</span><span class="sxs-lookup"><span data-stu-id="53bae-208">**Note**: You cannot execute multiple tasks at the same time.</span></span>

<span data-ttu-id="53bae-209">Задача `serve` выполняет различные задачи и открывает SharePoint Workbench.</span><span class="sxs-lookup"><span data-stu-id="53bae-209">The `serve` runs the different tasks and finally launches SharePoint Workbench.</span></span>

![задача gulp serve](../../../images/toolchain-gulp-serve-task.png)

### <a name="build-targets"></a><span data-ttu-id="53bae-211">Целевые режимы сборки</span><span class="sxs-lookup"><span data-stu-id="53bae-211">Build targets</span></span>
<span data-ttu-id="53bae-212">На предыдущем снимке экрана указан следующий целевой режим сборки:</span><span class="sxs-lookup"><span data-stu-id="53bae-212">In the previous screenshot, you can see that the task indicates your build target as follows:</span></span>

```
Build target: DEBUG
```

<span data-ttu-id="53bae-p120">Если параметр не задан, целевой режим команд — BUILD. Если параметр `ship` задан, целевой режим команд — SHIP.</span><span class="sxs-lookup"><span data-stu-id="53bae-p120">If no parameter is specified, the commands target the BUILD mode. If the `ship` parameter is specified, then the commands target the SHIP mode.</span></span>

<span data-ttu-id="53bae-p121">Обычно, когда проект веб-части готов к отправке или развертыванию на рабочем сервере, используется целевой режим SHIP. В других случаях (например, для проверки и отладки) используется целевой режим BUILD. Целевой режим SHIP также гарантирует сборку минифицированной версии пакета веб-части.</span><span class="sxs-lookup"><span data-stu-id="53bae-p121">Usually, when your web part project is ready to ship or deploy in a production server, you will target SHIP. For other scenarios like testing and debugging you would target BUILD. The SHIP target also ensures that the minified version of the web part bundle is built.</span></span> 

<span data-ttu-id="53bae-218">Чтобы использовать режим SHIP, добавьте к имени задачи `--ship`.</span><span class="sxs-lookup"><span data-stu-id="53bae-218">To target SHIP mode, you append the task with `--ship`:</span></span>

```
gulp --ship
```

<span data-ttu-id="53bae-219">В режиме DEBUG задачи сборки копируют все ресурсы веб-части, в том числе пакет веб-части, в папку `dist`.</span><span class="sxs-lookup"><span data-stu-id="53bae-219">In DEBUG mode, the build tasks copy all of the web part assets, including the web part bundle, into the `dist` folder.</span></span>

<span data-ttu-id="53bae-220">В режиме SHIP задачи сборки копируют все ресурсы веб-части, в том числе пакет веб-части, в папку `temp\deploy`.</span><span class="sxs-lookup"><span data-stu-id="53bae-220">In SHIP mode, the build tasks copy all of the web part assets, including the web part bundle, into the `temp\deploy` folder.</span></span>
