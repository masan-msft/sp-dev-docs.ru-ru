---
title: "Цепочка инструментов SharePoint Framework"
description: "Цепочка инструментов — это набор инструментов сборки, пакетов платформы и других элементов, которые управляют созданием и развертыванием клиентских проектов SharePoint Framework."
ms.date: 01/12/2018
ms.prod: sharepoint
ms.openlocfilehash: dfbe1efbe50c74b842dd797ab688487147a63730
ms.sourcegitcommit: 0ad5aeee2c5efc47eb57e050581e4f411c4be643
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/29/2018
---
# <a name="sharepoint-framework-toolchain"></a><span data-ttu-id="67fd1-103">Цепочка инструментов SharePoint Framework</span><span class="sxs-lookup"><span data-stu-id="67fd1-103">SharePoint Framework toolchain</span></span>

<span data-ttu-id="67fd1-104">Цепочка инструментов SharePoint Framework — это набор инструментов сборки, пакетов платформы и других элементов, которые управляют созданием и развертыванием клиентских проектов.</span><span class="sxs-lookup"><span data-stu-id="67fd1-104">The SharePoint Framework toolchain is the set of build tools, framework packages, and other items that manage building and deploying your client-side projects.</span></span> 

<span data-ttu-id="67fd1-105">Цепочка инструментов:</span><span class="sxs-lookup"><span data-stu-id="67fd1-105">The toolchain:</span></span>

- <span data-ttu-id="67fd1-106">позволяет создавать клиентские компоненты, такие как веб-части;</span><span class="sxs-lookup"><span data-stu-id="67fd1-106">Helps you build client-side components such as web parts.</span></span> 
- <span data-ttu-id="67fd1-107">позволяет проверять клиентские компоненты в локальной среде разработки с помощью таких инструментов, как SharePoint Workbench;</span><span class="sxs-lookup"><span data-stu-id="67fd1-107">Helps you test client-side components in your local development environment by using tools such as the SharePoint Workbench.</span></span> 
- <span data-ttu-id="67fd1-108">обеспечивает упаковку и развертывание компонентов в SharePoint;</span><span class="sxs-lookup"><span data-stu-id="67fd1-108">Enables you to package and deploy to SharePoint.</span></span> 
- <span data-ttu-id="67fd1-109">содержит набор команд сборки для компиляции кода, упаковки клиентского проекта в пакет приложения SharePoint и других важных задач.</span><span class="sxs-lookup"><span data-stu-id="67fd1-109">Provides you with a set of build commands that help you complete key build tasks such as code compilation, packaging the client-side project into a SharePoint app package, and more.</span></span> 

## <a name="use-npm-packages"></a><span data-ttu-id="67fd1-110">Использование пакетов npm</span><span class="sxs-lookup"><span data-stu-id="67fd1-110">Use npm packages</span></span>

<span data-ttu-id="67fd1-p101">Прежде чем познакомиться с различными компонентами цепочки инструментов, важно понять, как в SharePoint Framework используется [npm](https://www.npmjs.com/) для управления различными модулями проекта. npm — это один из основных диспетчеров пакетов с открытым кодом для клиентской разработки JavaScript.</span><span class="sxs-lookup"><span data-stu-id="67fd1-p101">Before diving into the various toolchain components, it’s important to understand how the SharePoint Framework uses [npm](https://www.npmjs.com/) to manage different modules in the project. npm is one of the preferred open source package managers for JavaScript client-side development.</span></span> 

<span data-ttu-id="67fd1-113">Обычный пакет npm состоит из одного или нескольких многократно используемых файлов кода JavaScript, называемых модулями, а также списка пакетов зависимостей.</span><span class="sxs-lookup"><span data-stu-id="67fd1-113">A typical npm package consists of one or more reusable JavaScript code files, called modules, along with a list of dependency packages.</span></span> <span data-ttu-id="67fd1-114">При установке пакета npm также устанавливает эти зависимости.</span><span class="sxs-lookup"><span data-stu-id="67fd1-114">When you install the package, npm also installs those dependencies.</span></span> 

<span data-ttu-id="67fd1-115">Официальный [реестр npm](https://www.npmjs.com/) состоит из сотни пакетов, которые можно скачать для создания приложения.</span><span class="sxs-lookup"><span data-stu-id="67fd1-115">The official [npm registry](https://www.npmjs.com/) consists of hundreds of packages that you can download to build your application.</span></span> <span data-ttu-id="67fd1-116">Вы также можете [публиковать собственные пакеты](https://docs.npmjs.com/getting-started/what-is-npm) в npm и делиться ими с другими разработчиками.</span><span class="sxs-lookup"><span data-stu-id="67fd1-116">You can also [publish your own packages](https://docs.npmjs.com/getting-started/what-is-npm) to npm and share them with other developers.</span></span> <span data-ttu-id="67fd1-117">Платформа SharePoint Framework использует некоторые пакеты npm в цепочке инструментов, а также публикует [собственные пакеты в реестре npm](https://www.npmjs.com/search?q=%40microsoft%2Fsp-).</span><span class="sxs-lookup"><span data-stu-id="67fd1-117">The SharePoint Framework uses some of the npm packages in the toolchain and also publishes its [own packages to the npm registry](https://www.npmjs.com/search?q=%40microsoft%2Fsp-).</span></span> 

### <a name="sharepoint-framework-packages"></a><span data-ttu-id="67fd1-118">Пакеты SharePoint Framework</span><span class="sxs-lookup"><span data-stu-id="67fd1-118">SharePoint Framework packages</span></span>

<span data-ttu-id="67fd1-119">Платформа SharePoint Framework состоит из нескольких пакетов npm, которые позволяют создавать клиентские решения для SharePoint.</span><span class="sxs-lookup"><span data-stu-id="67fd1-119">The SharePoint Framework consists of several npm packages that work together to help you build client-side experiences in SharePoint.</span></span> 

<span data-ttu-id="67fd1-120">В SharePoint Framework представлены следующие пакеты npm:</span><span class="sxs-lookup"><span data-stu-id="67fd1-120">The following packages are in the SharePoint Framework:</span></span>

* <span data-ttu-id="67fd1-121">[@microsoft/generator-sharepoint](https://www.npmjs.com/package/@microsoft/generator-sharepoint).</span><span class="sxs-lookup"><span data-stu-id="67fd1-121">[@microsoft/generator-sharepoint](https://www.npmjs.com/package/@microsoft/generator-sharepoint).</span></span> <span data-ttu-id="67fd1-122">Подключаемый модуль [Yeoman](http://yeoman.io/) для платформы SharePoint Framework.</span><span class="sxs-lookup"><span data-stu-id="67fd1-122">A [Yeoman](http://yeoman.io/) plug-in for use with the SharePoint Framework.</span></span> <span data-ttu-id="67fd1-123">С помощью этого генератора разработчики могут быстро настроить проект клиентской веб-части и установить оптимальные значения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="67fd1-123">@microsoft/generator-sharepoint - A Yeoman plug-in for use with the SharePoint Framework. Using this generator, developers can quickly set up a new client-side web part project with sensible defaults and best practices.</span></span>

* <span data-ttu-id="67fd1-124">[@microsoft/sp-client-base](https://www.npmjs.com/package/@microsoft/sp-client-base).</span><span class="sxs-lookup"><span data-stu-id="67fd1-124">[@microsoft/sp-client-base](https://www.npmjs.com/package/@microsoft/sp-client-base).</span></span> <span data-ttu-id="67fd1-125">Определяет основные библиотеки для клиентских приложений, созданных с помощью SharePoint Framework.</span><span class="sxs-lookup"><span data-stu-id="67fd1-125">@microsoft/sp-client-base - Defines the core libraries for client-side applications built using the SharePoint Framework</span></span>

* <span data-ttu-id="67fd1-126">[@microsoft/sp-webpart-workbench](https://www.npmjs.com/package/@microsoft/sp-webpart-workbench).</span><span class="sxs-lookup"><span data-stu-id="67fd1-126">[@microsoft/sp-webpart-workbench](https://www.npmjs.com/package/@microsoft/sp-webpart-workbench).</span></span> <span data-ttu-id="67fd1-127">SharePoint Workbench — это отдельная среда для тестирования и отладки клиентских веб-частей.</span><span class="sxs-lookup"><span data-stu-id="67fd1-127">@microsoft/sp-webpart-workbench - The SharePoint Workbench is a standalone environment for testing and debugging client-side web parts.</span></span>

* <span data-ttu-id="67fd1-128">[@microsoft/sp-module-loader](https://www.npmjs.com/package/@microsoft/sp-module-loader).</span><span class="sxs-lookup"><span data-stu-id="67fd1-128">[@microsoft/sp-module-loader](https://www.npmjs.com/package/@microsoft/sp-module-loader).</span></span> <span data-ttu-id="67fd1-129">Загрузчик модулей, который управляет версиями и загрузкой клиентских компонентов, веб-частей и других ресурсов.</span><span class="sxs-lookup"><span data-stu-id="67fd1-129">A module loader that manages versioning and loading of client-side components, web parts, and other assets.</span></span> <span data-ttu-id="67fd1-130">Он также предоставляет базовые службы диагностики.</span><span class="sxs-lookup"><span data-stu-id="67fd1-130">It also provides basic diagnostic services.</span></span> <span data-ttu-id="67fd1-131">Он основан на знакомых стандартах, таких как SystemJS и WebPack, и первым загружается на странице.</span><span class="sxs-lookup"><span data-stu-id="67fd1-131">@microsoft/sp-module-loader - A module loader that manages versioning and loading of client-side components, web parts, and other assets. It also provides basic diagnostic services. It is built on familiar standards such as SystemJS and WebPack, and is the first part of the SharePoint Framework to load on a page.</span></span>

* <span data-ttu-id="67fd1-132">[@microsoft/sp-module-interfaces](https://www.npmjs.com/package/@microsoft/sp-module-interfaces).</span><span class="sxs-lookup"><span data-stu-id="67fd1-132">[@microsoft/sp-module-interfaces](https://www.npmjs.com/package/@microsoft/sp-module-interfaces).</span></span> <span data-ttu-id="67fd1-133">Определяет несколько интерфейсов модулей, которые используются загрузчиком модулей SharePoint Framework и системой сборки.</span><span class="sxs-lookup"><span data-stu-id="67fd1-133">@microsoft/sp-module-interfaces - Defines several module interfaces that are shared by the SharePoint Framework module loader and also the build system.</span></span>

* <span data-ttu-id="67fd1-134">[@microsoft/sp-lodash-subset](https://www.npmjs.com/package/@microsoft/sp-lodash-subset).</span><span class="sxs-lookup"><span data-stu-id="67fd1-134">[@microsoft/sp-lodash-subset](https://www.npmjs.com/package/@microsoft/sp-lodash-subset).</span></span> <span data-ttu-id="67fd1-135">Предоставляет пользовательский пакет [lodash](https://lodash.com/) для загрузчика модулей SharePoint Framework.</span><span class="sxs-lookup"><span data-stu-id="67fd1-135">@microsoft/office-ui-fabric-react-bundle - Provides a custom bundle of  office-ui-fabric-react that is optimized for use with the SharePoint Framework's module loader.</span></span> <span data-ttu-id="67fd1-136">Чтобы повысить производительность среды выполнения, он включает только наиболее важные функции lodash.</span><span class="sxs-lookup"><span data-stu-id="67fd1-136">@microsoft/sp-lodash-subset - Provides a custom bundle of lodash for use with the SharePoint Framework's module loader. To improve runtime performance, it only includes a subset of the most essential lodash functions.</span></span>

* <span data-ttu-id="67fd1-137">[@microsoft/sp-tslint-rules](https://www.npmjs.com/package/@microsoft/sp-tslint-rules).</span><span class="sxs-lookup"><span data-stu-id="67fd1-137">[@microsoft/sp-tslint-rules](https://www.npmjs.com/package/@microsoft/sp-tslint-rules).</span></span> <span data-ttu-id="67fd1-138">Определяет пользовательские правила tslint для клиентских проектов SharePoint.</span><span class="sxs-lookup"><span data-stu-id="67fd1-138">@microsoft/sp-tslint-rules - Defines custom tslint rules for usage with SharePoint client-side projects.</span></span>

* <span data-ttu-id="67fd1-139">[@microsoft/office-ui-fabric-react-bundle](https://www.npmjs.com/package/@microsoft/office-ui-fabric-react-bundle).</span><span class="sxs-lookup"><span data-stu-id="67fd1-139">[@microsoft/office-ui-fabric-react-bundle](https://www.npmjs.com/package/@microsoft/office-ui-fabric-react-bundle).</span></span> <span data-ttu-id="67fd1-140">Предоставляет пользовательский пакет [office-ui-fabric-react](https://www.npmjs.com/package/office-ui-fabric-react), оптимизированный для загрузчика модулей SharePoint Framework.</span><span class="sxs-lookup"><span data-stu-id="67fd1-140">@microsoft/office-ui-fabric-react-bundle - Provides a custom bundle of  [office-ui-fabric-react](https://www.npmjs.com/package/office-ui-fabric-react) that is optimized for use with the SharePoint Framework's module loader.</span></span>

### <a name="common-build-tool-packages"></a><span data-ttu-id="67fd1-141">Стандартные пакеты инструментов сборки</span><span class="sxs-lookup"><span data-stu-id="67fd1-141">Common build tool packages</span></span>

<span data-ttu-id="67fd1-142">Наряду с пакетами SharePoint Framework, для компиляции кода TypeScript в JavaScript, преобразования SCSS в CSS и других задач сборки также используется стандартный набор инструментов сборки.</span><span class="sxs-lookup"><span data-stu-id="67fd1-142">Along with the SharePoint Framework packages, a common set of build tools are also used to perform build tasks such as compiling TypeScript code to JavaScript and converting SCSS to CSS.</span></span>

<span data-ttu-id="67fd1-143">Ниже приведены стандартные пакеты инструментов сборки npm, представленные в SharePoint Framework.</span><span class="sxs-lookup"><span data-stu-id="67fd1-143">The following common build tools packages are in the SharePoint Framework:</span></span>

* <span data-ttu-id="67fd1-144">[@microsoft/sp-build-core-tasks](https://www.npmjs.com/package/@microsoft/sp-build-core-tasks).</span><span class="sxs-lookup"><span data-stu-id="67fd1-144">[@microsoft/sp-build-core-tasks](https://www.npmjs.com/package/@microsoft/sp-build-core-tasks).</span></span> <span data-ttu-id="67fd1-145">Набор задач для системы сборки SharePoint Framework, основанной на gulp.</span><span class="sxs-lookup"><span data-stu-id="67fd1-145">@microsoft/sp-build-core-tasks - A collection of tasks for the SharePoint Framework build system, which is based on gulp. The  package implements operations specific to SharePoint such as packaging solutions and writing manifests.</span></span> <span data-ttu-id="67fd1-146">Пакет `sp-build-core-tasks` реализует операции, относящиеся только к SharePoint, такие как упаковка и манифесты.</span><span class="sxs-lookup"><span data-stu-id="67fd1-146">@microsoft/sp-build-core-tasks - A collection of tasks for the SharePoint Framework build system, which is based on gulp. The `sp-build-core-tasks` package implements operations specific to SharePoint such as packaging solutions and writing manifests.</span></span>

* <span data-ttu-id="67fd1-147">[@microsoft/sp-build-web](https://www.npmjs.com/package/@microsoft/sp-build-web).</span><span class="sxs-lookup"><span data-stu-id="67fd1-147">[@microsoft/sp-build-web](https://www.npmjs.com/package/@microsoft/sp-build-web).</span></span> <span data-ttu-id="67fd1-148">Импортирует и настраивает набор задач сборки для целевого режима сборки, который запустится в веб-браузере (а не в среде Node.js).</span><span class="sxs-lookup"><span data-stu-id="67fd1-148">@microsoft/sp-build-web - Imports and configures a set of build tasks that are appropriate for a build target that will run in a web browser (as opposed to a Node.js environment).This package is intended to be imported directly by a gulp file that uses the SharePoint Framework build system.</span></span> <span data-ttu-id="67fd1-149">Этот пакет должен импортироваться напрямую файлом gulp, который использует систему сборки SharePoint Framework.</span><span class="sxs-lookup"><span data-stu-id="67fd1-149">This package is intended to be imported directly by a gulp file that uses the SharePoint Framework build system.</span></span> 

* <span data-ttu-id="67fd1-150">[@microsoft/gulp-core-build](https://www.npmjs.com/package/@microsoft/gulp-core-build).</span><span class="sxs-lookup"><span data-stu-id="67fd1-150">[@microsoft/gulp-core-build](https://www.npmjs.com/package/@microsoft/gulp-core-build).</span></span> <span data-ttu-id="67fd1-151">Основные задачи gulp для создания TypeScript, HTML, less и других форматов сборки.</span><span class="sxs-lookup"><span data-stu-id="67fd1-151">@microsoft/gulp-core-build - The core gulp build tasks for building TypeScript, HTML, less, and other build formats. This package depends on several other npm packages that contain the following tasks:</span></span> <span data-ttu-id="67fd1-152">Этот пакет зависит от других пакетов npm, которые содержат следующие задачи:</span><span class="sxs-lookup"><span data-stu-id="67fd1-152">@microsoft/gulp-core-build - The core gulp build tasks for building TypeScript, HTML, less, and other build formats. This package depends on several other npm packages that contain the following tasks:</span></span>
    - [<span data-ttu-id="67fd1-153">@microsoft/gulp-core-build-typescript</span><span class="sxs-lookup"><span data-stu-id="67fd1-153">@microsoft/gulp-core-build-typescript</span></span>](https://www.npmjs.com/package/@microsoft/gulp-core-build-typescript)
    - <span data-ttu-id="67fd1-154">[@microsoft/gulp-core-build-sass](https://www.npmjs.com/package/@microsoft/gulp-core-build-sass);</span><span class="sxs-lookup"><span data-stu-id="67fd1-154">[@microsoft/gulp-core-build-sass](https://www.npmjs.com/package/@microsoft/gulp-core-build-sass)</span></span>
    - <span data-ttu-id="67fd1-155">[@microsoft/gulp-core-build-webpack](https://www.npmjs.com/package/@microsoft/gulp-core-build-webpack);</span><span class="sxs-lookup"><span data-stu-id="67fd1-155">[@microsoft/gulp-core-build-webpack](https://www.npmjs.com/package/@microsoft/gulp-core-build-webpack)</span></span>
    - <span data-ttu-id="67fd1-156">[@microsoft/gulp-core-build-serve](https://www.npmjs.com/package/@microsoft/gulp-core-build-serve);</span><span class="sxs-lookup"><span data-stu-id="67fd1-156">[@microsoft/gulp-core-build-serve](https://www.npmjs.com/package/@microsoft/gulp-core-build-serve)</span></span>
    - <span data-ttu-id="67fd1-157">[@microsoft/gulp-core-build-karma](https://www.npmjs.com/package/@microsoft/gulp-core-build-karma);</span><span class="sxs-lookup"><span data-stu-id="67fd1-157">[@microsoft/gulp-core-build-karma](https://www.npmjs.com/package/@microsoft/gulp-core-build-karma)</span></span>
    - <span data-ttu-id="67fd1-158">[@microsoft/gulp-core-build-mocha](https://www.npmjs.com/package/@microsoft/gulp-core-build-mocha).</span><span class="sxs-lookup"><span data-stu-id="67fd1-158">[@microsoft/gulp-core-build-mocha](https://www.npmjs.com/package/@microsoft/gulp-core-build-mocha)</span></span>

* <span data-ttu-id="67fd1-159">[@microsoft/loader-cased-file](https://www.npmjs.com/package/@microsoft/loader-cased-file).</span><span class="sxs-lookup"><span data-stu-id="67fd1-159">[@microsoft/loader-cased-file](https://www.npmjs.com/package/@microsoft/loader-cased-file).</span></span> <span data-ttu-id="67fd1-160">Программа-оболочка для [загрузчика файлов](https://www.npmjs.com/package/file-loader) webpack, которую можно использовать для изменения регистра полученного имени файла.</span><span class="sxs-lookup"><span data-stu-id="67fd1-160">A wrapper for webpack's [file-loader](https://www.npmjs.com/package/file-loader) that can be used to modify the casing of the resulting file name.</span></span> <span data-ttu-id="67fd1-161">Это удобно, например, при использовании сети доставки содержимого (CDN), в которой разрешены только имена файлов в нижнем регистре.</span><span class="sxs-lookup"><span data-stu-id="67fd1-161">@microsoft/loader-cased-file - A wrapper for webpack's file-loader that can be used to modify the casing of the resulting filename. This is useful in some scenarios, such as when using a content delivery network (CDN) that only allows lowercase file names.</span></span>

* <span data-ttu-id="67fd1-162">[@microsoft/loader-load-themed-styles](https://www.npmjs.com/package/@microsoft/loader-load-themed-styles).</span><span class="sxs-lookup"><span data-stu-id="67fd1-162">[@microsoft/loader-load-themed-styles](https://www.npmjs.com/package/@microsoft/loader-load-themed-styles).</span></span> <span data-ttu-id="67fd1-163">Загрузчик, который создает программу-оболочку для загрузки CSS в сценарии, эквивалентном `require('load-themed-styles').loadStyles( /* css text */ )`.</span><span class="sxs-lookup"><span data-stu-id="67fd1-163">@microsoft/loader-load-themed-styles - A loader that wraps the loading of CSS in script equivalent to . It is designed to be a replacement for style-loader.</span></span> <span data-ttu-id="67fd1-164">Он заменяет загрузчик стилей.</span><span class="sxs-lookup"><span data-stu-id="67fd1-164">It is designed to be a replacement for style-loader.</span></span>

* <span data-ttu-id="67fd1-165">[@microsoft/loader-raw-script](https://www.npmjs.com/package/@microsoft/loader-raw-script).</span><span class="sxs-lookup"><span data-stu-id="67fd1-165">[@microsoft/loader-raw-script](https://www.npmjs.com/package/@microsoft/loader-raw-script).</span></span> <span data-ttu-id="67fd1-166">Загрузчик, который загружает содержимое файла сценария прямо в пакет webpack с помощью `eval(…)`.</span><span class="sxs-lookup"><span data-stu-id="67fd1-166">@microsoft/loader-raw-script - A loader that loads a script file's contents directly in a webpack bundle using an `eval(…)`.</span></span>

* <span data-ttu-id="67fd1-167">[@microsoft/loader-set-webpack-public-path](https://www.npmjs.com/package/@microsoft/loader-set-webpack-public-path).</span><span class="sxs-lookup"><span data-stu-id="67fd1-167">[@microsoft/loader-set-webpack-public-path](https://www.npmjs.com/package/@microsoft/loader-set-webpack-public-path).</span></span> <span data-ttu-id="67fd1-168">Загрузчик, который устанавливает значение переменной __webpack_public_path__, указанное в аргументах (может быть добавлено к свойству SystemJS baseURL).</span><span class="sxs-lookup"><span data-stu-id="67fd1-168">@microsoft/loader-set-webpack-public-path -A loader that sets the __webpack_public_path__ variable to a value specified in the arguments, optionally appended to the SystemJs baseURL property.</span></span>

## <a name="scaffold-a-new-client-side-project"></a><span data-ttu-id="67fd1-169">Формирование шаблонов нового клиентского проекта</span><span class="sxs-lookup"><span data-stu-id="67fd1-169">Scaffolding a new client-side project</span></span>

<span data-ttu-id="67fd1-p119">Генератор SharePoint выполняет скаффолдинг клиентского проекта с веб-частью. Генератор также скачивает и настраивает необходимые компоненты цепочки инструментов для указанного клиентского проекта.</span><span class="sxs-lookup"><span data-stu-id="67fd1-p119">The SharePoint generator scaffolds a client-side project with a web part. The generator also downloads and configures the required toolchain components for the specified client-side project.</span></span>  

### <a name="install-npm-packages"></a><span data-ttu-id="67fd1-172">Установка пакетов npm</span><span class="sxs-lookup"><span data-stu-id="67fd1-172">Install npm packages</span></span>

<span data-ttu-id="67fd1-173">Генератор устанавливает необходимые пакеты npm локально в папке проекта.</span><span class="sxs-lookup"><span data-stu-id="67fd1-173">The generator installs required npm packages locally in the project folder.</span></span> <span data-ttu-id="67fd1-174">npm позволяет устанавливать пакет локально и глобально.</span><span class="sxs-lookup"><span data-stu-id="67fd1-174">npm allows you to install a package either locally to your project or globally.</span></span> <span data-ttu-id="67fd1-175">Оба варианта имеют свои преимущества, но если ваш код зависит от модулей этих пакетов, [лучше](https://nodejs.org/en/blog/npm/npm-1-0-global-vs-local-installation/) устанавливать их локально.</span><span class="sxs-lookup"><span data-stu-id="67fd1-175">There are benefits to both, but the [general guidance](https://nodejs.org/en/blog/npm/npm-1-0-global-vs-local-installation/) is to install the npm packages locally if your code depends on those package modules.</span></span> <span data-ttu-id="67fd1-176">Код веб-части зависит от различных пакетов сборки (общих и относящихся только к SharePoint), и поэтому эти пакеты необходимо устанавливать локально.</span><span class="sxs-lookup"><span data-stu-id="67fd1-176">In the case of a web part project, your web part code depends on the various SharePoint and common build packages, and thus requires those packages to be installed locally.</span></span> 

<span data-ttu-id="67fd1-177">Так как пакеты устанавливаются локально, npm также устанавливает связанные с ними зависимости.</span><span class="sxs-lookup"><span data-stu-id="67fd1-177">As the packages are installed locally, npm also installs the dependencies associated with each package.</span></span> <span data-ttu-id="67fd1-178">Установленные пакеты можно найти в папке `node_modules` в папке проекта.</span><span class="sxs-lookup"><span data-stu-id="67fd1-178">You can find the packages installed under the `node_modules` folder in your project folder.</span></span> <span data-ttu-id="67fd1-179">Эта папка содержит пакеты, а также все их зависимости.</span><span class="sxs-lookup"><span data-stu-id="67fd1-179">This folder contains the packages along with all their dependencies.</span></span> <span data-ttu-id="67fd1-180">В идеале эта папка должна содержать десятки и сотни папок, так как пакеты npm всегда разбиваются на небольшие модули, что приводит к установке десятков и сотен пакетов.</span><span class="sxs-lookup"><span data-stu-id="67fd1-180">It is ideal that this folder contains dozens to hundreds of folders, because npm packages are always broken down to smaller modules, which results in dozens to hundreds of packages being installed.</span></span> <span data-ttu-id="67fd1-181">Основные пакеты SharePoint Framework расположены в папке `node_modules\@microsoft`.</span><span class="sxs-lookup"><span data-stu-id="67fd1-181">The key SharePoint Framework packages are located under the `node_modules\@microsoft` folder.</span></span> <span data-ttu-id="67fd1-182">`@microsoft` — это область npm, которая представляет все [пакеты, опубликованные корпорацией Майкрософт](https://www.npmjs.com/~microsoft).</span><span class="sxs-lookup"><span data-stu-id="67fd1-182">The `@microsoft` is an npm scope that collectively represents [packages published by Microsoft](https://www.npmjs.com/~microsoft).</span></span>

<span data-ttu-id="67fd1-p122">Каждый раз, когда вы создаете проект с помощью генератора, последний локально устанавливает пакеты SharePoint Framework, а также зависимости для этого проекта. Таким образом, благодаря npm вы можете легко управлять проектами веб-частей, не затрагивая другие проекты в локальной среде разработки.</span><span class="sxs-lookup"><span data-stu-id="67fd1-p122">Every time you create a new project using the generator, the generator installs the SharePoint Framework packages along with its dependencies for that specific project locally. In this way, npm makes it easier to manage your web part projects without affecting other projects in the local dev environment.</span></span> 

### <a name="specify-dependencies-with-packagejson"></a><span data-ttu-id="67fd1-185">Указание зависимостей с помощью файла package.json</span><span class="sxs-lookup"><span data-stu-id="67fd1-185">Specify dependencies with package.json</span></span>

<span data-ttu-id="67fd1-186">Файл `package.json` в клиентском проекте определяет список зависимостей проекта.</span><span class="sxs-lookup"><span data-stu-id="67fd1-186">The `package.json` file in the client-side project specifies the list of dependencies the project depends on.</span></span> <span data-ttu-id="67fd1-187">Список определяет, какие зависимости необходимо устанавливать.</span><span class="sxs-lookup"><span data-stu-id="67fd1-187">The list defines what dependencies to install.</span></span> <span data-ttu-id="67fd1-188">Как описано выше, каждая зависимость может содержать несколько других зависимостей.</span><span class="sxs-lookup"><span data-stu-id="67fd1-188">As described earlier, each dependency could contain several more.</span></span> <span data-ttu-id="67fd1-189">Диспетчер npm позволяет определять зависимости среды выполнения и сборки для пакета с помощью свойств `dependencies` и `devDependencies`.</span><span class="sxs-lookup"><span data-stu-id="67fd1-189">npm allows you to define both runtime and build dependencies for your package by using the `dependencies` and `devDependencies` properties.</span></span> <span data-ttu-id="67fd1-190">Свойство `devDependencies` пригодится, если нужно использовать этот модуль в коде, например при создании веб-частей.</span><span class="sxs-lookup"><span data-stu-id="67fd1-190">The `devDependencies` property is used when you want to use that module in your code as in the case of building web parts.</span></span>

<span data-ttu-id="67fd1-191">Ниже приведен файл `package.json` из [веб-части hello world](../web-parts/get-started/build-a-hello-world-web-part.md).</span><span class="sxs-lookup"><span data-stu-id="67fd1-191">The following is the `package.json` of the [helloworld-webpart](../web-parts/get-started/build-a-hello-world-web-part.md).</span></span>

```json 
{
  "name": "helloword-webpart",
  "version": "0.0.1",
  "private": true,
  "engines": {
    "node": ">=0.10.0"
  },
  "dependencies": {
    "@microsoft/sp-client-base": "~1.0.0",
    "@microsoft/sp-core-library": "~1.0.0",
    "@microsoft/sp-webpart-base": "~1.0.0",
    "@types/webpack-env": ">=1.12.1 <1.14.0"
  },
  "devDependencies": {
    "@microsoft/sp-build-web": "~1.0.0",
    "@microsoft/sp-module-interfaces": "~1.0.0",
    "@microsoft/sp-webpart-workbench": "~1.0.0",
    "gulp": "~3.9.1",
    "@types/chai": ">=3.4.34 <3.6.0",
    "@types/mocha": ">=2.2.33 <2.6.0"
  },
  "scripts": {
    "build": "gulp bundle",
    "clean": "gulp clean",
    "test": "gulp test"
  }
}
```

<span data-ttu-id="67fd1-192">Для проекта устанавливается много пакетов, но они необходимы только для создания веб-части в среде разработки.</span><span class="sxs-lookup"><span data-stu-id="67fd1-192">While there are lot of packages installed for the project, they are required only for building the web part in the dev environment.</span></span> <span data-ttu-id="67fd1-193">С помощью этих пакетов вы можете добавлять зависимости от модулей, а также собирать, компилировать, объединять в пакет и упаковывать веб-часть для развертывания.</span><span class="sxs-lookup"><span data-stu-id="67fd1-193">With the help of these packages, you can depend on the modules, and you can build, compile, bundle, and package your web part for deployment.</span></span> <span data-ttu-id="67fd1-194">Последняя минифицированная объединенная в пакет версия веб-части, развернутая на сервере CDN или в SharePoint, не включает эти пакеты.</span><span class="sxs-lookup"><span data-stu-id="67fd1-194">The final minified bundled version of the web part that you deploy to a CDN server or SharePoint does not include any of these packages.</span></span> <span data-ttu-id="67fd1-195">Но вы можете включить некоторые модули в зависимости от потребностей.</span><span class="sxs-lookup"><span data-stu-id="67fd1-195">That said, you can also configure to include certain modules depending on your requirements.</span></span> <span data-ttu-id="67fd1-196">Дополнительные сведения см. в статье [Добавление внешней библиотеки в веб-часть](../web-parts/basics/add-an-external-library.md).</span><span class="sxs-lookup"><span data-stu-id="67fd1-196">For more information, see [Add an external library to a web part](../web-parts/basics/add-an-external-library.md).</span></span>

### <a name="work-with-source-control-systems"></a><span data-ttu-id="67fd1-197">Работа с системами управления версиями</span><span class="sxs-lookup"><span data-stu-id="67fd1-197">Working with source control systems</span></span>

<span data-ttu-id="67fd1-198">Вместе с количеством зависимостей проекта увеличивается количество пакетов для установки.</span><span class="sxs-lookup"><span data-stu-id="67fd1-198">As project dependencies increase, the number of packages to install also increases.</span></span> <span data-ttu-id="67fd1-199">Не возвращайте папку `node_modules`, которая содержит все зависимости, в систему управления версиями.</span><span class="sxs-lookup"><span data-stu-id="67fd1-199">You don’t want to check in the `node_modules` folder, which contains all the dependencies, to your source control system.</span></span> <span data-ttu-id="67fd1-200">Папку `node_modules` следует исключить из списка файлов, которые пропускаются при возврате.</span><span class="sxs-lookup"><span data-stu-id="67fd1-200">You should exclude the `node_modules` from the list of files to ignore during check-ins.</span></span> 

<span data-ttu-id="67fd1-201">Если вы используете систему управления версиями `git`, проект веб-части, созданный генератором Yeoman, содержит файл `.gitignore`, который, помимо прочего, исключает папку `node_modules`.</span><span class="sxs-lookup"><span data-stu-id="67fd1-201">If you are using `git` as your source control system, the Yeoman scaffolded web part project includes a `.gitignore` file that excludes the `node_modules` folder, among other things. When you check out, or clone, the web part project from your source control system the first time, run the command to initialize and install all the project dependencies locally:</span></span> 

<span data-ttu-id="67fd1-202">Когда вы впервые извлекаете или клонируете проект веб-части из системы управления версиями, выполните следующую команду, чтобы инициализировать и установить все зависимости проекта локально:</span><span class="sxs-lookup"><span data-stu-id="67fd1-202">If you are using  as your source control system, the Yeoman scaffolded web part project includes a  file that excludes the  folder, among other things. When you check out, or clone, the web part project from your source control system the first time, run the command to initialize and install all the project dependencies locally:</span></span>

```
npm i
```

<span data-ttu-id="67fd1-203">После выполнения команды диспетчер npm проверяет файл `package.json` и устанавливает необходимые зависимости.</span><span class="sxs-lookup"><span data-stu-id="67fd1-203">After you run the command, npm scans the `package.json` file and installs the required dependencies.</span></span> 

## <a name="build-tasks"></a><span data-ttu-id="67fd1-204">Создание задач</span><span class="sxs-lookup"><span data-stu-id="67fd1-204">Build tasks</span></span>

<span data-ttu-id="67fd1-205">Платформа SharePoint Framework использует средство запуска задач [gulp](http://gulpjs.com/) для обработки следующих процессов:</span><span class="sxs-lookup"><span data-stu-id="67fd1-205">The SharePoint Framework uses [gulp](http://gulpjs.com/) as its task runner to handle processes like the following:</span></span>

* <span data-ttu-id="67fd1-206">добавление в пакет и минификация файлов JavaScript и CSS;</span><span class="sxs-lookup"><span data-stu-id="67fd1-206">Bundle and minify JavaScript and CSS files.</span></span>
* <span data-ttu-id="67fd1-207">запуск инструментов для вызова задач по добавлению в пакет и минификации перед каждой сборкой;</span><span class="sxs-lookup"><span data-stu-id="67fd1-207">Run tools to call the bundling and minification tasks before each build.</span></span>
* <span data-ttu-id="67fd1-208">компиляция файлов LESS или SASS в CSS;</span><span class="sxs-lookup"><span data-stu-id="67fd1-208">Compile LESS or SASS files to CSS.</span></span>
* <span data-ttu-id="67fd1-209">компиляция файлов TypeScript в JavaScript.</span><span class="sxs-lookup"><span data-stu-id="67fd1-209">Compile TypeScript files to JavaScript.</span></span>

<span data-ttu-id="67fd1-210">Цепочка инструментов состоит из следующих задач gulp, определенных в пакете [@microsoft/sp-build-core-tasks](https://www.npmjs.com/package/@microsoft/sp-build-core-tasks):</span><span class="sxs-lookup"><span data-stu-id="67fd1-210">The toolchain consists of the following gulp tasks defined in the [@microsoft/sp-build-core-tasks](https://www.npmjs.com/package/@microsoft/sp-build-core-tasks) package:</span></span>

* <span data-ttu-id="67fd1-211">**build**: создает проект клиентского решения.</span><span class="sxs-lookup"><span data-stu-id="67fd1-211">Builds the client-side solution project.</span></span>
* <span data-ttu-id="67fd1-212">**bundle**: объединяет точку входа проекта клиентского решения и все его зависимости в один файл JavaScript.</span><span class="sxs-lookup"><span data-stu-id="67fd1-212">Bundles the client-side solution project entry point and all its dependencies into a single JavaScript file.</span></span>
* <span data-ttu-id="67fd1-213">**serve**: запускает проект клиентского решения и ресурсы с локального компьютера.</span><span class="sxs-lookup"><span data-stu-id="67fd1-213">Serves the client-side solution project and assets from the local machine.</span></span>
* <span data-ttu-id="67fd1-214">**clean**: удаляет артефакты сборки проекта клиентского решения из предыдущей сборки и каталогов целевого объекта сборки (lib и dist).</span><span class="sxs-lookup"><span data-stu-id="67fd1-214">Cleans the client-side solution project's build artifacts from the previous build and from the build target directories (lib and dist)</span></span>
* <span data-ttu-id="67fd1-215">**test**: запускает модульные тесты для проекта клиентского решения (если они доступны).</span><span class="sxs-lookup"><span data-stu-id="67fd1-215">Runs unit tests, if available, for the client-side solution project.</span></span> 
* <span data-ttu-id="67fd1-216">**package-solution**: помещает клиентское решение в пакет SharePoint.</span><span class="sxs-lookup"><span data-stu-id="67fd1-216">Packages the client-side solution into a SharePoint package.</span></span>
* <span data-ttu-id="67fd1-217">**deploy-azure-storage**: развертывает ресурсы проекта клиентского решения в хранилище Azure.</span><span class="sxs-lookup"><span data-stu-id="67fd1-217">Deploys client-side solution project assets to Azure Storage.</span></span> 

<span data-ttu-id="67fd1-p126">Чтобы инициировать задачу, добавьте ее имя к команде gulp. Например, для компиляции и просмотра веб-части в SharePoint Workbench выполните следующую команду:</span><span class="sxs-lookup"><span data-stu-id="67fd1-p126">To initiate different tasks, append the task name with the gulp command. For example, to compile and then preview your web part in the SharePoint Workbench, run the following command:</span></span>

```
gulp serve
```

> [!NOTE] 
> <span data-ttu-id="67fd1-220">Невозможно выполнять несколько задач одновременно.</span><span class="sxs-lookup"><span data-stu-id="67fd1-220">You cannot execute multiple tasks at the same time.</span></span>

<span data-ttu-id="67fd1-221">Задача `serve` выполняет различные задачи и открывает SharePoint Workbench.</span><span class="sxs-lookup"><span data-stu-id="67fd1-221">The `serve` runs the different tasks and finally launches SharePoint Workbench.</span></span>

![задача gulp serve](../../images/toolchain-gulp-serve-task.png)

### <a name="build-targets"></a><span data-ttu-id="67fd1-223">Целевые режимы сборки</span><span class="sxs-lookup"><span data-stu-id="67fd1-223">Build targets</span></span>

<span data-ttu-id="67fd1-224">На предыдущем снимке экрана указан следующий целевой режим сборки:</span><span class="sxs-lookup"><span data-stu-id="67fd1-224">In the previous screenshot, you can see that the task indicates your build target as follows:</span></span>

```
Build target: DEBUG
```

<span data-ttu-id="67fd1-225">Если параметр не задан, целевой режим команд — BUILD.</span><span class="sxs-lookup"><span data-stu-id="67fd1-225">If no parameter is specified, the commands target the BUILD mode. If the  parameter is specified, then the commands target the SHIP mode.</span></span> <span data-ttu-id="67fd1-226">Если параметр `ship` задан, целевой режим команд — SHIP.</span><span class="sxs-lookup"><span data-stu-id="67fd1-226">If no parameter is specified, the commands target the BUILD mode. If the `ship` parameter is specified, then the commands target the SHIP mode.</span></span>

<span data-ttu-id="67fd1-227">Обычно, когда проект веб-части готов к отгрузке или развертыванию на рабочем сервере, используется целевой режим SHIP.</span><span class="sxs-lookup"><span data-stu-id="67fd1-227">Usually, when your web part project is ready to ship or deploy in a production server, you target SHIP.</span></span> <span data-ttu-id="67fd1-228">Для других сценариев, таких как проверка и отладка, используется целевой режим BUILD.</span><span class="sxs-lookup"><span data-stu-id="67fd1-228">For other scenarios, such as testing and debugging, you would target BUILD.</span></span> <span data-ttu-id="67fd1-229">Целевой режим SHIP также гарантирует, что выполнена сборка минифицированной версии пакета веб-части.</span><span class="sxs-lookup"><span data-stu-id="67fd1-229">The SHIP target also ensures that the minified version of the web part bundle is built.</span></span> 

<span data-ttu-id="67fd1-230">Чтобы использовать режим SHIP, добавьте к имени задачи `--ship`:</span><span class="sxs-lookup"><span data-stu-id="67fd1-230">To target SHIP mode, you append the task with `--ship`:</span></span>

```
gulp --ship
```

<span data-ttu-id="67fd1-231">В режиме DEBUG задачи сборки копируют все ресурсы веб-части, в том числе пакет веб-части, в папку `dist`.</span><span class="sxs-lookup"><span data-stu-id="67fd1-231">In DEBUG mode, the build tasks copy all of the web part assets, including the web part bundle, into the `dist` folder.</span></span>

<span data-ttu-id="67fd1-232">В режиме SHIP задачи сборки копируют все ресурсы веб-части, в том числе пакет веб-части, в папку `temp\deploy`.</span><span class="sxs-lookup"><span data-stu-id="67fd1-232">In SHIP mode, the build tasks copy all of the web part assets, including the web part bundle, into the `temp\deploy` folder.</span></span>

## <a name="see-also"></a><span data-ttu-id="67fd1-233">См. также</span><span class="sxs-lookup"><span data-stu-id="67fd1-233">See also</span></span>

- [<span data-ttu-id="67fd1-234">Средства разработки и библиотеки платформы SharePoint Framework</span><span class="sxs-lookup"><span data-stu-id="67fd1-234">SharePoint Framework development tools and libraries</span></span>](../tools-and-libraries.md)
- [<span data-ttu-id="67fd1-235">Скаффолдинг проектов с помощью генератора Yeoman для SharePoint</span><span class="sxs-lookup"><span data-stu-id="67fd1-235">Scaffold projects using yeoman SharePoint generator</span></span>](scaffolding-projects-using-yeoman-sharepoint-generator.md)
- [<span data-ttu-id="67fd1-236">Обзор SharePoint Framework</span><span class="sxs-lookup"><span data-stu-id="67fd1-236">SharePoint Framework Extensions Overview</span></span>](../sharepoint-framework-overview.md)
