# <a name="sharepoint-framework-spfx-enterprise-guidance"></a>Руководство по SharePoint Framework (SPFx) для предприятий

## <a name="introduction"></a>Введение

SharePoint Framework (или SPFx) — это новая модель разработки для расширения пользовательского интерфейса SharePoint.  Она используется как собственными, так и сторонними разработчиками, дополняя существующие модели пользовательского интерфейса, например модель надстроек SharePoint. SharePoint Framework обеспечивает структурированный и поддерживаемый подход к улучшению и расширению пользовательского интерфейса SharePoint, используя клиентские платформы и встроенную поддержку клиентских веб-частей. Основываясь на современных стандартах веб-технологий, эта платформа предлагает уникальный набор функций, благодаря которым настройки SharePoint становятся доступны большему количеству разработчиков и предприятий, но в то же время согласована с предыдущими моделями и шаблонами SharePoint. В этом документе представлены общие сведения, преимущества и другая информация, необходимая администраторам для успешного управления компонентами SharePoint Framework в средах SharePoint.

## <a name="background"></a>Общие сведения

Среда SharePoint долгое время использовалась как платформа для приложений и/или разработки и предоставляла множество наборов параметров для разработки и настройки: от кода с полным доверием, выполняющегося на серверах SharePoint, до изолированных решений, надстроек и настроек интерфейса, созданных с помощью стандартных функций или внедрения JavaScript/CSS. В мультитенантной среде SharePoint Online код с полным доверием не поддерживался никогда, а служба изолированного кода объявлена устаревшей. Основные модели настройки SharePoint Online — надстройки, удаленное выполнение кода (из другого расположения, например Azure) через стандартные API и внедрение JavaScript. Хотя внедрение JavaScript было очень эффективным способом расширения SharePoint, ему стало трудно соответствовать нестареющей модели SharePoint Online. Платформа SharePoint Framework призвана устранить эти проблемы, предоставляя стандартизированные средства для создания расширений пользовательского интерфейса, а также создания приложений на основе SharePoint Online, использующих поддерживаемые технологии и рассчитанных на долгую работу.

Изначально в SharePoint Framework основное внимание уделяется расширению пользовательского интерфейса SharePoint с помощью *клиентских веб-частей*. Клиентские веб-части основаны на известной парадигме веб-частей, ставшей одним из факторов успеха SharePoint за эти годы. Пользователи могут добавлять их на страницы и независимо настраивать. Клиентские веб-части работают как на современных, так и на классических страницах, а также в мобильном приложении SharePoint. Эта новая модель создана с нуля с использованием современных веб-решений на основе TypeScript/JavaScript, HTML и CSS, а все части созданных артефактов выполняются в браузере пользователя. Кроме того, SharePoint Framework включает совершенно новый набор инструментов. Эти новые инструменты не зависят от платформы, работают как на компьютерах с Windows, так и на Mac, и основаны на технологиях с открытым кодом, таких как [Node.js](https://nodejs.org/), [Gulp](http://gulpjs.com/), [Webpack](http://webpack.github.io/) и [Yeoman](http://yeoman.io/). Эти платформы и инструменты используются при сборке, помогая разработчику собирать, упаковывать и развертывать приложения. Они не обязательны для выполнения кода SharePoint Framework.

## <a name="current-status-of-sharepoint-framework"></a>Текущее состояние SharePoint Framework

[Общедоступная версия](https://blogs.office.com/2017/02/23/sharepoint-framework-reaches-general-availability-build-and-deploy-engaging-web-parts-today/) (1.0.0) платформы SharePoint Framework была выпущена в феврале 2017 г.

## <a name="from-a-developers-point-of-view"></a>Точка зрения разработчиков

Платформа SharePoint Framework будет полезна всем — как новичкам, так и опытным разработчикам SharePoint. Хотя текущий выпуск предназначен в первую очередь для расширения пользовательского интерфейса, он позволяет разработчикам расширять возможности пользовательского интерфейса SharePoint безопасным и структурированным образом, изначально используя клиентские веб-части. Эти веб-части выполняются на стороне клиента и могут работать с данными в SharePoint, в Office 365 через [Microsoft Graph](http://graph.microsoft.io) или даже с помощью собственных пользовательских веб-API с использованием стандартных методов OAuth и REST.

Опытным разработчикам SharePoint знакомы такие понятия, как веб-части и модель данных SharePoint. Однако для сборки, упаковки и развертывания клиентских веб-частей используются совершенно новые инструменты. В первую очередь разработчикам потребуются навыки программирования на [TypeScript](http://www.typescriptlang.org/) — основном языке для разработки артефактов SharePoint Framework. TypeScript имеет ряд преимуществ по сравнению с JavaScript, важных для корпоративной разработки, например строго типизированные объекты, наследование объектов, классы и интерфейсы — понятия, хорошо знакомые разработчикам приложений на .NET, Java и C/C++. Что касается сборки и упаковки, Visual Studio больше не является единственным вариантом для создания решений SharePoint. Благодаря применению технологий и проектов с открытым кодом, таких как node.js, [npm](https://www.npmjs.com/) и Gulp, разрабатывать решения для SharePoint Framework можно на любой платформе, используя любой редактор кода или IDE, например Visual Studio Code, Sublime или даже Блокнот.

Разработчикам, которые никогда раньше не создавали решения для SharePoint, но знакомы с современными веб-технологиями, будет не слишком сложно, а многие разработчики уже перешли на клиентскую или комбинированную разработку. Клиентская разработка позволяет предоставлять пользователям более качественные, динамичные и адаптивные решения, а также упрощает работу разработчиков. Благодаря свободе выбора редактора кода, а также использованию известных и популярных платформ технологий с открытым кодом многим разработчикам (даже тем, которые еще не работали с экосистемой корпорации Майкрософт) будет легко приступить к созданию расширений SharePoint.

Одним из распространенных шаблонов расширения SharePoint Online было внедрение JavaScript (или вставка JavaScript). Этот способ заключается во вставке произвольного кода JavaScript на страницу (например, с помощью веб-части редактора скриптов) и вставке кода HTML, CSS и JavaScript, образующего решение или приложение, с помощью модели DOM браузера. У этого способа есть множество недостатков. Во многих случаях он даже приводил к тому, что пользователи не могли воспользоваться новыми функциями SharePoint Online в связи с их жесткой зависимостью от структуры HTML и CSS в SharePoint. SharePoint Framework предоставляет более надежную (но еще не полную) замену методике внедрения JavaScript. Как упоминалось ранее, SharePoint Framework использует TypeScript, что позволяет с легкостью переносить внедренный код JavaScript в стандартизированные и современные решения. Инициатива OfficeDev PnP также включает примеры проектов и рекомендации по такому переходу.

## <a name="in-perspective-sharepoint-framework-in-the-broader-sharepoint-platform"></a>В перспективе: SharePoint Framework в рамках общей платформы SharePoint

SharePoint Framework — это новая модель, которая дополняет существующие методы, но в первую очередь призвана усовершенствовать такие настройки пользовательского интерфейса, как клиентские веб-части. Эта платформа рассчитана на работу с имеющимися рабочими моделями и призвана упростить создание настроек пользовательского интерфейса более поддерживаемым и надежным образом.

### <a name="compared-with-add-ins"></a>Сравнение с надстройками

Надстройки SharePoint (предыдущее название — приложения для SharePoint) появились в SharePoint 2013 и были одним из немногих поддерживаемых и управляемых вариантов добавления настроек в SharePoint Online. Однако во многих случаях надстройкам SharePoint требуется слишком много инфраструктуры даже для незначительной настройки пользовательского интерфейса. Существует два типа надстроек SharePoint: с размещением в SharePoint и с размещением у поставщика. Надстройки, размещаемые в SharePoint, были одним из поддерживаемых способов выполнения клиентского кода в SharePoint, но, как упоминалось ранее, даже для добавления простой клиентской веб-части (JavaScript) требовалось неоправданно много усилий. Во многих случаях надстройки, размещаемые в SharePoint, создавались только для развертывания артефактов, например списков и веб-частей, на сайте SharePoint. Надстройка размещается на сайте приложения — специальном сайте с ограниченными функциями. С другой стороны, надстройки, размещаемые у поставщика, выполняются удаленно из SharePoint (Online) и могут использовать как серверный, так и клиентский код. Это удобно для независимых поставщиков программного обеспечения, которые хотят защитить свою интеллектуальную собственность, код или логику, а также для сценариев, которые невозможно выполнять на стороне клиента с помощью JavaScript. Например, это могут быть продолжительные, сложные вычислительные операции или доступ к удаленным данным, которые недоступны сценариям на стороне клиента. Основное преимущество надстроек — изолированность. Фактический код не выполняется на сайте SharePoint, поэтому защита браузера от межсайтовых сценариев не позволяет надстройке получить тот же уровень доступа, которым обладает пользователь. Надстройкам доступны только те разрешения, которые были предоставлены им при установке. По этой причине надстройки являются более безопасным вариантом для тех случаев, когда администратор получает надстройку от стороннего поставщика. Кроме того, благодаря этому корпорация Майкрософт смогла создать Магазин, где можно скачивать надстройки.

SharePoint Framework работает параллельно с надстройками, размещаемыми как в SharePoint, так и у поставщика, но ее также можно использовать в качестве альтернативы, когда требуются только сценарии на стороне клиента. Например, надстройки могут добавлять веб-части приложений на свой сайт. Эти веб-части приложений во многом аналогичны обычным веб-частям, но выполняются не в контексте страницы, а на собственном домене (сайте приложения или поставщика) в объекте IFrame на странице. Благодаря этому надстройка не может получить контекст пользователя с остальной части страницы. С другой стороны, SharePoint Framework не выполняется в объекте IFrame. Благодаря этому она может лучше внедряться в контекст страницы, приобретая все права пользователя, просматривающего веб-часть. Это является ключевым фактором, обеспечивающим широкие возможности таких решений, но в то же время означает более низкий уровень безопасности по сравнению с надстройками. В связи с этим решения SharePoint Framework также называют *клиентскими решениями с полным доверием*. Недостаток объектов IFrame — отсутствие гибкости. По этой причине веб-страница будет хуже смотреться на мобильном телефоне или на устройстве с другим размером экрана.

В связи с вышеупомянутым аспектом безопасности на момент написания этой статьи не существует магазина, где можно скачивать и устанавливать решения SharePoint Framework. С другой стороны, во многих случаях требуется использовать контекст пользователя. В таких ситуациях можно использовать SharePoint Framework.

### <a name="javascript-embeddings"></a>Внедрение JavaScript

Один из наиболее популярных подходов, используемых разработчиками, — внедрение JavaScript (или вставка JavaScript). Это означает, что на сайты и страницы вставляется произвольный код JavaScript, например с помощью дополнительных действий, эталонных страниц, макетов страниц или даже веб-частей редактора скриптов. Этот метод оказался проще, чем создание надстроек, размещаемых в SharePoint, а также позволяет коду скрипта выполняться в полном контексте пользователя, поэтому он набрал большую популярность. Недостаток этого подхода заключается в том, что для внедрения часто требуются манипуляции с моделью DOM, а для его выполнения и поддержки необходимы навыки разработчика. А учитывая долговечность среды SharePoint Online, решения, созданные с помощью внедрения JavaScript, могут выходить из строя при каждом обновлении SharePoint Online, так как разработчики могли использовать зависимости (даже случайно) от структуры и стилей страниц SharePoint. Обновления для SharePoint (даже незначительные и незаметные) могут оказывать значительное влияние на эти решения, приводя к неработоспособности кода JavaScript. С выпуском SharePoint Framework появился стандартизированный и поддерживаемый корпорацией Майкрософт способ реализации многих решений, которые ранее создавались с помощью внедрения JavaScript.

### <a name="script-editor-web-parts"></a>Веб-части редактора скриптов

Самый распространенный способ вставки произвольного кода HTML, JavaScript или CSS в SharePoint — использование веб-части редактора скриптов или веб-части редактора содержимого. Веб-части редактора скриптов набрали популярность благодаря тому, как легко с их помощью добавлять пользовательские сценарии на любую страницу. Любой редактор сайта может добавить веб-часть редактора скриптов на страницу, скопировать и вставить код JavaScript, а затем предоставить JavaScript выполнение необходимых настроек. Как и при внедрении JavaScript, администраторам может быть сложно контролировать веб-части редактора скриптов. Во многих случаях SharePoint Framework может служить непосредственной заменой для конфигураций, использующих эту веб-часть.

### <a name="control-of-scripting-capabilities-in-sharepoint-online"></a>Управление возможностями написания скриптов в SharePoint Online

SharePoint Online позволяет администраторам управлять возможностью добавления пользовательских сценариев на сайты и страницы, повышая безопасность и целостность клиента. Это делается с помощью функции "Специальный скрипт" на сайте администрирования SharePoint Online или отдельно для каждого сайта с помощью PowerShell. Специальные скрипты можно отключить на всех сайтах или только на личных сайтах. По умолчанию для новых клиентов отключены сценарии на личных сайтах, всех самостоятельно созданных сайтах, а также в корневом семействе веб-сайтов клиента. Если специальные скрипты отключены, редакторы сайтов не могут добавлять веб-части, в частности редактор скриптов. Однако решения SharePoint Framework разрешены, так как они считаются безопасными после утверждения администратором в каталоге приложений.

## <a name="differences-in-how-sharepoint-framework-solutions-are-created--and-why-it-matters"></a>Особенности создания решений SharePoint Framework (и почему они важны)

SharePoint Framework использует новые принципы разработки, создания и развертывания настроек SharePoint, применяя современную технологию веб-решений с упором на клиентских и браузерных настройках. Это значительно меняет подход к разработке для SharePoint. Благодаря применению таких технологий и платформ, как TypeScript, Node.js, Yeoman и Gulp, SharePoint Framework наверняка привлечет разработчиков, которые обычно не работали с SharePoint (или какими-либо другими продуктами корпорации Майкрософт). В то же время ресурсные разработчики SharePoint смогут создавать настройки SharePoint, используя более современный и стандартизированный подход.

### <a name="creating-solutions"></a>Создание решений

Из-за необходимости в специализированных инструментах, входящих в состав Visual Studio, разработка для SharePoint обычно проходила исключительно в Visual Studio на компьютере с Windows, где был установлен и запущен экземпляр SharePoint. Это значительно ограничивало выбор оборудования и настройки пользователя, а также повышало расходы на разработку. С другой стороны, SharePoint Framework использует различные веб-инструменты с открытым кодом для различных платформ, в том числе MacOS и Linux, обеспечивая большую гибкость разработки.

Решения SharePoint Framework создаются с помощью инструмента [Yeoman](http://yeoman.io/), а также специального генератора для SharePoint Framework, основанного на Node.js. Yeoman — это инструмент скаффолдинга, который поможет вам создать проект и необходимые артефакты, установить необходимые пакеты Node.js и настроить систему сборки. После создания проекта его можно изменить в любой операционной системе, используя любой редактор, например Visual Studio, Visual Studio Code, Sublime или Atom. Это предоставляет более широкие возможности использования и оформления как в рамках групп, так и между ними. Генератор Yeoman можно запускать несколько раз для одного проекта, чтобы добавлять артефакты, например клиентские веб-части.

### <a name="developing-and-building-solutions"></a>Разработка и создание решений

Система сборки основана на [Gulp](http://gulpjs.com/) — средстве запуска задач, которое собирает, упаковывает и при необходимости развертывает артефакты SharePoint Framework. Как и Yeoman, Gulp также основан на Node.js и позволяет разработчикам собирать и развертывать решения в любой операционной системе. Еще одна важная составляющая нового набора инструментов для SharePoint Framework называется *Workbench*. С его помощью разработчик может разместить и протестировать свое решение SharePoint Framework. Workbench автоматически повторно загружает артефакты, когда разработчик сохраняет файл, позволяя быстро просмотреть и протестировать решение. Существует две версии Workbench. Одна из них размещается за пределами SharePoint на локальном компьютере разработчика, не имеющем доступа к среде SharePoint и ее данным. Это позволяет группам и разработчикам создавать и разрабатывать решения с временными или фиктивными данными, чтобы сосредоточиться на пользовательском интерфейсе. Вторая версия размещается в SharePoint и используется для тестирования и проверки решения SharePoint Framework с применением настоящих данных и контекста SharePoint.

### <a name="deploying-sharepoint-framework-solutions"></a>Развертывание решений SharePoint Framework

Развертывание решений SharePoint Framework выполняется в два этапа. Для начала необходимо развернуть артефакты сценариев, упакованные процессом сборки в сети доставки содержимого (CDN). Второй этап — добавление пакета решения в каталог приложений и его утверждение для использования в клиенте. Пакет, добавленный в каталог приложений SharePoint, содержит указатель на расположение в CDN.

Разработчики решения SharePoint Framework могут использовать любую службу CDN, например службу хранилища Azure Storage, Azure CDN или даже саму среду SharePoint, желательно с использованием функций SharePoint CDN (см. ниже). При использовании общедоступной сети CDN, где ресурсы, развернутые в CDN, доступны всем пользователям в Интернете, решение SharePoint Framework смогут использовать несколько клиентов. В решении SharePoint Framework, развернутом в SharePoint CDN, сценарии и ресурсы доступны только тому клиенту, в котором они развернуты.

По умолчанию в состав средств сборки входит встроенная задача для развертывания упакованного решения в хранилище BLOB-объектов Azure. Как правило, это делают системные интеграторы и независимые поставщики программного обеспечения, чтобы обеспечить поддержку пользовательских расположений и конфигураций CDN.

После развертывания решения SharePoint Framework в CDN при изменении его ресурсов (например, сценариев и ресурсов) не требуется повторно развертывать пакет в каталоге приложений или обновлять какие-либо артефакты SharePoint Framework, например клиентские веб-части. Повторно развернуть решение в каталоге приложений потребуется только при изменении свойств на уровне пакета, например при добавлении клиентских веб-частей, ссылок на сторонние библиотеки или изменении расположения CDN.

Расположение CDN имеет значение. Рекомендуем размещать ресурсы SharePoint Framework в Azure, Akamai или других надежных CDN с высоким уровнем доступности, а также в среде SharePoint. С точки зрения безопасности важно знать, какие CDN используются развернутыми решениями SharePoint Framework. Неисправная сеть CDN также может вывести из строя решения SharePoint Framework, а в худшем случае скомпрометированная сеть CDN может привести к компрометации данных клиента SharePoint (Online).

Один из типичных пунктов контрольного списка при утверждении сторонних решений SharePoint Framework — проверка репутации и надежности расположения CDN и всех третьих сторон, у которых могут размещаться эти решения. Это вызвано тем, что после установки и использования приложений в семействах веб-сайтов SharePoint эти семейства веб-сайтов также будут зависеть от расположения CDN. На момент написания этой статьи не существует легкого способа управлять этой конечной точкой. Сторонний поставщик сети CDN может вносить как необходимые, так и нежелательные изменения без ведома пользователя. Это образует уязвимость, так как SharePoint Framework работает в контексте пользователя и может выполнять все действия, разрешенные пользователю.

ИТ-администраторам рекомендуется следить за тем, какие сети CDN используются и какие из них утверждены организацией. Об этом также следует сообщать корпоративным разработчикам.

### <a name="office-365-public-cdn-developer-preview-release"></a>Общедоступная сеть CDN Office 365 (выпуск Developer Preview)

[Общедоступная сеть CDN Office 365 (выпуск Developer Preview)](https://dev.office.com/blogs/office-365-public-cdn-developer-preview-release) — это новая возможность Office 365 и SharePoint Online, позволяющая администраторам автоматически размещать статические ресурсы, такие как файлы JavaScript, изображения и стили CSS, в сети CDN для повышения производительности. Общедоступная сеть CDN Office 365 — это функция географически распределенного кэширования, которая хранит статические ресурсы как можно ближе в браузерам пользователей, которые их запрашивают.

Администраторы могут включить общедоступную сеть CDN Office 365 в одной или нескольких библиотеках документов, которые будут служить источниками статических ресурсов. Для администрирования библиотек и CDN используются командлеты SharePoint Online PowerShell. Активы из библиотеки документов будут реплицированы в сети CDN Office 365 и станут доступны по созданным URL-адресам общедоступной сети CDN Office 365, связанным с библиотекой документов. Изменения ресурсов будут отражены в конечных точках CDN в течение 15 минут. Обратите внимание, что все ресурсы в библиотеках документов будут доступны анонимным пользователям через конечную точку CDN.

## <a name="sharepoint-framework-in-the-enterprise"></a>SharePoint Framework на предприятии

Среда SharePoint всегда была одной из самых успешных платформ для корпоративной совместной работы, а одним из секретов ее успеха была возможность расширения, позволяющая использовать SharePoint в качестве платформы для приложений и интеграции. SharePoint Framework сделает среду SharePoint еще популярнее, превращая ее в современную платформу для поддерживаемого и стандартизированного создания клиентских настроек.

### <a name="enterprise-developers"></a>Корпоративные разработчики

SharePoint Framework позволяет **корпоративным разработчикам** (как правило, это разработчики, создающие приложения для использования в организации) дополнять SharePoint (Online) новыми функциями, используя структурированные и поддерживаемые методики. SharePoint Framework предоставляет полный набор средств — от платформы разработки и конвейера сборки до инструментов разработки, позволяющих разработчикам быстро получить доступ ко всем семействам веб-сайтов с новыми решениями и функциями, которыми управляет каталог приложений. В корпоративном сценарии у вас также есть полный контроль над расположениями CDN (как внешними, так и внутренними в SharePoint), и вы можете с легкостью развертывать исправления и обновления для всей организации.

В рамках предприятия администраторы и разработчики должны вместе составить *план* развертывания новых решений SharePoint Framework. Этот план должен включать сведения о предпочитаемых клиентских платформах, расположениях CDN и т. д. Дополнительные сведения см. ниже в разделе *Составление плана настроек SharePoint Framework*.

### <a name="citizen-developers"></a>Разработчики-любители

Разработчики-любители долгое время использовали SharePoint для создания бизнес-приложений, используя множество методик и технологий. SharePoint Framework во многом — в частности, в том что касается внедрения JavaScript и решений с использованием веб-частей редактора скриптов, — будет для них шагом в правильном направлении. Это позволит сделать решения более стандартизированными и упростить их поддержку. Разработчикам-любителям может потребоваться некоторое время, чтобы освоить новый структурированный способ создания решений, но в долгосрочной перспективе их решения станут более стабильными, безопасными и надежными.

Учитывая наличие вышеупомянутых методов управления *Специальный скрипт*, разработчики-любители не смогут добавлять произвольный код JavaScript и веб-части редактора скриптов. Это может сделать вашу среду SharePoint более стабильной и надежной, но в то же время может препятствовать *инновациям* в компании. Следует убедиться, что разработчики-любители согласуют свои действия с корпоративными разработчиками при дальнейшем использовании SharePoint Framework.

### <a name="user-experience-designers-and-front-end-developers"></a>Разработчики интерфейсов

SharePoint Framework представляет огромную ценность для разработчиков пользовательского интерфейса. Workbench позволяет разработчикам интерфейсов работать с решением SharePoint Framework в любой операционной системе, используя любые средства редактирования, без SharePoint. При этом они применяют фиктивные данные, сосредоточившись на пользовательском интерфейсе. SharePoint Framework выпускается параллельно с [Office UI Fabric](https://dev.office.com/fabric) — официальной платформой разработки интерфейса для Office и Office 365. С ее помощью разработчик может создать согласованный интерфейс в Office, Office 365 и собственных решениях.

### <a name="system-integrators-si"></a>Системные интеграторы

Если вы пользуетесь услугами системных интеграторов или консультантов при создании решений для SharePoint и Office 365, следует установить рекомендации, или даже требования, по созданию решений SharePoint Framework, чтобы они были согласованы с корпоративным планом для SharePoint Framework. Как правило, у системных интеграторов есть предпочтения по созданию решений, которые не всегда совпадают с вашими, поэтому очень важно обсудить с ними этот вопрос. В конечном итоге это упростит работу обеим сторонам. Рассмотрим типичный сценарий работы с системными интеграторами: они создают решение для компании, а по завершении проекта техническое обслуживание и обновление решения становятся вашими обязанностями, что лишь обостряет необходимость согласования методик создания и размещения решений SharePoint Framework с системными интеграторами.

### <a name="independant-software-vendors-isv"></a>Независимые поставщики программного обеспечения

Независимые поставщики программного обеспечения — это организации, занимающиеся разработкой сторонних решений для массового рынка. Результат их работы может не соответствовать вашему плану относительно решений SharePoint Framework. Кроме того, такие разработчики обычно оставляют за собой права на свой код и интеллектуальную собственность, поэтому вам будет очень сложно изменить способы реализации и размещения их решений. В случае использования решений SharePoint Framework от сторонних поставщиков необходимо разобраться, как они управляют обновлениями и как размещаются эти решения. Например, разрешаете ли вы обновлять решение без вашего ведома? Разрешаете ли вы поставщику размещать статические ресурсы в своей сети CDN без вашего контроля? Каковы ваши отношения доверия с этим поставщиком? Помните, что любой клиентский код в SharePoint Framework выполняется в контексте текущего пользователя, и у вас нет возможности накладывать на него ограничения, как в надстройках SharePoint.

## <a name="building-a-plan-around-sharepoint-framework-customizations"></a>Составление плана настроек SharePoint Framework

Внедряя SharePoint Framework как одно из средств для расширения экземпляров SharePoint (Online), необходимо составить план. Он должен начинаться с внедрения нового технологического комплекса, используемого при создании решений SharePoint Framework. Разработчикам может потребоваться обучение использованию TypeScript в качестве основного языка для написания кода SharePoint Framework в зависимости от их предыдущей деятельности (например, разработки клиентских решений на JavaScript или серверного программирования с использованием C#/.NET, PHP и других языков). Еще один аспект, который следует изучить разработчикам SharePoint Framework, — цепочка инструментов для SharePoint Framework, в том числе node.js, npm и Gulp, а также использование различных задач Gulp для сборки, упаковки и развертывания решений. Рекомендуем начать с [официальной документации по SharePoint Framework](https://dev.office.com/sharepoint/docs/spfx/sharepoint-framework-overview) или [репозиториев Github для SharePoint](https://github.com/SharePoint/).

Разработчикам желательно остановиться на одной или нескольких стандартных клиентских платформах для организации. В число клиентских платформ входят, помимо прочих, React, Knockout, Angular, Handlebars, jQuery и т. д. Выбор одной стандартной платформы удобен тем, что разработчики могут создавать код, пригодный для повторного использования, а также согласовывать разработку и техническое обслуживание решений. С другой стороны, в использовании нескольких платформ тоже есть свои плюсы, ведь у каждой клиентской платформы есть свои преимущества и недостатки. Однако если разрешить использовать любую клиентскую платформу, это может привести к фрагментации корпоративных решений, не говоря уже о том, что при использовании нескольких платформ страница может загружаться дольше, ведь требуется загружать больше внешних библиотек.

В стандартную комплектацию генератора Yeoman для SharePoint Framework входят шаблоны для двух клиентских платформ: React и Knockout. Скорее всего, со временем участники сообщества добавят новые генераторы или субгенераторы для использования других клиентских платформ. React хорошо подойдет в качестве предпочитаемой клиентской платформы, так как корпорация Майкрософт создала специальную версию Office UI Fabric для React. Благодаря этому при желании вы сможете придать своей настройке внешний вид и удобство использования Office и Office 365.

Четвертый аспект планирования — способ и место развертывания артефактов решения, то есть в какой сети CDN хранятся созданные вами пакеты сценариев и ресурсы. В комплект поставки входят задачи Gulp только для хранилища BLOB-объектов Azure и Azure CDN. Этот вариант хорошо вам подойдет, если вы управляете подпиской Azure и вам требуется обмениваться ресурсами между несколькими клиентами. Еще один распространенный подход — использовать среду SharePoint Online и ее функцию CDN в качестве узла для артефактов. Однако при этом требуется изменить цепочку инструментов и при необходимости создать задачи Gulp для управления.

В завершение разработчикам следует задуматься об управлении жизненным циклом приложений (ALM). Способ управления исходным кодом и версиями, автоматическая сборка, тестирование, развертывание и т. д. Можно использовать наиболее распространенные системы управления версиями исходного кода, например Git, Github или Visual Studio Team Systems. Для непрерывной интеграции нет средств по умолчанию, и вы можете использовать любой инструмент, поддерживающий node.js, например Visual Studio Team Systems, Travis CI или Jenkins. С помощью этих инструментов вы можете автоматизировать сборку и тестирование, а в случае успешной и утвержденной сборки вы даже можете автоматически развернуть артефакты в расположении CDN. Тем самым вы автоматизируете все процессы от отправки кода разработчиком до развертывания в рабочей среде.

## <a name="management-capabilities-of--sharepoint-framework-solutions"></a>Возможности управления в решениях SharePoint Framework

Все решения SharePoint Framework, развернутые в клиенте, должны быть утверждены администратором клиента. Для этого необходимо отправить пакет SharePoint Framework, файл `.sppkg`, в библиотеку *Приложения для SharePoint*. Когда новое решение будет добавлено в библиотеку, администратор увидит диалоговое окно, где он может согласиться на использование решения в клиенте. В диалоговом окне поясняется, что это решение использует *клиентский код с полным доверием* без ограничений на ресурсы и выполняется в контексте пользователя. Кроме того, в этом окне показано, с какого домена решение будет в первую очередь получать содержимое. Это расположение CDN для сценариев SharePoint Framework. Обратите внимание, что любое приложение SharePoint Framework может загружать данные из других расположений после начальной загрузки из CDN. Когда решение SharePoint Framework будет утверждено, его можно будет включить в любом семействе веб-сайтов.

![Диалоговое окно доверия приложению SharePoint Framework](../../../../images/enterprise-guidance-trust-spfx-dialog.png)

Администратор каталога приложений может в любой момент удалить пакет из каталога, удалив пакет решения из библиотеки *Приложения для SharePoint*. При этом решение будет запрещено использовать во всех семействах веб-сайтов. Решение также можно отключить, изменив свойство *Enabled* отправленного пакета. При это решение будет отключено сразу во всех семействах веб-сайтов. Существующие страницы, использующие клиентские веб-части, не будут отображаться в веб-части. Приложение будет недоступно в семействах веб-сайтов, и его невозможно будет добавить в них. При удалении решения SharePoint Framework не удаляются данные и информация, созданные клиентским решением в SharePoint или другом внешнем источнике данных, используемом решением.

Администратор также может менять другие свойства пакета в каталоге приложений, чтобы сделать решение более *видимым* в семействах веб-сайтов. Например, можно изменить значок, категорию, описание и статус популярности.

Если требуется обновить пакет решения (это необходимо при появлении новых артефактов SharePoint Framework или других изменениях на уровне пакета), администратору достаточно отправить новую версию пакета в библиотеку.

Кроме того, администратор клиента может отслеживать решения SharePoint Framework так же, как и надстройки SharePoint. В разделе *Приложения* Центра администрирования SharePoint администратор SharePoint может добавлять решения SharePoint Framework и видеть, в скольких расположениях установлено то или иное решение. Это относится как к надстройкам SharePoint, так и к решениям SharePoint Framework.

Чтобы включить решение SharePoint Framework в семействе веб-сайтов, администратор этого семейства должен добавить туда это решение. Это делается так же, как и с надстройками SharePoint: нажмите *Добавить новое приложение* для семейства веб-сайтов и выберите решение в списке приложений. После добавления приложение станет доступно для использования в семействе веб-сайтов. Администратор семейства веб-сайтов также может удалить SharePoint Framework из семейства веб-сайтов. Для этого откройте раздел *Контент сайта* и нажмите *Удалить* рядом с приложением.

### <a name="sharepoint-framework-deployment-scopes"></a>Области развертывания SharePoint Framework

Для решений SharePoint Framework доступна только одна область развертывания — на уровне клиента. Когда решение SharePoint Framework будет добавлено в каталог приложений и включено, оно станет доступно всем семействам веб-сайтов.

В отличие от надстроек SharePoint, у SharePoint Framework нет магазина. По этой причине инициатором развертывания всегда должен быть администратор клиента. Он должен добавить пакет решения в каталог приложений и утвердить его.

### <a name="backing-up-and-restoring-sharepoint-framework-components"></a>Резервное копирование и восстановление компонентов SharePoint Framework

Решения SharePoint Framework не имеют функций резервного копирования и восстановления. Единственная рекомендация для администраторов — хранить копию файлов всех установленных пакетов решений (`.sppkg`), на тот случай, если пакет решения будет по ошибке удален из каталога приложений. Однако каталог приложений является библиотекой SharePoint и имеет те же функции, что и любая библиотека документов, в частности систему управления версиями и корзину.

Невозможно создать резервные копии артефактов решений, таких как пакеты сценариев и ресурсы, размещенные в CDN. Однако если вы контролируете сеть CDN или она является сайтом SharePoint, вы можете создать их резервные копии. С другой стороны, если вы используете решения SharePoint Framework от сторонних поставщиков, в вашей организации может быть невозможно создать их резервные копии.

## <a name="sharepoint-framework-roadmap"></a>План развития SharePoint Framework

Общедоступная версия платформы SharePoint Framework была выпущена в феврале 2017 г. Имеется ввиду версия SharePoint Framework, которую ИТ-специалисты и разработчики смогут использовать в рабочей среде. Мы ожидаем, что с выходом общедоступной версии пользователи будут создавать и использовать компоненты на основе SharePoint Framework не только в веб-частях, но и для таких задач, как настройка списков и сайтов. Дополнительные сведения о SharePoint Framework см. в [статье, посвященной плану развития SharePoint Framework](https://dev.office.com/sharepoint/docs/spfx/roadmap). Кроме того, в 2017 году команда разработчиков SharePoint планирует сделать платформу SharePoint Framework доступной в локальной среде SharePoint 2016 с выпуском нового пакета дополнительных компонентов.

Объявления о значительных изменениях и добавлении важных функций будут публиковаться в Центре сообщений Office 365. Администраторам Office 365 следует ежедневно его проверять. Еще один важный ресурс — [блог разработчиков Office](http://dev.office.com/blogs), где вы найдете еще больше информации.

## <a name="summary"></a>Сводка

SharePoint Framework — отличное дополнение и развитие набора инструментов для настройки SharePoint, позволяющее разработчикам расширять SharePoint (Online) поддерживаемым и управляемым образом. Платформа SharePoint Framework, основанная на современных технологиях с открытым кодом, позволяет расширить аудиторию корпоративных разработчиков SharePoint. Теперь она не ограничивается командой разработчиков SharePoint и включает разноплановых специалистов.  Обеспечивая надлежащее управление и поддержку SharePoint Framework в клиенте, администратор поможет разработчикам создавать более качественные решения в более сжатые сроки, повышая общую эффективность работы.

Так как платформа SharePoint Framework создана и для собственных, и для сторонних разработчиков, а также все чаще используется корпорацией Майкрософт для будущих улучшений SharePoint, она будет удачным выбором и для вашей организации. Со временем ожидаются добавочные обновления и дополнения SharePoint Framework, которые заполнят пробел между классической и современной средами SharePoint.
