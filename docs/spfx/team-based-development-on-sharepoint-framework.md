---
title: "Групповая разработка в SharePoint Framework"
ms.date: 09/25/2017
ms.prod: sharepoint
ms.openlocfilehash: 47ec75d99928e3f71ffd6222dc83570203f3afae
ms.sourcegitcommit: d68d6cf927d69696a3561f7d8ffe9a3ed9dbd03c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/18/2017
---
# <a name="team-based-development-on-the-sharepoint-framework"></a><span data-ttu-id="9441b-102">Групповая разработка в SharePoint Framework</span><span class="sxs-lookup"><span data-stu-id="9441b-102">Team-based development on the SharePoint Framework</span></span>

<span data-ttu-id="9441b-p101">SharePoint Framework — это новая модель разработки настроек SharePoint. В отличие от других доступных на сегодняшний день моделей, SharePoint Framework связана с клиентской разработкой и создана на основе таких популярных инструментов с открытым кодом, как gulp и webpack. Важным преимуществом этого изменения является то, что настройки SharePoint могут создавать разработчики на любой платформе.</span><span class="sxs-lookup"><span data-stu-id="9441b-p101">SharePoint Framework is a new development model for building SharePoint customizations. Unlike other SharePoint development models available to date, the SharePoint Framework focuses on client-side development and is built on top of popular open source tools such as gulp and webpack. One big benefit of this change is that developers on any platform can build SharePoint customizations.</span></span>

<span data-ttu-id="9441b-p102">SharePoint Framework — это модель разработки и, несмотря на различия в основной технологии, к ней применяются те же понятия, что и к другим моделям разработки SharePoint, использовавшимся в прошлом. Разработчики создают и проверяют решения с помощью цепочки инструментов SharePoint Framework, а затем сдают пакет решения, который развертывается на клиенте SharePoint для дополнительной проверки и выпуска.</span><span class="sxs-lookup"><span data-stu-id="9441b-p102">SharePoint Framework is a development model, and despite the differences in the underlying technology, the same concepts apply when using it for building solutions, as to other development models SharePoint developers used in the past. Developers use the SharePoint Framework toolchain to build and test their solutions and once ready, they hand over the solution package to be deployed on the SharePoint tenant for further testing and release.</span></span>

<span data-ttu-id="9441b-p103">SharePoint Framework состоит из нескольких пакетов. Эти пакеты, каждый из которых находится на собственной стадии разработки, составляют выпуск SharePoint Framework. Например, общедоступная версия SharePoint Framework состоит из следующих пакетов:</span><span class="sxs-lookup"><span data-stu-id="9441b-p103">SharePoint Framework consists of a few different packages. These packages, each in its own specific version, make up a release of the SharePoint Framework. For example the General Availability release of the SharePoint Framework consists of the following package versions:</span></span>

- <span data-ttu-id="9441b-111">@microsoft/sp-client-base 1.0.0</span><span class="sxs-lookup"><span data-stu-id="9441b-111">@microsoft/sp-client-base v1.0.0</span></span>
- <span data-ttu-id="9441b-112">@microsoft/sp-core-library 1.0.0</span><span class="sxs-lookup"><span data-stu-id="9441b-112">@microsoft/sp-core-library v1.0.0</span></span>
- <span data-ttu-id="9441b-113">@microsoft/sp-webpart-base 1.0.0</span><span class="sxs-lookup"><span data-stu-id="9441b-113">@microsoft/sp-webpart-base v1.0.0</span></span>
- <span data-ttu-id="9441b-114">@microsoft/sp-build-web 1.0.0</span><span class="sxs-lookup"><span data-stu-id="9441b-114">@microsoft/sp-build-web v1.0.0</span></span>
- <span data-ttu-id="9441b-115">@microsoft/sp-module-interfaces 1.0.0</span><span class="sxs-lookup"><span data-stu-id="9441b-115">@microsoft/sp-module-interfaces v1.0.0</span></span>
- <span data-ttu-id="9441b-116">@microsoft/sp-webpart-workbench 1.0.0</span><span class="sxs-lookup"><span data-stu-id="9441b-116">@microsoft/sp-webpart-workbench v1.0.0</span></span>

<span data-ttu-id="9441b-p104">Проект, предназначений для определенного выпуска SharePoint Framework, должен ссылаться на правильные версии пакетов. При создании новых проектов генератор Yeoman автоматически добавляет необходимые ссылки на пакет из соответствующего выпуска SharePoint Framework. Но при переносе проекта на новую версию SharePoint Framework разработчики должны правильно обновить номера версий пакетов SharePoint Framework.</span><span class="sxs-lookup"><span data-stu-id="9441b-p104">For a project to target a specific release of the SharePoint Framework it has to reference all the different packages in the correct versions. When scaffolding new projects, the SharePoint Framework Yeoman generator automatically adds the necessary references to the package from the corresponding release of the SharePoint Framework. But when upgrading the project to a newer version of the SharePoint Framework developers have to pay extra attention to correctly update version numbers of the SharePoint Framework packages.</span></span>

## <a name="preparing-the-development-environment"></a><span data-ttu-id="9441b-120">Подготовка среды разработки</span><span class="sxs-lookup"><span data-stu-id="9441b-120">Preparing the development environment</span></span>

<span data-ttu-id="9441b-p105">Для создания решений SharePoint Framework нужны специальные средства на компьютерах разработки. В отличие от других моделей разработки SharePoint, SharePoint Framework не ограничивает разработчиков в выборе средств и операционной системы.</span><span class="sxs-lookup"><span data-stu-id="9441b-p105">In order to build SharePoint Framework solutions developers need specific tools on the development machines. Comparing to other SharePoint development models, the SharePoint Framework is less restrictive and allows developers to use the tools that make them the most productive going even as far as choosing the operating system.</span></span>

<span data-ttu-id="9441b-p106">Разработчики могут настроить среду разработки несколькими способами. Каждый из них имеет свои преимущества, и важно, чтобы команды разработчиков были знакомы со всеми вариантами.</span><span class="sxs-lookup"><span data-stu-id="9441b-p106">There are a few different ways in which developers can configure their development environment. Each of them has different advantages and it's important that developer teams have a good understanding of the different options.</span></span>

### <a name="sharepoint-framework-toolchain"></a><span data-ttu-id="9441b-125">Цепочка инструментов SharePoint Framework</span><span class="sxs-lookup"><span data-stu-id="9441b-125">SharePoint Framework toolchain</span></span>

<span data-ttu-id="9441b-p107">При создании решений SharePoint Framework необходимо использовать определенный набор инструментов. Ниже представлен основной набор инструментов, обязательный для всех сред разработки SharePoint Framework.</span><span class="sxs-lookup"><span data-stu-id="9441b-p107">Building SharePoint Framework solutions requires developers to use a certain set of tools. Following list covers the basic set of tools required on every SharePoint Framework development environment.</span></span>

#### <a name="nodejs"></a><span data-ttu-id="9441b-128">Node.js</span><span class="sxs-lookup"><span data-stu-id="9441b-128">Node.js</span></span>

<span data-ttu-id="9441b-p108">На компьютере разработчика должна быть установлена платформа Node.js. Node.js используется как среда выполнения для средств разработки и упаковки проекта. Платформа Node.js устанавливается на компьютере разработчика глобально, и при необходимости несколько версий Node.js могут работать одновременно.</span><span class="sxs-lookup"><span data-stu-id="9441b-p108">SharePoint Framework requires Node.js to be installed on the developer machine. Node.js is used as the runtime for design-time tools used to build and package the project. Node.js is installed globally on the developer machine and there are solutions available to support running multiple versions of Node.js side-by-side if necessary.</span></span>

> <span data-ttu-id="9441b-132">См. дополнительные сведения об [установке файла Node.js и поддерживаемых версиях](./set-up-your-development-environment.md).</span><span class="sxs-lookup"><span data-stu-id="9441b-132">See more information about [installing Node.js and the supported versions](./set-up-your-development-environment.md).</span></span>

#### <a name="npm"></a><span data-ttu-id="9441b-133">Npm</span><span class="sxs-lookup"><span data-stu-id="9441b-133">Npm</span></span>

<span data-ttu-id="9441b-p109">Npm — это аналог NuGet в проектах .NET: он позволяет разработчикам приобрести и установить пакеты для использования в проектах SharePoint Framework. Npm также используется для установки цепочки инструментов SharePoint Framework. Обычно разработчики используют последнюю версию npm и устанавливают ее глобально на компьютере. Npm — это пакет Node.js, поэтому, если вы используете несколько версий Node.js одновременно, для каждой будет установлена собственная версия npm.</span><span class="sxs-lookup"><span data-stu-id="9441b-p109">Npm is the equivalent of NuGet in .NET projects: it allows developers to acquire and install packages for use in SharePoint Framework projects. Npm is also used to install the SharePoint Framework toolchain. Typically developers will use the latest version of npm and install it globally on their machine. Npm itself is a Node.js package so if you're running multiple versions of Node.js side-by-side each will have its own version of npm installed.</span></span>

#### <a name="gulp"></a><span data-ttu-id="9441b-138">gulp</span><span class="sxs-lookup"><span data-stu-id="9441b-138">gulp</span></span>

<span data-ttu-id="9441b-p110">gulp — это аналог MSBuild в проекте .NET и отвечает за выполнение таких задач, как сборка и упаковка проекта SharePoint Framework. gulp распространяется в виде пакета Node.js и обычно устанавливается глобально с помощью npm.</span><span class="sxs-lookup"><span data-stu-id="9441b-p110">gulp is the equivalent of MSBuild in .NET project and is responsible for running tasks such as building or packaging a SharePoint Framework project. gulp is distributed as a Node.js package and is typically installed globally using npm.</span></span>

#### <a name="yeoman-and-sharepoint-framework-yeoman-generator"></a><span data-ttu-id="9441b-141">Yeoman и генератор SharePoint Framework Yeoman</span><span class="sxs-lookup"><span data-stu-id="9441b-141">Yeoman and SharePoint Framework Yeoman generator</span></span>

<span data-ttu-id="9441b-p111">Разработчики создают проекты SharePoint Framework с помощью Yeoman и генератора SharePoint Framework Yeoman. Yeoman и генераторы распространяются в виде пакетов Node.js и обычно устанавливаются глобально с помощью npm. Преимущество глобальный установки заключается в том, что разработчики могут установить Yeoman и генераторы один раз и использовать их для создания проектов.</span><span class="sxs-lookup"><span data-stu-id="9441b-p111">Using Yeoman and the SharePoint Framework Yeoman generator developers create new SharePoint Framework projects. Both Yeoman and its generators are distributed as Node.js packages and are typically installed using npm as global packages. The benefit of a global installation is that developers can install Yeoman and the generators once and use them to easily create new projects.</span></span>

<span data-ttu-id="9441b-p112">Генератор Yeoman связан с определенной версией SharePoint Framework. Проекты, созданные с помощью генератора, ссылаются на определенные версии пакетов SharePoint Framework, а созданные веб-части — на определенные части платформы. Генератор SharePoint Framework Yeoman используется для создания проектов, а также для добавления веб-частей в существующие проекты. Если вы установите его глобально и добавите новую веб-часть в существующий проект, она может оказаться несовместимой с остальной частью проекта, что может привести к ошибкам сборки. Это ограничение можно обойти несколькими способами, которые описаны далее в этой статье.</span><span class="sxs-lookup"><span data-stu-id="9441b-p112">The SharePoint Framework Yeoman generator is tied to a specific version of the SharePoint Framework. Projects scaffolded using the generator, reference the specific versions of the SharePoint Framework packages and the generated web parts reference the specific pieces of the framework. The SharePoint Framework Yeoman generator is used for creating new projects but also for adding web parts to existing projects. If you install it globally and would have to add a new web part to an existing project created in the past, the newly created web part might be inconsistent with the rest of the project which might even lead to build errors. There are a number of ways in which you can work around this limitation which this article discusses later on.</span></span>

#### <a name="typescript"></a><span data-ttu-id="9441b-150">TypeScript</span><span class="sxs-lookup"><span data-stu-id="9441b-150">TypeScript</span></span>

<span data-ttu-id="9441b-p113">SharePoint Framework использует TypeScript, чтобы разработчики могли работать эффективнее, оптимизируя написание кода и находя ошибки во время самой разработки. Проекты SharePoint Framework поставляются с собственной версией TypeScript, которая используется в процессе сборки и не требует отдельной установки.</span><span class="sxs-lookup"><span data-stu-id="9441b-p113">SharePoint Framework uses TypeScript to help developers be more productive by writing better code and catching errors already during development. SharePoint Framework projects ship with their own version of TypeScript which is used in the build process and which doesn't require developers to install it separately.</span></span>

### <a name="building-a-sharepoint-framework-development-environment"></a><span data-ttu-id="9441b-153">Создание среды разработки SharePoint Framework</span><span class="sxs-lookup"><span data-stu-id="9441b-153">Building a SharePoint Framework development environment</span></span>

<span data-ttu-id="9441b-p114">В прошлом в качестве среды разработки SharePoint обычно использовались виртуальные машины. Они позволяли создать решение, которое точно будет работать в среде, используемый в определенной организации. На виртуальных машинах разработчики устанавливали SharePoint и обновляли его в соответствии с рабочей средой, используемой в конкретной организации. В некоторых случаях они устанавливали дополнительное программное обеспечение, чтобы среда разработки максимально соответствовала целевой среде, в которой будет использоваться решение. Этот подход был сложным и подразумевал управление различными средами, но позволял разработчикам раньше находить ошибки, вызываемые разницей в средах.</span><span class="sxs-lookup"><span data-stu-id="9441b-p114">In the past SharePoint developers typically used virtual machines as their development environments. Virtual machines allowed them to ensure that the solution they were building would work on the environment used by that particular organization. In their virtual machines developers would install SharePoint and patch it to the same level as the production environment used by the particular organization. In some cases they would install additional software to match the target environment where the solution would run as closely as possible. This approach allowed developers to catch any errors caused by the difference in environments earlier at the cost of complexity and managing the different environments.</span></span>

<span data-ttu-id="9441b-p115">Переход на решения разработки для облака только частично решил эти проблемы. Разработчикам больше не нужно было запускать ферму SharePoint на своих компьютерах разработки, но им приходилось учитывать способ размещения решения и взаимодействия с SharePoint Online.</span><span class="sxs-lookup"><span data-stu-id="9441b-p115">Moving to developing solutions for the cloud solved these issues only partly. While developers no longer needed to run a SharePoint Farm on their development machines, they had to take into account how their solution would be hosted and how it would communicate with SharePoint Online.</span></span>

<span data-ttu-id="9441b-p116">Так как SharePoint Framework связан с клиентской разработкой, SharePoint больше не нужно устанавливать на компьютерах разработки. За редким исключением, все зависимости от платформы и другие пакеты указываются в проекте и содержатся в папке проекта. Так как платформа SharePoint Framework появилась из облака и постоянно эволюционирует, разработчики должны использовать правильную версию цепочки инструментов, соответствующую проекту SharePoint Framework.</span><span class="sxs-lookup"><span data-stu-id="9441b-p116">As SharePoint Framework focuses on client-side development it no longer requires SharePoint to be installed on the development machines. With a few exceptions, all dependencies to the framework and other packages are specified in the project and contained in the project folder. As the SharePoint Framework has its origins in the cloud and evolves frequently, developers must ensure that they are using the correct version of the toolchain corresponding to their SharePoint Framework project.</span></span>

#### <a name="shared-or-a-personal-development-environment"></a><span data-ttu-id="9441b-164">Общая или личная среда разработки</span><span class="sxs-lookup"><span data-stu-id="9441b-164">Shared or a personal development environment</span></span>

<span data-ttu-id="9441b-p117">Среди настроек SharePoint есть как простые сценарии, добавляемые прямо на страницу, так и сложные решения, развертываемые как пакеты решений. SharePoint Framework — это модель разработки, предназначенная для структурированной и стандартной модели развертывания настроек SharePoint. При создании решений SharePoint Framework каждый разработчик в команде использует собственную среду разработки и делится исходным кодом проекта с другими разработчиками через систему управления версиями. Таким образом разработчики могут одновременно работать над одним проектом и проверять решения, не мешая друг другу.</span><span class="sxs-lookup"><span data-stu-id="9441b-p117">SharePoint customizations range from simple scripts being added directly to the page to sophisticated solutions deployed as solution packages. SharePoint Framework is a development model targeting the structured and repeatable deployment model of SharePoint customizations. When building SharePoint Framework solutions each developer on the team uses his own development environment and shares the source code of the project with other developers on the team through a source control system. This way developers can work on the same project simultaneously and test their solution without affecting each others productivity.</span></span>

<span data-ttu-id="9441b-p118">В прошлом многие организации не могли обеспечить разработчиков SharePoint мощными компьютерами, и иногда нескольким разработчикам приходилось использовать один компьютер и работать менее эффективно. Благодаря SharePoint Framework разработчики могут использовать стандартные компьютеры для создания настроек SharePoint.</span><span class="sxs-lookup"><span data-stu-id="9441b-p118">In the past it was challenging for many organizations to justify providing SharePoint developers with very powerful development machines and in some cases multiple developers had to share the same machine at the cost of productivity. With SharePoint Framework developers can use market-standard developer machines to build SharePoint customizations.</span></span>

#### <a name="developing-on-the-host"></a><span data-ttu-id="9441b-171">Разработка на хост-компьютере</span><span class="sxs-lookup"><span data-stu-id="9441b-171">Developing on the host</span></span>

<span data-ttu-id="9441b-p119">Самый простой способ настроить среду разработки для проектов SharePoint Framework — установить все средства непосредственно на хост-компьютере. Если ваша команда работает только над проектами SharePoint Framework, разработчики могут установить Node.js на своих компьютерах. Если они работают и над другими проектами Node.js, они могут использовать сторонние решения, такие как [nvm](https://github.com/creationix/nvm), для одновременного запуска нескольких версий Node.js.</span><span class="sxs-lookup"><span data-stu-id="9441b-p119">Probably the easiest option to setup a development environment for SharePoint Framework projects is to install all the tools directly on the host machine. If your team is working only on SharePoint Framework projects, then they can install Node.js on their machines. If they work on other Node.js projects as well then they could use third party solutions such as [nvm](https://github.com/creationix/nvm) to run multiple versions of Node.js side-by-side.</span></span>

<span data-ttu-id="9441b-175">После средств, необходимых для цепочки инструментов SharePoint Framework, разработчики устанавливают Yeoman и генератор Yeoman для SharePoint Framework.</span><span class="sxs-lookup"><span data-stu-id="9441b-175">Following the tools required by the SharePoint Framework toolchain, developers would install Yeoman and the SharePoint Framework Yeoman generator.</span></span> <span data-ttu-id="9441b-176">Обычно оба эти средства устанавливаются глобально.</span><span class="sxs-lookup"><span data-stu-id="9441b-176">Typically both these tools are installed globally.</span></span> <span data-ttu-id="9441b-177">Так как генератор Yeoman для SharePoint Framework связан с определенной версией SharePoint Framework, разработчикам может потребоваться удалить генератор, а затем установить версию для проекта, над которым они работают в данный момент.</span><span class="sxs-lookup"><span data-stu-id="9441b-177">Given however, that the SharePoint Framework Yeoman generator is tied to a specific version of the SharePoint Framework and developers might need to work with projects created using a different version, they would have to uninstall and install the version of the generator specific for the particular project they are working on at the moment.</span></span> <span data-ttu-id="9441b-178">Более целесообразно установить Yeoman глобально, а генератор Yeoman для SharePoint Framework — локально в проекте.</span><span class="sxs-lookup"><span data-stu-id="9441b-178">A more viable approach would be to install Yeoman globally but the SharePoint Framework Yeoman generator locally in the given project.</span></span> <span data-ttu-id="9441b-179">Несмотря на определенные издержки, таким способом разработчики могут обеспечить совместимость новых элементов с остальной частью проекта.</span><span class="sxs-lookup"><span data-stu-id="9441b-179">While it introduces some overhead, it helps developers ensure that should they need to add new elements to the project in the future they would be compatible with the rest of the project.</span></span>

<span data-ttu-id="9441b-p121">Преимуществом разработки на хост-компьютере является то, что разработчик может настроить компьютер по своему вкусу и использовать его для всех проектов. Кроме того, при выполнении программного обеспечения на хост-компьютере оно имеет прямой доступ к ЦП и памяти и диску, что гарантирует лучшую производительность, чем при выполнении того же программного обеспечения на виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="9441b-p121">Big benefit of developing on the host is that developers can configure their machine to their preferences once and use it across all projects. Also, as the software executes on the host, it has direct access to the CPU, memory and disk I/O without a virtualization layer in between which leads to a better performance than when running the same software virtualized.</span></span>

#### <a name="developing-in-a-virtual-machine"></a><span data-ttu-id="9441b-182">Разработка на виртуальной машине</span><span class="sxs-lookup"><span data-stu-id="9441b-182">Developing in a virtual machine</span></span>

<span data-ttu-id="9441b-p122">В прошлом большинство разработчиков SharePoint использовали виртуальные машины в качестве основной среды разработки для создания решений SharePoint. С помощью виртуальных машинах разработчики могли обеспечить соответствие разным требованиям к разным проектам.</span><span class="sxs-lookup"><span data-stu-id="9441b-p122">In the past the most common approach amongst SharePoint developers was to use virtual machines as their primary development environment for building SharePoint solutions. Using virtual machines developers could accommodate the different requirements for the different projects.</span></span>

<span data-ttu-id="9441b-p123">При создании решений в SharePoint Framework организации получают те же преимущества, что и при создании решений SharePoint в прошлом. С помощью виртуальных машин они могут изолировать программное обеспечение разработки от операционной системы хост-компьютера, что часто требуется, особенно в больших организациях. Создав отдельную виртуальную машину для каждого проекта, разработчики могут обеспечить совместимость используемой цепочки инструментов с проектом, даже если к нему придется вернуться в будущем.</span><span class="sxs-lookup"><span data-stu-id="9441b-p123">When building solutions on the SharePoint Framework organizations can use the same benefits as they used with building SharePoint solutions in the past. Using virtual machines they can isolate the development software from the host operating system which is a common requirement particularly in large organizations. By creating a separate virtual machine for each project developers can ensure that the toolchain they use is compatible with the project even if they need to pick up the particular project in the future.</span></span>

<span data-ttu-id="9441b-p124">Использование виртуальных машин имеет свои недостатки. Виртуальные машины занимают много места, и для их приемлемой работы требуются достаточно мощные компьютеры. Кроме того, время от времени разработчики должны обновлять операционную систему и устанавливать все необходимые обновления для системы безопасности. Разработчики должны тратить некоторое время в начале нового проекта на настройку стандартной виртуальной машины по своему вкусу или использовать стандартные настройки и работать менее эффективно. Так как на виртуальных машинах запускается полная операционная система со всеми компонентами, гораздо труднее обеспечить совместимость всех виртуальных машин, используемых всеми разработчиками в команде. По сравнению с другими средами разработки, создание решений SharePoint Framework с помощью виртуальных машин требует больше денег и времени.</span><span class="sxs-lookup"><span data-stu-id="9441b-p124">Using virtual machines is not without drawbacks. Virtual machines are big and require developers to use computers powerful enough to run them with acceptable performance to be productive. Additionally, particularly over longer periods of time, developers have to keep the operating system up-to-date and ensure they run all the necessary security updates. As developers work in a virtual machine they either have to spend some time at the beginning of a new project to configure the standard virtual machine to their preferences or have to give in to the standard setup at the cost of their productivity. Because virtual machines run a complete operating system with all its components it's much harder to ensure that all virtual machines used by all developers on the team are consistent. Comparing to other types of development environments, using virtual machines for building SharePoint Framework solutions is expensive both from the cost and time point of view.</span></span>

#### <a name="developing-using-docker"></a><span data-ttu-id="9441b-194">Разработка с использованием Docker</span><span class="sxs-lookup"><span data-stu-id="9441b-194">Developing using Docker</span></span>

<span data-ttu-id="9441b-p125">Использование Docker — это интересный компромисс между разработкой на хост-компьютере и виртуальной машине. Docker — это технология виртуализации программного обеспечения, похожая на виртуальные машины, но имеющая несколько существенных отличий. Самые важные преимущества образов Docker над виртуальными машинами: образы Docker проще создавать, обслуживать и распространять, они занимают меньше места на диске (несколько сотен МБ по сравнению с десятками ГБ для виртуальных машинах) и позволяют разработчикам использовать средства и параметры, которые они уже установили и настроили на хост-компьютере.</span><span class="sxs-lookup"><span data-stu-id="9441b-p125">An interesting middle ground between developing on the host and in a virtual machine is using Docker. Docker is a software virtualization technology similar to virtual machines with a few big differences. The most important benefits of using Docker images over virtual machines are that Docker images are easier to create, maintain and distribute, they are more lightweight (few hundred MBs comparing to tens of GBs disk space required for virtual machines) and they allow developers to use the tools and preferences they already have installed and configured on their host machine.</span></span>

<span data-ttu-id="9441b-p126">Так же как на виртуальных машинах, в контейнерах Docker запускается виртуализированный экземпляр операционной системы (обычно на основе Linux). Все программное обеспечение, установленное в образе, используемом для создания контейнера, выполняется изолированно внутри этого контейнера и имеет доступ только к части файловой системы хост-компьютера. Так как все изменения, внесенные в файловую систему внутри контейнера Docker, отменяются после закрытия контейнера, разработчики используют общие папки на хост-компьютере для хранения исходного кода.</span><span class="sxs-lookup"><span data-stu-id="9441b-p126">Similarly to virtual machines, Docker containers run a virtualized instance of an operating system (most commonly based on Linux). All software installed in the image used to create the container runs isolated inside that container and has only access to the portion of the host file system explicitly shared with the container. As all changes to the filesystem inside a Docker container are discarded once the container is closed, developers share folders from their host to store the source code.</span></span>

<span data-ttu-id="9441b-201">Узнайте больше об [использовании Docker для создания решений SharePoint Framework](https://rencore.com/blog/try-sharepoint-framework-without-installing).</span><span class="sxs-lookup"><span data-stu-id="9441b-201">Read more about [using Docker for building SharePoint Framework solutions](https://rencore.com/blog/try-sharepoint-framework-without-installing).</span></span>

## <a name="development-workflow-in-sharepoint-framework-projects"></a><span data-ttu-id="9441b-202">Схема разработки проектов SharePoint Framework</span><span class="sxs-lookup"><span data-stu-id="9441b-202">Development workflow in SharePoint Framework projects</span></span>

<span data-ttu-id="9441b-p127">Платформа SharePoint Framework основана на цепочке инструментов с открытым кодом, и использует общую схему разработки, представленную в других проектах, основанных на том же стеке. Ниже описана схема разработки типичного проекта SharePoint Framework.</span><span class="sxs-lookup"><span data-stu-id="9441b-p127">SharePoint Framework is based on open source toolchain and follows the general development workflow present in other projects built on the same stack. Following is a description of how that workflow looks like in a typical SharePoint Framework project.</span></span>

### <a name="create-new-sharepoint-framework-project"></a><span data-ttu-id="9441b-205">Создание проекта SharePoint Framework</span><span class="sxs-lookup"><span data-stu-id="9441b-205">Create new SharePoint Framework project</span></span>

<span data-ttu-id="9441b-206">При создании настроек SharePoint с помощью SharePoint Framework сначала формируется шаблон нового проекта SharePoint Framework.</span><span class="sxs-lookup"><span data-stu-id="9441b-206">When building SharePoint customizations using the SharePoint Framework the first step is to scaffold new SharePoint Framework project.</span></span> <span data-ttu-id="9441b-207">Для этого используется генератор SharePoint Framework Yeoman.</span><span class="sxs-lookup"><span data-stu-id="9441b-207">This is done using the SharePoint Framework Yeoman generator.</span></span> <span data-ttu-id="9441b-208">Генератор попросит вас ответить на несколько вопросов, связанных с названием проекта или его расположением.</span><span class="sxs-lookup"><span data-stu-id="9441b-208">The generator will prompt you to answer a few questions regarding the name of the project or its location.</span></span> <span data-ttu-id="9441b-209">Кроме того, с его помощью вы сможете создать первую веб-часть или расширение.</span><span class="sxs-lookup"><span data-stu-id="9441b-209">It will also allow you to create the first web part or extension.</span></span> <span data-ttu-id="9441b-210">Несмотря на то что вы можете выбрать другую платформу JavaScript для каждого из компонентов, в общем случае рекомендуется использовать не более одной платформы для каждого проекта SharePoint Framework.</span><span class="sxs-lookup"><span data-stu-id="9441b-210">Although you are free to choose a different JavaScript framework for each of your components, the general recommendation is to use a single framework per SharePoint Framework project.</span></span>

### <a name="lock-dependencies-version"></a><span data-ttu-id="9441b-211">Фиксирование версии зависимостей</span><span class="sxs-lookup"><span data-stu-id="9441b-211">Lock dependencies version</span></span>

<span data-ttu-id="9441b-p129">Новый проект SharePoint Framework, создании генератором Yeoman, имеет зависимости от пакетов SharePoint Framework, а также других пакетов, необходимых для его правильной работы. В ходе создания веб-частей можно добавлять зависимости, например Angular или jQuery. В проектах SharePoint Framework зависимости устанавливаются с помощью npm. Каждая зависимость — это пакет Node.js определенной версии. По умолчанию для ссылки на зависимости используется диапазон версий, чтобы разработчикам было проще их обновлять. Вследствие этого восстановление зависимостей для одного проекта в два момента времени может дать разные результаты и даже привести к нарушению работы проекта.</span><span class="sxs-lookup"><span data-stu-id="9441b-p129">A new SharePoint Framework project scaffolded by the SharePoint Framework Yeoman generator has dependencies on the SharePoint Framework packages as well as other packages required for it to run correctly. As you build your web parts you might want to include additional dependencies such as Angular or jQuery. In SharePoint Framework projects dependencies are installed using npm. Each dependency is a Node.js package with a specific version. By default dependencies are referenced using a version range which is meant to help developers keep their dependencies up-to-date more easily. A consequence of this approach is that restoring dependencies for the same project at two points in time might give different results which could even lead to breaking the project.</span></span>

<span data-ttu-id="9441b-p130">Чтобы избежать изменения зависимостей в проекте, основанном на цепочке инструментов с открытым кодом, заблокируйте версии всех зависимостей. При добавлении зависимости в проект разработчики могут установить зависимость определенной версии, а не диапазон версий, вызвав команду `npm install` с аргументом `--save-exact`. Однако это никак не влияет на дочерние зависимости пакета. Чтобы заблокировать версии всех зависимостей и их дочерних зависимостей в проекте, разработчики могут использовать команду `npm shrinkwrap`. Она создаст список всех зависимостей и их версий на момент выполнения и запишет его в файл **npm-shrinkwrap.json**, который необходимо включить в систему управления версиями. При восстановлении зависимостей npm будет использовать версии из этого файла, а не последнюю версию из определенного диапазона версий.</span><span class="sxs-lookup"><span data-stu-id="9441b-p130">A common solution to avoid the risk of dependencies changing during the project, in projects built on the open source toolchain, is to lock the version of all dependencies. When adding a dependency to the project developers can choose to install the dependency with a specific version rather than a version range by calling the `npm install` command with the `--save-exact` argument. This however doesn't affect the child dependencies of the particular package. To effectively lock the version of all dependencies and their children in the project, developers can use the `npm shrinkwrap` command. Once executed, it will generate a list of all dependencies and their versions at the moment of execution and record it in the **npm-shrinkwrap.json** file which should be included in the source control. When restoring dependencies npm will use the exact versions from this file rather than the latest version satisfying the particular version range.</span></span>

> <span data-ttu-id="9441b-p131">Примечание. Если в папке **node_modules** установлены пакеты, которые не указаны как зависимости в файле **package.json** или не являются зависимостью одного из пакетов, скорее всего, при создании файла **npm-shrinkwrap.json** возникнет ошибка. В этом случае вы можете либо добавить пакеты, из-за которых возникает ошибка, в файл **package.json**, либо удалить их из папки **node_modules**, либо удалить папку **node_modules**, восстановить все зависимости, а затем создать файл shrinkwrap.</span><span class="sxs-lookup"><span data-stu-id="9441b-p131">Note: if you have any packages installed in the **node_modules** folder that are not listed as dependencies in the **package.json** file or are not a dependency of one of the packages, you will likely see an error when generating the **npm-shrinkwrap.json** file. In this case you can either see which packages are causing the error and add them to the **package.json** or remove them from the **node_modules** folder, or you can delete the **node_modules** folder altogether, restore all dependencies and generate the shrinkwrap file then.</span></span>

### <a name="add-the-project-to-source-control"></a><span data-ttu-id="9441b-226">Добавление проекта в систему управления версиями</span><span class="sxs-lookup"><span data-stu-id="9441b-226">Add the project to source control</span></span>

<span data-ttu-id="9441b-p132">Чтобы все члены команды могли работать над одним проектом, добавьте его в систему управления версиями. Необходимые действия зависят от системы, которую использует ваша команда.</span><span class="sxs-lookup"><span data-stu-id="9441b-p132">To allow the rest of the team to work on the same project add it to the source control system that your team is using. The exact steps will differ depending on the system used by your team.</span></span>

<span data-ttu-id="9441b-p133">Проекты SharePoint Framework создаются с файлом **.gitignore**, в котором указывается, какие файлы следует исключить из системы управления версиями. Если ваша команда использует систему управления версиями, отличную от Git (например, систему Visual Studio Team System с репозиториями Team Foundation System), убедитесь, что в систему управления версиями включаются соответствующие файлы из проекта. Кроме того, исключение зависимостей и созданных автоматически файлов во время сборки позволяет обеспечить эффективную работу команды.</span><span class="sxs-lookup"><span data-stu-id="9441b-p133">SharePoint Framework projects are scaffolded with the **.gitignore** file which describes which files should be excluded from the source control. If your team is using a source control system other than Git (such as Visual Studio Team System with Team Foundation System repositories), you should ensure that you are including correct files from the project in the source control. Also excluding the dependencies and autogenerated files during the build process allows you to ensure that your team will work efficiently.</span></span>

<span data-ttu-id="9441b-p134">Особенно важно не включать в систему управления версиями папку **node_modules**. Эта папка содержит пакеты, от которых зависит проект и которые автоматически устанавливаются при восстановлении зависимостей с помощью команды `npm install`. Некоторые пакеты компилируются в двоичные файлы, при этом процесс компиляции зависит от операционной системы. Если команда работает в другой операционной системе, включение папки **node_modules** в систему управления версиями, скорее всего, разрушит сборку для некоторых членов команды.</span><span class="sxs-lookup"><span data-stu-id="9441b-p134">One location developers should particularly pay attention not to include in the source control is the **node_modules** folder. This folder contains packages on which the project depends and which are automatically installed when restoring dependencies using the `npm install` command. Some packages compile to binaries where the compilation process depends on the operating system. If the team is working on different operating system then including the **node_modules** folder in the source control will likely break the build for some team members.</span></span>

### <a name="get-the-project-from-source-control"></a><span data-ttu-id="9441b-236">Получение проекта из системы управления версиями</span><span class="sxs-lookup"><span data-stu-id="9441b-236">Get the project from source control</span></span>

<span data-ttu-id="9441b-p135">При первом получении проекта из системы управления версиями вы получите исходный код проекта, но не библиотеки SharePoint Framework, необходимые для его сборки. Так же, как при работе с проектами .NET и использовании пакетов NuGet, сначала необходимо восстановить зависимости. В проектах SharePoint Framework, так же как во всех проектах, основанных на Node.js, для этого необходимо выполнить команду `npm install` в командной строке. npm использует сведения из файлов **package.json** и **npm-shrinkwrap.json** и установит все пакеты.</span><span class="sxs-lookup"><span data-stu-id="9441b-p135">The first time you will get the project from source control, you will get the project's source code but none of the SharePoint Framework libraries required to build the project. Similarly to when working with .NET projects and using NuGet packages, you have to restore the dependencies first. In SharePoint Framework projects, similarly to all other projects built on top of Node.js, you do that by executing `npm install` in the command line. npm will use the information from the **package.json** file combined with the information from the **npm-shrinkwrap.json** file and install all packages.</span></span>

> <span data-ttu-id="9441b-p136">Примечание. Обычно для восстановления зависимостей с помощью команды `npm install` необходимо подключение к Интернету, так как пакеты скачиваются с сайта _registry.npmjs.org_. Если у вас есть проблемы с подключением к сети или реестр npmjs недоступен, выполнить сборку не удастся. Обойти это ограничение можно несколькими способами. Вы можете скачать tar-архивы всех зависимостей с помощью команды [shrinkpack](https://github.com/JamieMason/shrinkpack) и сохранить их в системе управления версиями. Shrinkpack автоматически обновляет файл npm-shrinkwrap.json для использования локальных tar-архивов, позволяя устанавливать зависимости проекта в автономном режиме.</span><span class="sxs-lookup"><span data-stu-id="9441b-p136">Note: Typically restoring dependencies using the `npm install` command requires internet connectivity as packages are downloaded from _registry.npmjs.org_. If you experience network connectivity issues or the npmjs registry is unavailable your build will fail. There are a number of ways to mitigate this limitation. One of them is using [shrinkpack](https://github.com/JamieMason/shrinkpack) to download tarballs of all dependencies and have them stored in the source control. Shrinkpack automatically updates the npm-shrinkwrap.json file to use the local tarballs allowing for offline installation of the project's dependencies.</span></span>

<span data-ttu-id="9441b-p137">Некоторые пакеты во время установки компилируются в двоичные файлы. Этот процесс зависит от архитектуры и операционной системы. Например, если вы восстановите зависимости в контейнере Docker под управлением Linux, а затем попробуйте выполнить сборку проекта на хост-компьютере с Windows, возникнет ошибка из-за несоответствия типа среды, используемого для сборки и выполнения двоичных файлов.</span><span class="sxs-lookup"><span data-stu-id="9441b-p137">Some of the packages are compiled into binaries during the installation process. This compilation process is specific to the architecture and operating system. If you would for example restore dependencies in a Docker container running Linux and would then try to build the project on your Windows host you would get an error reporting the mismatch in the environment type used to build and run the binaries.</span></span>

<span data-ttu-id="9441b-p138">В ходе разработки решения в проект могут добавляться новые или обновленные зависимости. Если файл **package.json** изменился с момента последнего получения проекта из системы управления версиями, нужно выполнить команду `npm install` в командной строке, чтобы установить отсутствующие зависимости. Если вы не уверены, изменился ли файл **package.json**, вы можете выполнить команду `npm install` в командной строке, просто чтобы убедиться, что у вас есть последние зависимости, не нарушая работу проекта.</span><span class="sxs-lookup"><span data-stu-id="9441b-p138">As your team develops the solution, new or updated dependencies might be added to the project. If the **package.json** file has changed since you last got the project from the source control, you will have to run `npm install` in the command line to install the missing dependencies. If you are unsure if the **package.json** file has changed, you can run `npm install` in the command line just to be sure that you have the latest dependencies, without any harm to the project.</span></span>

### <a name="add-packages-to-your-project"></a><span data-ttu-id="9441b-251">Добавление пакетов в проект</span><span class="sxs-lookup"><span data-stu-id="9441b-251">Add packages to your project</span></span>

<span data-ttu-id="9441b-p139">Использование существующих пакетов для выполнения определенных задач позволяет работать более эффективно. npmjs.com — это общедоступный реестр пакетов, которые можно использовать в проекте.</span><span class="sxs-lookup"><span data-stu-id="9441b-p139">Using existing packages to accomplish specific tasks allows you to be more productive. npmjs.com is a public registry of packages that you can use in your project.</span></span>

> <span data-ttu-id="9441b-254">**Важно!** Так как перед публикацией на сайте npmjs.com пакет не проходит официальную проверку, то перед использованием пакета тщательно изучите его содержимое и лицензию.</span><span class="sxs-lookup"><span data-stu-id="9441b-254">Note: Since there is no formal verification process before a package is published to npmjs.com, you should carefully examine if you can use the particular package both from the contents and license point of view.</span></span>

<span data-ttu-id="9441b-p140">Чтобы добавить пакет в проект SharePoint Framework, выполните команду `npm install <package> --save` или `npm install <package> --save-dev` в командной строке, например `npm install angular --save`. Использование аргумента `--save` или `--save-dev` гарантирует, что пакет будет добавлен в файл **package.json** и другие разработчики в команде также получат его при восстановлении зависимостей. Без него не удастся выполнить сборку проекта на другом компьютере. При добавлении пакетов, необходимых решению при запуске, например Angular или jQuery, используйте аргумент `--save`. При установке пакетов, необходимых в процессе сборки, например дополнительных задач gulp, используйте аргумент `--save-dev`.</span><span class="sxs-lookup"><span data-stu-id="9441b-p140">To add a package to your SharePoint Framework project execute the `npm install <package> --save` or `npm install <package> --save-dev` command in the command line, eg. `npm install angular --save`. Using the `--save` or `--save-dev` argument ensures that the package is added to the **package.json** file and other developers on your team will get it as well when restoring dependencies. Without it building the project on a machine other than your own will fail. When adding packages that are required by your solution on runtime, such as Angular or jQuery, you should use the `--save` argument. Packages that are required in the build process, such as additional gulp tasks, should be installed with the `--save-dev` argument.</span></span>

<span data-ttu-id="9441b-p141">Если не указана версия, npm устанавливает последнюю версию, доступную в реестре пакетов (npmjs.com по умолчанию). Версию пакета необходимо указать, если вы используете файл **npm-shrinkwrap.json** и хотите обновить существующий пакет до новой версии. По умолчанию npm устанавливает версию, указанную в файле **npm-shrinkwrap.json**. Если в команде `npm install` указан номер версии, например `npm install angular@1.5.9 --save`, будет установлен этот пакет и обновлен номер версии в файле **npm-shrinkwrap.json**.</span><span class="sxs-lookup"><span data-stu-id="9441b-p141">When installing a package, if you don't specify a version, npm will install the latest version available in the package registry (npmjs.com by default), which usually is the version that you will want to use. One specific case when you have to specify the version of the package is when you're using **npm-shrinkwrap.json** and want to upgrade an existing package to a newer version. By default npm will install the version listed in the **npm-shrinkwrap.json** file. Specifying the version number in the `npm install` command, like `npm install angular@1.5.9 --save`, will install that package and update the version number in the **npm-shrinkwrap.json** file.</span></span>

## <a name="working-with-internal-packages"></a><span data-ttu-id="9441b-265">Работа с внутренними пакетами</span><span class="sxs-lookup"><span data-stu-id="9441b-265">Working with internal packages</span></span>

<span data-ttu-id="9441b-p142">По мере разработки клиентских решений вы, скорее всего, соберете общие библиотеки кода, которые захотите использовать во всех проектах. Во многих случаях такие библиотеки содержат проприетарный код, доступный за пределами организации только в пакетах, развернутых в рабочей среде. Ваша команда может использовать внутренние библиотеки в своих проектах SharePoint Framework несколькими способами.</span><span class="sxs-lookup"><span data-stu-id="9441b-p142">As your team is developing client-side solutions, you will very likely build common libraries of code that you would like to reuse across all your project. In many cases such libraries contain proprietary code not shared publicly outside the organization, beyond the bundles deployed to production. When working with SharePoint Framework projects, there are a number of ways your team can leverage your internal libraries in their projects.</span></span>

### <a name="hosting-private-package-registry"></a><span data-ttu-id="9441b-269">Размещение частного реестра пакетов</span><span class="sxs-lookup"><span data-stu-id="9441b-269">Hosting private package registry</span></span>

<span data-ttu-id="9441b-p143">В прошлом многие организации, создающие решения .NET, размещали частные репозитории NuGet на своих серверах, чтобы использовать систему управления пакетами NuGet для своих внутренних пакетов. Так как SharePoint Framework использует систему npm для управления пакетами, организации так же могут использовать частный реестр для своих внутренних пакетов. После публикации эти пакеты можно будет использовать во всех проектах организации.</span><span class="sxs-lookup"><span data-stu-id="9441b-p143">In the past, many organizations building .NET solutions hosted private NuGet repositories to benefit of the NuGet package management system for their internal packages. As SharePoint Framework uses npm for package management, organizations could similarly use a private registry for their internal packages. Packages developed internally would be published to the private registry and be used in all projects within the organization.</span></span>

<span data-ttu-id="9441b-273">Частный реестр пакетов можно разместить в облаке или на собственном сервере.</span><span class="sxs-lookup"><span data-stu-id="9441b-273">When using private package registries organizations can choose between different offerings hosted in the cloud or they can host their own registry on their own infrastructure.</span></span>

<span data-ttu-id="9441b-p144">С помощью частного реестра пакетов организации могут централизованно управлять общим кодом, используемым в разный проектах. Составив отдельный план действий по добавлению изменений в общую базу кода, организации могут обеспечить высокое качество библиотеки и надлежащую эффектность использования для всех разработчиков.</span><span class="sxs-lookup"><span data-stu-id="9441b-p144">Using a private package registry allows organizations to centrally manage common code used across the different projects. By defining a separate governance plan around contributing changes to the shared code base, organizations can ensure that the code library is of high quality and that it offers all developers benefits as intended rather than being a burden slowing projects down.</span></span>

<span data-ttu-id="9441b-276">Организации, использующие Visual Studio Team Services или Team Foundation Server, могут удобным способом [создать частный реестр пакетов npm непосредственно в Visual Studio Team Services или Team Foundation Server](https://docs.microsoft.com/ru-RU/vsts/package/overview).</span><span class="sxs-lookup"><span data-stu-id="9441b-276">Organizations using Visual Studio Team Services or the Team Foundation Server, can conveniently [create a private npm registry directly in VSTS/TFS](https://docs.microsoft.com/ru-RU/vsts/package/overview).</span></span> <span data-ttu-id="9441b-277">Организации, использующие другие системы управления источниками, могут использовать другие решения для размещения своих пакетов.</span><span class="sxs-lookup"><span data-stu-id="9441b-277">Organizations using other source control systems, can use other solutions for hosting their packages.</span></span> <span data-ttu-id="9441b-278">Популярным облачным частным реестром является [npm Enterprise](https://www.npmjs.com/enterprise).</span><span class="sxs-lookup"><span data-stu-id="9441b-278">A popular private registry hosted in the cloud is [npm Enterprise](https://www.npmjs.com/enterprise).</span></span> <span data-ttu-id="9441b-279">Организациям, которые хотят разместить реестр самостоятельно, предлагается на выбор несколько реализаций с открытым кодом, например [Sinopia](https://github.com/rlidwka/sinopia) или ее развилка [Verdaccio](https://github.com/verdaccio/verdaccio) либо [Nexus](https://www.sonatype.com/nexus-repository-oss).</span><span class="sxs-lookup"><span data-stu-id="9441b-279">A popular private registry hosted in the cloud is npm Enterprise. Organizations that are interested in hosting their registry themselves can choose from a number of open source implementations such as [Sinopia](https://github.com/rlidwka/sinopia) or its fork [Verdaccio](https://github.com/verdaccio/verdaccio) or [Nexus](https://www.sonatype.com/nexus-repository-oss).</span></span>

> <span data-ttu-id="9441b-280">Примечание. Разные подсистемы для размещения частных реестров пакетов находятся на разных стадиях разработки, и вам следует внимательно проверить, соответствует ли определенная подсистема вашим требованиям с точки зрения функций, лицензии и поддержки.</span><span class="sxs-lookup"><span data-stu-id="9441b-280">Note: Different engines for hosting private package registries are in different development stages and you should carefully evaluate that the particular engine meets your requirements, both from the functionality, license and support point of view.</span></span>

<span data-ttu-id="9441b-281">Чтобы упростить установку частного реестра пакетов и управление им, большинство подсистем предлагаются с готовыми образами Docker.</span><span class="sxs-lookup"><span data-stu-id="9441b-281">To simplify the installation and management of a private package registry, most engines offer ready-to-use Docker images.</span></span>

### <a name="linking-packages-using-npm-link"></a><span data-ttu-id="9441b-282">Связывание пакетов с помощью команды npm link</span><span class="sxs-lookup"><span data-stu-id="9441b-282">Linking packages using npm link</span></span>

<span data-ttu-id="9441b-p146">Не обязательно использовать частный реестр — пакеты можно связывать. При этом не требуется настройка реестра, но требуется четкая координация действий на всех компьютерах для разработки и сервере сборки.</span><span class="sxs-lookup"><span data-stu-id="9441b-p146">An alternative to using a private registry is linking packages. While it doesn't involve setting up a registry, it requires careful coordination on all developer machines and the build server.</span></span>

<span data-ttu-id="9441b-p147">Сначала каждый разработчик в команде должен скачать копию общего пакета на свой компьютер для разработки. В командной строке они должны изменить рабочий каталог на каталог общего пакета, а затем выполнить команду `npm link`. Эта команда регистрирует пакет как глобальный пакет на этом компьютере для разработки. После этого разработчики должны изменить рабочий каталог на каталог проекта, в котором они хотят использовать общий пакет. Затем они должны установить пакет так же, как любой другой пакет, выполнив команду `npm install <shared_package> --save` в командной строке. Так как общий пакет установлен глобально, npm будет использовать эту версию для установки пакета. На этом этапе пакет установлен так же, как любой другой общедоступный пакет, и разработчики могут выбрать способ связывания пакета с проектом.</span><span class="sxs-lookup"><span data-stu-id="9441b-p147">First, every developer on the team must get a copy of the shared package on their development machine. In the command line they have to change the working directory to the one of the shared package and then they must execute the `npm link` command. This command registers the particular package as a global package on that particular development machine. Next, developers have to change the working directory to the directory of the project in which they would like to use the shared package. Then they install the package the same way they would install any other package by executing the `npm install <shared_package> --save` command in the command line. As the shared package is installed globally, npm will use that version as the source to install the package from. At this point, from the project point of view, the package is installed just like any other public package and developers can choose how they want to bundle the package with the project.</span></span>

<span data-ttu-id="9441b-p148">Связывание пакета необходимо выполнить на всех компьютерах для разработки, а также на сервере сборки. Если общий пакет не связан с помощью команды `npm link`, восстановление зависимостей проекта разрушит сборку.</span><span class="sxs-lookup"><span data-stu-id="9441b-p148">Linking the package must be executed on all development machines as well as on the build server. If the shared package isn't linked using the `npm link` command, restoring project dependencies will fail breaking the build.</span></span>

<span data-ttu-id="9441b-p149">Особенно полезно ссылаться на связанные пакеты в начале проекта при одновременной разработке общего пакета и проекта. Благодаря связыванию не нужно публиковать новую версию пакета в реестре, чтобы использовать последний код в проекте. Обратите внимание, что если разработчики будут ссылаться на версию общей библиотеки, измененную локально и не добавленную в систему управления версиями, это разрушит сборку для остальных членов команды.</span><span class="sxs-lookup"><span data-stu-id="9441b-p149">Referencing linked packages is particularly helpful early in the project when you are developing the shared package and the project at the same time. Thanks to linking you don't need to publish new version of the package to the registry in order to use the latest code in your project. A risk worth keeping in mind is that if developers would reference a version of the shared library that they changed locally and which they haven't committed to the source control, it would break the build for the rest of the team.</span></span>

### <a name="combining-private-package-registry-and-linking-packages"></a><span data-ttu-id="9441b-297">Сочетание частного реестра пакетов и связывания пакетов</span><span class="sxs-lookup"><span data-stu-id="9441b-297">Combining private package registry and linking packages</span></span>

<span data-ttu-id="9441b-p150">Связывание пакетов можно сочетать с частным реестром. Например, разработчики могут ссылаться на связанный пакет, а сервер сборки — скачивать общую библиотеку из частного реестра. С точки зрения проекта ничего не меняется: ссылку на пакет в файле **package.json** можно обработать как из связанного пакета, так и из частного реестра. Команде остается только публиковать последние изменения в общей библиотеке в частном реестре перед выполнением сборки.</span><span class="sxs-lookup"><span data-stu-id="9441b-p150">Linking packages can be combined with a private registry. You could for example work in a way where developers reference a linked package and the build server pulls the shared library from a private registry. From the project perspective nothing changes: the package reference in the **package.json** file can be resolved both from a linked package as well as from a private registry. The only thing your team has to keep in mind is to publish the latest changes to the shared library to the private registry before executing the build.</span></span>

<span data-ttu-id="9441b-302">Так как код общей библиотеки со временем стабилизируется и для отдельных проектов требуется меньше изменений, разработчики, скорее всего, будут просто ссылаться на опубликованный пакет из частного реестра, а не изменять его.</span><span class="sxs-lookup"><span data-stu-id="9441b-302">As the code of the shared library stabilizes over time and fewer changes are needed to accommodate the needs of the specific projects, developers would be more likely to just reference the published package from the private registry rather than changing it.</span></span>

## <a name="ensuring-code-consistency-and-quality"></a><span data-ttu-id="9441b-303">Обеспечение единообразия и качества кода</span><span class="sxs-lookup"><span data-stu-id="9441b-303">Ensuring code consistency and quality</span></span>

<span data-ttu-id="9441b-p151">Часто командам разработчиков программного обеспечения тяжело обеспечить единообразие и высокое качество своих проектов. У разных разработчиков разные стили написания кода. В каждой команде есть квалифицированные специалисты и разработчики, у которых меньше опыта в определенной сфере. Кроме того, у многих организаций и отраслей есть требования, которым должно соответствовать программное обеспечение. Из-за всех этих задач разработчикам сложнее не выбиться из графика. Особенно перед сдачей проекта разработчики часто не обращают внимание на качество, что в долгосрочной перспективе оказывается хуже, чем не уложиться в сроки.</span><span class="sxs-lookup"><span data-stu-id="9441b-p151">Software development teams often struggle with maintaining consistency and high quality of their projects. Different developers have different coding styles and preferences. In every team there are more skilled individuals as well as developers who are less experienced in the particular domain. Also, many organizations or verticals have specific regulations with which the software must comply. All these challenges make it harder for developers to stay on track. Particularly when the deadline is nearby developers tend to get things done at the cost of the quality which in the long run is more harmful than not meeting the deadline.</span></span>

### <a name="choose-javascript-library-for-your-team-and-use-coding-standards"></a><span data-ttu-id="9441b-309">Выберите библиотеку JavaScript для команды и используйте стандарты кодирования</span><span class="sxs-lookup"><span data-stu-id="9441b-309">Choose JavaScript library for your team and use coding standards</span></span>

<span data-ttu-id="9441b-p152">Если ваша команда не впервые создает настройки SharePoint, скорее ли, у вас есть стандарты кодирования, описывающие применяемые способы, а также средства и библиотеки, используемые в проектах. Использование стандартов кодирования позволяет обезличить код, что значительно упрощает его восприятие другими членами команды. Кроме того, стандарты кодирования отражают многолетний опыт вашей команды, позволяя вам создавать настройки эффективнее и качественнее.</span><span class="sxs-lookup"><span data-stu-id="9441b-p152">If your team has been building SharePoint customizations in the past, you very likely have coding standards that describe how you build customizations and which tools and libraries you use in your projects. Using coding standards allows you to eliminate the personal preferences of the individual developers from the code which makes it significantly easier to be picked up by other members of your team. Also your coding standards reflect the experience your team gathered over the years allowing you to build customizations more efficiently and of better quality.</span></span>

<span data-ttu-id="9441b-p153">В отличие от других доступных на сегодняшний день моделей настройки, SharePoint Framework связана с клиентской разработкой. SharePoint Framework рекомендует использовать TypeScript, который позволяет разработчикам писать более качественный код и находить несоответствия уже в процессе сборки. Для этой же цели предназначены сотни клиентских библиотек. Если ваша команда не впервые выполняет разработку клиентских решений, вероятно, вы уже выбрали подходящую библиотеку. Если нет, советуем изучить информацию о наиболее популярных библиотеках и выбрать одну из них для команды или всей организации (рекомендуется).</span><span class="sxs-lookup"><span data-stu-id="9441b-p153">Unlike other SharePoint customization models available to date, SharePoint Framework focuses on client-side development. While not strictly required, SharePoint Framework recommends using TypeScript to help developers write better code and catch any inconsistencies already in the build process. There are also hundreds of client-side libraries available to accomplish the same task. If your team has done client-side development in the past, you might already have preference for a particular library. If not, it would be highly beneficial for you to research a few of the most popular libraries and pick one for your team or preferably the whole organization.</span></span>

<span data-ttu-id="9441b-p154">Использование одной библиотеки во всех проектах позволяет легче адаптироваться новым членам команды и легче переключаться с одного проекта на другой. Опыт в разработке клиентских решений пригодится вашей организация во всех проектах. Стандартизация проектов по всей организации также сокращает срок выполнения заказов и снижает затраты на обслуживание проектов. Новые библиотеки публикуются в Интернете каждый день, и если постоянно переходить с одной на другую, вы не сможете эффективно работать и создавать качественные решения.</span><span class="sxs-lookup"><span data-stu-id="9441b-p154">By using the same library in all your projects you make it easier to onboard new team members and exchange team members between projects. As you gain more experience with client-side development, your organization will be able to benefit of it across all its projects. Standardizing your projects across the whole organization also shortens the time of delivery and lowers the costs of maintenance of your projects. New libraries are published on the internet every day and if you keep switching between the latest libraries you will find yourself working inefficiently delivering solutions of poor quality.</span></span>

<span data-ttu-id="9441b-p155">Стандартизация библиотек в организации также поможет оптимизировать работу решений. Так как во всей организации используется одна библиотека, пользователям нужно скачать ее всего один раз, что значительно уменьшает время загрузки решений, повышая удобство использования.</span><span class="sxs-lookup"><span data-stu-id="9441b-p155">Standardizing which libraries are used across your organization additionally helps you optimize the performance of your solutions. Because the same library is used across the whole organization, users only need to download it once, what significantly decreases the loading time of the solutions improving the user experience as the result.</span></span>

<span data-ttu-id="9441b-p156">Выбор одной из наиболее популярных библиотек позволяет воспользоваться знаниями и опытом других разработчиков, которые используют эту библиотеку в течение длительного времени и уже решили многие проблемы, которые могут возникнуть у вас самих. Кроме того, для наиболее популярных библиотек доступны стандарты кодирования, что может использовать ваша команда. Используя существующие рыночные стандарты для определенной библиотеки, вашей организации будет проще расширять команду, нанимая разработчиков и помогая им быстрее адаптироваться.</span><span class="sxs-lookup"><span data-stu-id="9441b-p156">Choosing one of the most popular libraries allows you to reuse the knowledge and experience of other developers who have been using that library for a longer period of time and have already solved many of the issues you will likely experience yourself. Also for the most popular libraries there are coding standards available that your team could adopt. By using existing market standards for the particular library you make it easier for your organization to grow your team by hiring developers and helping them become productive faster.</span></span>

<span data-ttu-id="9441b-p157">Например, для создания собственных решений на платформе SharePoint корпорация Майкрософт выбрала React. Кроме того, многие другие команды в корпорации Майкрософт, такие как OneDrive или Delve, используют React в своих проектах. Это не значит, что вы также должны использовать React во всех своих проектах SharePoint Framework, но подтверждает, что важно выбрать клиентскую библиотеку, которая подходит для вашей организации. Например, если у вашей команды есть опыт работы с Angular или Knockout, эта платформа может эффективно использоваться при создании решений SharePoint Framework.</span><span class="sxs-lookup"><span data-stu-id="9441b-p157">For example, for building first-party solutions on the SharePoint Framework, Microsoft chose React. Also many other teams at Microsoft such as OneDrive or Delve use React in their projects. This doesn't mean that you should be using React in all your SharePoint Framework projects as well, but it proves the importance of choosing a client-side library that works for your organization. If your team has for example experience with Angular or Knockout, there is no reason why you shouldn't benefit of that experience and stay productive when building SharePoint Framework solutions.</span></span>

### <a name="enforce-coding-standards-and-policies-throughout-the-whole-lifecycle-of-your-solution"></a><span data-ttu-id="9441b-331">Применение стандартов кодирования и правил на протяжении всего жизненного цикла решения</span><span class="sxs-lookup"><span data-stu-id="9441b-331">Enforce coding standards and policies throughout the whole lifecycle of your solution</span></span>

<span data-ttu-id="9441b-p158">Использование стандартов кодирования дает очевидные преимущества, но одно их наличие не означает, что они активно используются на всех стадиях разработки и тестирования настройки SharePoint. Чем дольше разработчики не могут подтвердить, что решение соответствует стандартам кодирования и правилам организации и чем тяжелее вашей команде это сделать, тем дороже будет исправлять ошибки, найденные в проекте. Ниже описано несколько способов реализации плана управления для решения SharePoint в процессе разработки.</span><span class="sxs-lookup"><span data-stu-id="9441b-p158">Using coding standards offers you clear advantages, but just having coding standards doesn't mean that they are being actively used throughout the whole development and testing process of a SharePoint customization. The longer developers wait and the harder it is for your team to verify that your solution adheres to your team's coding standards and organizational policies, the more costly it will be to fix any defects discovered in the project. Following are a few means that your team should use as a part of their development process to enforce the governance plan for the SharePoint solution.</span></span>

#### <a name="linting"></a><span data-ttu-id="9441b-335">Линтинг</span><span class="sxs-lookup"><span data-stu-id="9441b-335">Linting</span></span>

<span data-ttu-id="9441b-p159">Линтинг — это процедура проверки кода на соответствие определенным правилам. По умолчанию проекты SharePoint Framework создаются с помощью TypeScript. При каждой сборке TSLint (анализатор кода для TypeScript) анализирует проект на соответствие стандартному набору правил и сообщает о несоответствиях. Разработчики могут выбирать активные правила и при необходимости создавать собственные.</span><span class="sxs-lookup"><span data-stu-id="9441b-p159">Linting is the process of verifying that the code meets specific rules. By default SharePoint Framework projects are built using TypeScript. On each build TSLint - the linter for TypeScript, analyzes the project against the predefined set of rules and reports any inconsistencies. Developers can choose which rules they want to enable and if necessary can build their own rules that reflect their team's or organization's guidelines.</span></span>

<span data-ttu-id="9441b-p160">Разработчики могут использовать линтинг не только для проверки содержимого файлов TypeScript. Анализаторы кода доступны для наиболее популярных языков, таких как CSS, JavaScript или Markdown, и если у команды есть определенные правила для этих языков, будет полезно реализовать их в анализаторе кода, чтобы они проверялись автоматически каждый раз, когда разработчик выполняет сборку проекта.</span><span class="sxs-lookup"><span data-stu-id="9441b-p160">Developers can use linting to verify not only the contents of TypeScript files. There are linters available for most popular languages such as CSS, JavaScript or Markdown, and if your team has specific guidelines for these languages it would be beneficial to implement them in a linter so that they can be validated automatically every time a developer builds the project.</span></span>

#### <a name="automated-testing"></a><span data-ttu-id="9441b-342">Автоматическое тестирование</span><span class="sxs-lookup"><span data-stu-id="9441b-342">Automated testing</span></span>

<span data-ttu-id="9441b-p161">С помощью автоматических тестов разработчики могут легко убедиться, что после применения последних изменений в проекте все элементы продолжают работать должным образом. Чем старше проект, тем важнее автоматические тесты: чем больше кодовая база, тем больше влияние каждого изменения и риск повреждения других фрагментов кода. Автоматические тесты позволяют разработчикам проверить работу решения и найти все возможные ошибки на ранней стадии.</span><span class="sxs-lookup"><span data-stu-id="9441b-p161">Using automated tests developers can easily verify that after applying the latest changes to the project, all elements continue working as expected. As the project grows so does the importance of automated tests: with the code base expanding every change has bigger impact and risk of affecting some other pieces of code. Automated tests allow developers to verify that the solution works correctly and catch any possible issues early on.</span></span>

<span data-ttu-id="9441b-p162">SharePoint Framework поддерживает средство выполнения тестов [Karma](http://karma-runner.github.io/1.0/index.html) и платформу [Mocha](http://mochajs.org), на которой разработчики могут писать тесты. При необходимости разработчики могут использовать дополнительные элементы, доступные в SharePoint Framework, такие как [PhantomJS](http://phantomjs.org), чтобы расширить сферу действия тестов. Все тесты в проектах SharePoint Framework можно выполнять с помощью стандартной задачи `gulp test`.</span><span class="sxs-lookup"><span data-stu-id="9441b-p162">SharePoint Framework offers standard support for the [Karma](http://karma-runner.github.io/1.0/index.html) test runner and the [Mocha](http://mochajs.org) framework that developers can use to write tests. If necessary developers can use additional building blocks provided with the SharePoint Framework such as [PhantomJS](http://phantomjs.org) to further extend the coverage of their tests. All tests in the SharePoint Framework projects can be run using the standard `gulp test` task.</span></span>

#### <a name="code-analysis"></a><span data-ttu-id="9441b-349">Анализ кода</span><span class="sxs-lookup"><span data-stu-id="9441b-349">Code analysis</span></span>

<span data-ttu-id="9441b-p163">Линтинг помогает проверить синтаксис конкретного файла, но часто разработчикам нужны другие средства для проверки проекта на соответствие правилам в целом. Обычно анализаторы кода делают акцент на коде, но пропускают контекст, представленный файлом кода. В решениях SharePoint Framework у артефактов есть особые требования, например идентификатор веб-части должен быть уникальным в проекте. Кроме того, у организаций могут быть другие требования, например "не ссылаться на сценарии из сеть доставки содержимого" или "использовать только определенную версию определенной библиотеки". Обычно анализаторы кода не могут это проверить, поэтому разработчикам нужны другие средства.</span><span class="sxs-lookup"><span data-stu-id="9441b-p163">Where linting is helpful to validate the syntax of the particular file, often developers need more support in order to verify that the project as a whole meets the guidelines. Generally linters focus on the code itself but miss the context of what the particular code file represents. In SharePoint Framework solutions artifacts have specific requirements, for example a web part should have a unique ID in the project. Also organizations might have other requirements such as not referencing scripts from CDN or only using a specific version of a particular library. This is where linters generally fall short and developers need other tools.</span></span>

<span data-ttu-id="9441b-355">[SharePoint Code Analysis Framework](http://rencore.com/spcaf) (SPCAF) — это стороннее решение, которое разработчики SharePoint, администраторы и сотрудники, ответственные за контроль качества и безопасность, часто используют для проверки настроек SharePoint на соответствие правилам организации.</span><span class="sxs-lookup"><span data-stu-id="9441b-355">[SharePoint Code Analysis Framework](http://rencore.com/spcaf) (SPCAF) is a third part solution frequently used by SharePoint developers, administrators and employees in quality assurance and security roles to verify that SharePoint customizations meet organizational quality guidelines. SPCAF integrates with the whole application lifecycle process helping organizations lower the total cost of ownership of SharePoint customizations. SPCAF offers a set of rules that specifically target SharePoint Framework solutions.</span></span> <span data-ttu-id="9441b-356">SPCAF интегрируется со всем процессом управления жизненным циклом приложений и позволяет организациям снизить общую стоимость владения настройками SharePoint.</span><span class="sxs-lookup"><span data-stu-id="9441b-356">SPCAF integrates with the whole application lifecycle process helping organizations lower the total cost of ownership of SharePoint customizations.</span></span> <span data-ttu-id="9441b-357">SPCAF содержит набор правил, предназначенных специально для решений SharePoint Framework.</span><span class="sxs-lookup"><span data-stu-id="9441b-357">SPCAF offers a set of rules that specifically target SharePoint Framework solutions.</span></span>

## <a name="upgrading-sharepoint-framework-projects"></a><span data-ttu-id="9441b-358">Изменение проектов SharePoint Framework</span><span class="sxs-lookup"><span data-stu-id="9441b-358">Upgrading SharePoint Framework projects</span></span>

<span data-ttu-id="9441b-p165">Развертывание настройки SharePoint в рабочей среде обычно не означает конец ее жизненного цикла. Часто изменение или добавление требований приводит к изменениям в решении. Чтобы правильно обновить настройку, развернутую в рабочей среде, необходимо учитывать несколько факторов.</span><span class="sxs-lookup"><span data-stu-id="9441b-p165">Deploying a SharePoint customization to production usually doesn't mean the end of its lifecycle. Frequently the requirements change or new requirements are added in both cases leading to changes in the solution. To properly update a customization previously deployed to production developers have to take a number of things into account.</span></span>

### <a name="semantic-versioning-semver"></a><span data-ttu-id="9441b-362">Семантическое версионирование (SemVer)</span><span class="sxs-lookup"><span data-stu-id="9441b-362">Semantic versioning (SemVer)</span></span>

<span data-ttu-id="9441b-p166">За редким исключением, SharePoint Framework использует семантическое версионирование (SemVer) для отслеживания номеров версий. Семантическое версионирование — это модель версионирования, которая широко применяется разработчиками программного обеспечения по всему миру. Номер SemVer состоит из трех цифр ОСНОВНОЙ.ДОПОЛНИТЕЛЬНЫЙ.ИСПРАВЛЕНИЕ и необязательных меток, например 1.0.1.</span><span class="sxs-lookup"><span data-stu-id="9441b-p166">With a few exceptions SharePoint Framework uses semantic versioning (SemVer) for tracking version numbers. Semantic versioning is a versioning pattern widely adopted by software developers worldwide. A SemVer number consists of three numbers MAJOR.MINOR.PATCH and optional labels, eg. 1.0.1.</span></span>

> <span data-ttu-id="9441b-367">Примечание. В настоящее время в SharePoint Frameworks можно использовать только три цифры без меток.</span><span class="sxs-lookup"><span data-stu-id="9441b-367">Note: Currently SharePoint Frameworks supports only the usage of the three numbers without labels.</span></span>

<span data-ttu-id="9441b-368">Различные части номера SemVer увеличиваются в зависимости от того, как изменяется решение:</span><span class="sxs-lookup"><span data-stu-id="9441b-368">Different parts of a SemVer number are increased depending on the type of change applied to the solution:</span></span>

- <span data-ttu-id="9441b-369">ОСНОВНОЙ, если изменения не совместимы с предыдущими версиями.</span><span class="sxs-lookup"><span data-stu-id="9441b-369">MAJOR, if the changes are not backwards-compatible</span></span>
- <span data-ttu-id="9441b-370">ДОПОЛНИТЕЛЬНЫЙ, если добавлены функции, совместимые с предыдущими версиями.</span><span class="sxs-lookup"><span data-stu-id="9441b-370">MINOR, if the changes introduce new functionality that is backwards-compatible</span></span>
- <span data-ttu-id="9441b-371">ИСПРАВЛЕНИЕ, если исправлены ошибки (изменения совместимы с предыдущими версиями).</span><span class="sxs-lookup"><span data-stu-id="9441b-371">PATCH, if the changes are backwards-compatible bug fixes</span></span>

<span data-ttu-id="9441b-p167">Важно помнить, что семантическое версионирование — это всего лишь соглашение. Ваша команда может следовать ему, сообщая об изменениях в последнем выпуске.</span><span class="sxs-lookup"><span data-stu-id="9441b-p167">It's important to keep in mind that SemVer is merely a contract. It's up to your team to follow it to make clear the changes in the latest release.</span></span>

<span data-ttu-id="9441b-374">Узнать больше о семантическом версионировании можно на сайте [http://semver.org](http://semver.org).</span><span class="sxs-lookup"><span data-stu-id="9441b-374">You can read more about semantic versioning at [http://semver.org](http://semver.org).</span></span>

### <a name="increase-version-number"></a><span data-ttu-id="9441b-375">Увеличение номера версии</span><span class="sxs-lookup"><span data-stu-id="9441b-375">Increase version number</span></span>

<span data-ttu-id="9441b-376">При обновлении решения SharePoint Framework разработчики должны увеличить номера версий изменившихся элементов, чтобы четко указать, какие элементы изменились и каковы последствия.</span><span class="sxs-lookup"><span data-stu-id="9441b-376">When updating a part of a SharePoint Framework solution, developers should increase version numbers of the affected pieces to clearly denote which elements have changed and what the impact of the changes is.</span></span>

#### <a name="increase-package-version-in-packagejson"></a><span data-ttu-id="9441b-377">Увеличение версии пакета в файле package.json</span><span class="sxs-lookup"><span data-stu-id="9441b-377">Increase package version in package.json</span></span>

<span data-ttu-id="9441b-378">Пакет SharePoint Framework имеет такую же структуру, как пакет Node.js.</span><span class="sxs-lookup"><span data-stu-id="9441b-378">SharePoint Framework package is structured like a Node.js package.</span></span> <span data-ttu-id="9441b-379">Его зависимости и метаданные хранятся в файле **package.json** в папке проекта.</span><span class="sxs-lookup"><span data-stu-id="9441b-379">Its dependencies and metadata are stored in the **package.json** file in the project folder.</span></span> <span data-ttu-id="9441b-380">Одно из свойств в файле **package.json** представляет собой свойство версии и определяет версию всего проекта.</span><span class="sxs-lookup"><span data-stu-id="9441b-380">One of the properties in the **package.json** file is the version property that denotes the version of the whole project.</span></span> <span data-ttu-id="9441b-381">По умолчанию все компоненты в текущем решении наследуют этот номер версии в качестве своего номера версии.</span><span class="sxs-lookup"><span data-stu-id="9441b-381">By default, all components in the current solution inherit this version number as their version.</span></span> <span data-ttu-id="9441b-382">Разработчикам следует увеличивать номер версии в файле **package.json** при каждом планировании нового выпуска проекта в соответствии с соглашением SemVer.</span><span class="sxs-lookup"><span data-stu-id="9441b-382">Developers should increase the version number in the **package.json** file every time a new release of the project is planned following the SemVer convention.</span></span>

#### <a name="increase-solution-package-version-in-package-solutionjson"></a><span data-ttu-id="9441b-383">Увеличение версии пакета решения в файле package-solution.json</span><span class="sxs-lookup"><span data-stu-id="9441b-383">Increase solution package version in package-solution.json</span></span>

<span data-ttu-id="9441b-384">Решения SharePoint Framework развертываются с помощью **SPPKG**-файла, установленного в каталоге приложений в клиенте SharePoint.</span><span class="sxs-lookup"><span data-stu-id="9441b-384">SharePoint Framework solutions are deployed using an **.sppkg** file installed in the App Catalog on a SharePoint tenant.</span></span> <span data-ttu-id="9441b-385">**SPPKG**-файл похож на пакет надстройки SharePoint и подчиняется тем же соглашениям, касающимся управления версиями.</span><span class="sxs-lookup"><span data-stu-id="9441b-385">An **.sppkg** file is similar to a SharePoint add-in package and follows the same versioning conventions.</span></span> <span data-ttu-id="9441b-386">Текущая версия **SPPKG**-пакета определяется с помощью состоящего из четырех частей (ОСНОВНОЙ_НОМЕР_ВЕРСИИ.ДОПОЛНИТЕЛЬНЫЙ_НОМЕР_ВЕРСИИ.НОМЕР_РЕДАКЦИИ.НОМЕР_СБОРКИ) номера, хранящегося в файле **config/package-solution.json**.</span><span class="sxs-lookup"><span data-stu-id="9441b-386">The current version of the **.sppkg** package is defined using a four-part (MAJOR.MINOR.REVISION.BUILD) number stored in the **config/package-solution.json** file.</span></span> <span data-ttu-id="9441b-387">Для простоты разработчикам следует синхронизировать этот номер с номером версии в файле **package.json**, так как оба номера относятся к версии проекта в целом.</span><span class="sxs-lookup"><span data-stu-id="9441b-387">For clarity, developers should keep this number in sync with the version number in the **package.json** file as both number refer to the version of the project as a whole.</span></span>

> <span data-ttu-id="9441b-388">Примечание. Увеличение номера версии в файле package-solution.json между выпусками необходимо для правильного развертывания новой версии пакета в SharePoint.</span><span class="sxs-lookup"><span data-stu-id="9441b-388">Note: Increasing the version number in the package-solution.json file between releases is required in order for the new version of the package to be correctly deployed in SharePoint.</span></span>

### <a name="update-dependencies"></a><span data-ttu-id="9441b-389">Изменение зависимостей</span><span class="sxs-lookup"><span data-stu-id="9441b-389">Update dependencies</span></span>

<span data-ttu-id="9441b-p170">Проект SharePoint Framework может обновляться из-за изменения одной из базовых зависимостей, например выпуска новой версии Angular, в которой исправлены ошибки и повышена производительность. Если ваша команда использует npm shrinkwrap для блокировки версий зависимостей, используйте команду `npm install <package>@<version> --save`, чтобы обновить зависимость от определенной версии и проверить работу проекта. В зависимости от того, как изменения базовых зависимостей влияют на проект, обновление проекта может быть как исправлением, так и основным выпуском.</span><span class="sxs-lookup"><span data-stu-id="9441b-p170">One of the reasons for an update of a SharePoint Framework project might be a change to one of the underlying dependencies, for example a new release of Angular with bug fixes and performance improvements. If your team follows the recommended approach of using npm shrinkwrap for locking dependencies' versions then you would use the `npm install <package>@<version> --save` command to update your dependency to the specific version and test your project to verify that it works as expected with the latest updates. Depending on how the changes to the underlying dependencies impact the project, the overall project update might vary from a patch to a full major release.</span></span>

> <span data-ttu-id="9441b-393">**Важно!** Не изменяйте номер версии зависимостей в файле **package.json** вручную.</span><span class="sxs-lookup"><span data-stu-id="9441b-393">**Important:** don't modify the version numbers of dependencies in the **package.json** file manually.</span></span> <span data-ttu-id="9441b-394">Если вы используете файлы блокировки, например npm shrinkwrap, изменения, внесенные вручную в файл package.json, будут проигнорированы, и вместо них будут использованы номера версий, записанные в файлах блокировки. В связи с этим будет трудно отслеживать ошибки в вашем проекте.</span><span class="sxs-lookup"><span data-stu-id="9441b-394">If you're using a lock file such as npm shrinkwrap, your manual changes to the package.json file will be ignored and the version numbers recorded in the lock files will be used instead which will lead to hard to track errors in your project.</span></span>

#### <a name="mind-project-structure-changes"></a><span data-ttu-id="9441b-395">Отслеживание изменений структуры проекта</span><span class="sxs-lookup"><span data-stu-id="9441b-395">Mind project structure changes</span></span>

<span data-ttu-id="9441b-396">При обновлении вашего проекта до более новой версии SharePoint Framework может потребоваться внести изменения в структуру и файлы конфигурации проекта.</span><span class="sxs-lookup"><span data-stu-id="9441b-396">Updating your project to a newer version of the SharePoint Framework, might require changes to your project structure and project configuration files.</span></span> <span data-ttu-id="9441b-397">Прежде чем обновлять версии SharePoint Framework в зависимостях вашего проекта, всегда создавайте другой проект, используя версию SharePoint Framework, до которой вы хотите выполнить обновление, и тщательно сравнивайте его структуру и содержимое со структурой и содержимым структуры существующего проекта.</span><span class="sxs-lookup"><span data-stu-id="9441b-397">Before updating the versions of the SharePoint Framework in your project dependencies, you should always create a new project using the version of the SharePoint Framework to which you want to upgrade and carefully compare its structure and contents with your existing project.</span></span> <span data-ttu-id="9441b-398">Это позволит определить последствия обновления для вашего проекта и поможет избежать применения критических изменений в проекте.</span><span class="sxs-lookup"><span data-stu-id="9441b-398">This will allow you to determine the impact of the upgrade on your project and help you avoid applying breaking changes to your project.</span></span>

#### <a name="beware-of-using-npm-outdated"></a><span data-ttu-id="9441b-399">Не используйте устаревшие пакеты npm</span><span class="sxs-lookup"><span data-stu-id="9441b-399">Beware of using npm outdated</span></span>

<span data-ttu-id="9441b-400">Один из способов, которыми можно выяснить, какие зависимости в вашем проекте необходимо обновить, заключается в выполнении команды **npm outdated**.</span><span class="sxs-lookup"><span data-stu-id="9441b-400">One of the ways to find out which dependencies in your project need updating, is to run the **npm outdated** command.</span></span> <span data-ttu-id="9441b-401">Эта команда проверит дерево зависимостей и покажет, какие пакеты можно обновить.</span><span class="sxs-lookup"><span data-stu-id="9441b-401">This command will scan your dependency tree and will show you which packages could be updated.</span></span> <span data-ttu-id="9441b-402">Несмотря на то что использовать эту команду удобно, следует делать это с осторожностью.</span><span class="sxs-lookup"><span data-stu-id="9441b-402">While using this command is convenient, it has to be done with caution.</span></span>

<span data-ttu-id="9441b-403">Начиная с версии 1.3, генератор Yeoman для SharePoint Framework позволяет указать, в каком расположении следует выполнить формирование шаблонов для проекта, который должен работать только в SharePoint Online либо и в SharePoint 2016 с пакетом дополнительных компонентов 2 и более поздней версии, и в SharePoint Online.</span><span class="sxs-lookup"><span data-stu-id="9441b-403">Starting from version 1.3, the SharePoint Framework Yeoman generator allows you to choose whether you want to scaffold a project that should work only in SharePoint Online or in both SharePoint 2016 Feature Pack 2 and up and SharePoint Online.</span></span> <span data-ttu-id="9441b-404">В SharePoint, размещенном в локальной среде, используется более старая версия SharePoint Framework, а не последняя версия, применяемая в SharePoint Online.</span><span class="sxs-lookup"><span data-stu-id="9441b-404">SharePoint hosted on-premises uses an older version of the SharePoint Framework than the latest version available in SharePoint Online.</span></span> <span data-ttu-id="9441b-405">Если вы выполните команду **npm outdated** для проекта, совместимого с локальным SharePoint, она предложит обновить все основные пакеты SharePoint Framework до последних версий, опубликованных в Npm.</span><span class="sxs-lookup"><span data-stu-id="9441b-405">If you would run the **npm outdated** command on a project compatible with SharePoint on-premises, it would suggest updating all core SharePoint Framework packages to the latest versions published to Npm.</span></span> <span data-ttu-id="9441b-406">К сожалению, при обновлении этих пакетов до последних версий проект больше не будет работать с локальным SharePoint.</span><span class="sxs-lookup"><span data-stu-id="9441b-406">Unfortunately, by updating these packages to their latest versions, your project wouldn't work with SharePoint on-premises anymore.</span></span> <span data-ttu-id="9441b-407">Прежде чем обновлять версии пакетов SharePoint, всегда проверяйте, предназначен ли ваш пакет для работы с локальным SharePoint. Если предназначен, то какую версию SharePoint Framework необходимо поддерживать.</span><span class="sxs-lookup"><span data-stu-id="9441b-407">Before updating the versions of the SharePoint Framework packages, you should always verify if your project is meant to work with SharePoint hosted on-premises and if so, what version of the SharePoint Framework you have to support.</span></span>

### <a name="build-and-package-project-in-release-mode"></a><span data-ttu-id="9441b-408">Сборка и упаковка проекта в режиме выпуска</span><span class="sxs-lookup"><span data-stu-id="9441b-408">Build and package project in release mode</span></span>

<span data-ttu-id="9441b-p175">После проверки работы решения выполните сборку проекта в режиме выпуска с помощью команды `gulp bundle --ship`. После этого создайте новый пакет с помощью команды `gulp package-solution --ship`. Если не выполнена команда `gulp bundle --ship`, пакет будет содержать предыдущую версию проекта.</span><span class="sxs-lookup"><span data-stu-id="9441b-p175">Once you verified that the solution is working as expected, build the project in release mode using the `gulp bundle --ship` command. Then create a new package using the `gulp package-solution --ship` command. Without running the `gulp bundle --ship` command first, the package will include previous version of your project.</span></span>

### <a name="deploy-new-version-of-your-solution"></a><span data-ttu-id="9441b-412">Развертывание новой версии решения</span><span class="sxs-lookup"><span data-stu-id="9441b-412">Deploy new version of your solution</span></span>

<span data-ttu-id="9441b-p176">После сборки и упаковки проекта нужно его развернуть. Сначала разверните обновленные пакеты веб-части, расположенные в проекте в папке **./temp/deploy**. Опубликуйте файлы рядом с пакетами предыдущей версии решения.</span><span class="sxs-lookup"><span data-stu-id="9441b-p176">After building and packaging the project the next step is to deploy it. First deploy the updated web part bundles located in the **./temp/deploy** folder in your project. Publish the files next to web part bundles of the previous version of your solution.</span></span>

> <span data-ttu-id="9441b-p177">Примечание. Не удаляйте предыдущие версии решения, пока их используют активные экземпляры веб-частей. Каждая версия пакетов имеет уникальное имя, и удаление предыдущих версий до обновления веб-частей нарушит работу этих веб-частей.</span><span class="sxs-lookup"><span data-stu-id="9441b-p177">Note: You shouldn't remove the previous versions of your solution as long as there are active instances of web parts using them. Each version of the bundle files has a unique name and removing previous versions before updating web parts will break these web parts.</span></span>

<span data-ttu-id="9441b-p178">После этого разверните новый пакет решения в каталоге приложений SharePoint. Это необходимо, чтобы сообщить SharePoint о новой версии решения, которую он должен применить.</span><span class="sxs-lookup"><span data-stu-id="9441b-p178">Next, deploy the new solution package to SharePoint app catalog. This is necessary to notify SharePoint of the new version of the solution which it should apply.</span></span>