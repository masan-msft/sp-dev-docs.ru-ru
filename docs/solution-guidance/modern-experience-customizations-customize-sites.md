---
title: "Настройка веб-сайтов «современный» групп"
description: "Применение пользовательской темы на сайте команды «современный» в SharePoint Online."
ms.date: 11/08/2017
ms.openlocfilehash: 18c557f3edb192e3336589a59f24522113bd1d9c
ms.sourcegitcommit: 0a94e0c600db24a1b5bf5895e6d3d9681bf7c810
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/07/2017
---
# <a name="customizing-modern-team-sites"></a>Настройка веб-сайтов «современный» групп

В 2016 группы SharePoint Online выпущен сайты для совместной работы «современный». Эти сайты групп «современный» интегрированных с Office 365 групп и перевести была существенно увеличена конечным пользователем. Сайты рабочих групп «Современный» реагирует предусмотрено при проектировании и значительно быстрее создавать и использовать с точки зрения конечного пользователя. Ниже перечислены некоторые из основных преимуществ веб-сайтов «современный» групп:

- Предназначен для масштабирования для любого устройства изначально без настройки для полностью отклика программой.
- Содержит собственный новости, быстрые ссылки и возможности активности. 
- Интеграция с Office 365 групп. 
- Значительно более быстрого создания сайтов по сравнению с веб-сайтов «классический» групп.
- Включить «современный» списки и библиотеки с поддержкой Microsoft потока и PowerApps.
- Содержит страницы «современный», возможность редактирования.
- Включить на странице содержимое обновленного сайта с помощью дополнительных дополнительная информация об использовании узла.

В данной статье описываются параметры расширяемости в рамках веб-сайтов «современный» групп:

- [Новые возможности в SharePoint Online сайты групп, включая интеграцию с группами Office 365](https://blogs.office.com/2016/08/31/new-capabilities-in-sharepoint-online-team-sites-including-integration-with-office-365-groups)
- [Создание связи сайтов группы SharePoint Online в секундах](https://blogs.office.com/2016/11/08/create-connected-sharepoint-online-team-sites-in-seconds)
- [Разрешить или запретить сценария](https://support.office.com/en-us/article/Allow-or-prevent-custom-script-1f2c515f-5d7e-448a-9fd7-835da935584f?ui=en-US&rs=en-US&ad=US)

> [!IMPORTANT]
> Мы в случае неподдерживаемые взаимодействия «классический»; будет сосуществовать «классический» и «современный».

<a name="supportedcustomizations"> </a>
## <a name="supported-customizations-on-modern-team-sites"></a>Поддерживаемые настроек веб-сайтов «современный» групп

«Современный» сайты имеют разные возможности параметров настройки, по сравнению с веб-сайтов «классический» групп. Со временем описываются параметры дополнительной настройки, главным образом повышения расширяемость и фирменной символики. В следующем списке приведено краткий обзор поддерживаемые возможности для веб-сайтов «современный» групп. Можно выполнить следующие действия.

- Применение пользовательской темы или изменение логотипа.
- Применить тему ожидания введите.
- Создайте настраиваемые столбцы сайта (поля) и типов контента.
- Создание списков и библиотек.
- Настройте параметры сайта, такие как региональные параметры, языков и параметров аудита.

> [!NOTE]
> По умолчанию сайта группы «современный» имеет отключены возможности создания сценариев. По-прежнему можно применять пользовательскую тему, но нельзя добавлять пользовательской темы в коллекцию тем как вариант для конечных пользователей. Если вы хотите добавить тему в коллекцию тем, необходимо [Включить поддержку сценариев](https://support.office.com/en-us/article/Turn-scripting-capabilities-on-or-off-1f2c515f-5d7e-448a-9fd7-835da935584f) на сайте.

<a name="notsupported"> </a>
### <a name="whats-not-supported-on-modern-team-sites"></a>Что не поддерживается для веб-сайтов «современный» групп

В различных областях веб-сайтов групп «современный» типичные настроек, в настоящее время недоступны. Дальнейший поддержки будут доступны для некоторых из этих разделов, если они готовы нужно освободить. Ниже приведен список в настоящее время не поддерживается настроек веб-сайтов «современный» групп:

- Настраиваемые главные страницы; Расширенный фирменной символики будет поддерживаться более поздней версии с помощью альтернативные варианты.
- Изменение «современный» сайт «классический» seattle.master или oslo.master.
- Пользовательские макеты страниц; Мы стремятся имеют поддержку нескольких полотна в будущем.
- Включение сайта или семейства веб-сайтов ограниченные функции публикации; технически в настоящее время можно активировать функции, но это не поддерживается.
- Настраиваемые действия пользователя / пользовательский JavaScript; будет более управляемым способ внедрения JavaScript на страницах через расширения Framework SharePoint (в настоящее время в предварительной версии dev).
- Дочерние сайты «Современный»; дочерние сайты, созданные на веб-сайтов «современный» групп используйте «классический» качества, но вы можете изменить взаимодействие с пользователем похоже на «современный» сайты.
- Возможность управления параметры шаблона доступные дочернего сайта.
- «Классический» публикация компонентов (WCM).
- Активация функции сообщества или создание дочерних сайтов сообществ в разделе «современный» группового сайта.

Потому, что веб-сайтов «современный» групп также отключены возможности создания сценариев (это так называемое NoScript сайта), не могут настраивать самых разных областях. Влияние NoScript аналогична для сайтов «современный» или «классический». «Современный» сайты имеют NoScript включена по умолчанию, то есть возможность написания сценариев, недоступны. Тем не менее это возможно и поддерживаемые для отключения NoScript параметров «современный» и «классический» сайты в дальнейшем включить некоторые возможности. 

При разработке решений, необходимо учитывайте следующие основные области, связанные с NoScript параметр:

- Изолированные решения, не поддерживаются.
- Настраиваемый JavaScript нельзя включить на сайтах с помощью параметров «классический» расширяемость (например, с помощью пользовательских дополнительных действий).
- Не удается получить доступ к сайтам с помощью SharePoint Designer.
- Некоторые веб-частей, недоступны для конечных пользователей.
- Возможность доступа или обновление записи контейнера свойств сайта.

> [!NOTE]
> Можно найти полный список задействованной возможности из статьи технической поддержки Майкрософт [Разрешить или запретить пользовательский сценарий](https://support.office.com/en-us/article/Allow-or-prevent-custom-script-1f2c515f-5d7e-448a-9fd7-835da935584f?ui=en-US&rs=en-US&ad=US) в разделе «Функции влияет на настраиваемых сценарий заблокирован».

<a name="pnpprovisioningengine"> </a>
### <a name="using-pnp-provisioning-engine-with-modern-team-sites"></a>С помощью PnP модуля подготовки с веб-сайтов «современный» групп

Можно использовать [PnP модуля подготовки](https://msdn.microsoft.com/en-us/pnp_articles/pnp-provisioning-engine-and-the-core-library) с веб-сайтов «современный» групп. PnP модуля подготовки автоматически определяет, если сайт — это сайт группы «современный» и настраивает поведение на основании поддерживаемые возможности. Процесс — это именно то же, как с помощью PnP модуля подготовки с помощью «классический» сайтов, где не отключены возможности использования сценариев.

При применении шаблона удаленного сайта «современный» группы или сайта с поддержкой NoScript, учитываются следующие элементы:

- Конфигурация **AuditLogTrimmingRetention** семейства сайтов в параметры аудита
- Применение пользовательской темы на основе шаблона; Текущая реализация имеет зависимости на хранение пользовательской темы в каталог, который не поддерживается
- Параметры формы для типов контента
- Добавление настраиваемых пользовательских действий для сайта, web или уровень списка
- Добавление файлов с типами файлов «.asmx», «.ascx», «.aspx», «.htc», «.jar», «.master», «.swf», «.xap», «.xsf»
- Добавление файлов в библиотеках со следующим URL-адресам `"_catalogs/theme"`, `"style library"`, `"_catalogs/lt"`,`"_catalogs/wp"`
- Добавление веб-частей для страницы сайта
- Хранение данных для подготовки шаблона для контейнера свойств подготовленный сайт
- Добавление или обновление записи контейнера свойства контейнера свойств сайта
- «Классический» публикации параметров и средств
- Нет параметров обхода контента сайтов
- Параметры главной страницы сайта

## <a name="apply-a-custom-theme-to-a-modern-team-site"></a>Применение пользовательской темы на сайте команды «современный»

«Современный» веб-сайтов групп поддержки пользовательских тем, несмотря на то, что не удается загрузить новую запись коллекции для конечных пользователей. Это можно сделать, отправка необходимых средств на сайт и затем выполняется метод **ApplyTheme** . Приведенный ниже сценарий PowerShell показано, как выполнить это для сайта группы «современный».

```PowerShell

# Connect to a previously created Modern Site
$cred = Get-Credential
Connect-PnPOnline https://[tenant].sharepoint.com/sites/siteurl -Credentials $cred

# Apply a custom theme to a Modern Site

# First, upload the theme assets
Add-PnPFile -Path .\sppnp.spcolor -Folder SiteAssets
Add-PnPFile -Path .\sppnp-bg.png -Folder SiteAssets

# Second, apply the theme assets to the site
$web = Get-PnPWeb
$palette = $web.ServerRelativeUrl + "/SiteAssets/sppnp.spcolor"
$background = $web.ServerRelativeUrl + "/SiteAssets/sppnp-bg.png"

# We use OOTB CSOM operation for this
$web.ApplyTheme($palette, [NullString]::Value, $background, $true)
$web.Update()
# Set timeout as high as possible and execute
$web.Context.RequestTimeout = [System.Threading.Timeout]::Infinite
$web.Context.ExecuteQuery()

```

<br/>

*На рисунке 1. Сайт группы «Современный» с пользовательской темы*

![Сайт группы «Современный» с пользовательской темы](media/modern-experiences/modern-site-with-custom-theme.png)

> [!NOTE]
> - [Средство палитры цветов SharePoint](https://www.microsoft.com/en-us/download/details.aspx?id=38182) можно использовать для создания файла пользовательскую тему (.spcolor) с определением настраиваемые цвета. Как правило веб-сайтов групп «современный» попробуйте сохранить особенности темы, автоматически перейдя элементы темы «классический» сайт «современный» со стороны. Сохраняемые области являются фонового изображения и разъемов следующие темы: ContentAccent1, PageBackground и BackgroundOverlay.
> - Эмблема сайта группы «современный» можно изменить с помощью API график групп, как показано SharePoint [PnP UpdateUnifiedGroup метод](https://github.com/SharePoint/PnP-Sites-Core/blob/master/Core/OfficeDevPnP.Core/Framework/Graph/UnifiedGroupsUtility.cs#L350).
> - Применение пользовательской темы на сайте «современный» команды может привести к времени ожидания. Решение для этой — отключить всех доступных [языков пользовательского интерфейса](https://support.office.com/en-us/article/Choose-the-languages-you-want-to-make-available-for-a-site-s-user-interface-16d3a83c-05ab-4b50-8fbb-ff576a3351e8) для сайта перед применением темы и снова включить их позже.

## <a name="determine-if-a-site-is-a-modern-team-site"></a>Определение возможности сайта «современный» группы сайта

Можно определить, что сайт является сайтом «современный» team, проверив значение «Web.WebTemplate» сайта. «Современный» веб-сайтов групп с помощью шаблона «ГРУППА». Из-за поддерживаемые возможности общим для сайта группы «классический» при отключении сценариев, вы должны проверять оба параметра в коде для определения поведения вправо или поддерживаемые возможности.

Так как нет прямого свойства для проверки, если сценарии разрешены или нет, можно использовать разрешения для определения текущего состояния. При включении сценариев, не имеет разрешения AddAndCustomizePages в базовые разрешения сайта.

```C#
/// <summary>
/// Can be used to check if site has noscript enabled.
/// </summary>
/// <param name="web">site object to inspect</param>
/// <returns>True if no scripting is enabled, False if it's not</returns>
public static bool IsNoScriptSite(Web web)
{
    // Ensure that we have the needed properties - Notice that these are 
    // PnP CSOM extension capabilities
    web.EnsureProperties(w => w.WebTemplate, w => w.EffectiveBasePermissions);

    // Definition of no-script is not having the AddAndCustomizePages permission
    if (!web.EffectiveBasePermissions.Has(PermissionKind.AddAndCustomizePages))
    {
        return true;
    }

    // It's a site without noscript enabled
    return false;
}
```

## <a name="additional-considerations"></a>Дополнительные сведения о выполнении

Постепенно описываются дополнительные параметры настройки для сайтов «современный» групп, которые способ выравнивания в выпуске дополнительные возможности среды SharePoint. В настоящее время недоступен расписание не точное, но при выпуске новых возможностей взаимодействия «современный» статьи будут обновляться.

## <a name="see-also"></a>См. также

- [Настройка "современных" интерфейсов в SharePoint Online](modern-experience-customizations.md)
- [PnP удаленного подготовки](https://msdn.microsoft.com/en-us/pnp_articles/pnp-remote-provisioning)

