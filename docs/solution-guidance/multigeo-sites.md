---
title: "Работа с сайтами, в среде с несколькими географически"
ms.date: 11/03/2017
ms.openlocfilehash: cd7b3889a7299916d96e4e80bb65126c41733494
ms.sourcegitcommit: 0a94e0c600db24a1b5bf5895e6d3d9681bf7c810
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/07/2017
---
# <a name="work-with-sites-in-a-multi-geo-environment"></a>Работа с сайтами, в среде с несколькими географически

> **Важные:** OneDrive и SharePoint Online Multi-Geo в данный момент в предварительной версии и может быть изменен.

Сайты SharePoint охватывать расположения географически по умолчанию и вспомогательные несколькими географически клиента. При необходимости пользовательского решения для работы с сайтами SharePoint, а при развертывании приложений, важно необходимо учитывать расположения географически несколькими географически клиента. 

## <a name="deploying-applications-to-multi-geo-sharepoint-tenants"></a>Развертывание приложений к клиентам с несколькими географически SharePoint
При развертывании приложения, такие как надстройки SharePoint или со стороны клиента веб-частей SharePoint, в зависимости от среды SharePoint, которые необходимо выполнить в учетную запись, что приложения развертываются на уровне географического расположения. После развертывания приложения по умолчанию, географически этого приложения не будет доступен в расположениях географически вспомогательных. Для получения дополнительных сведений о развертывании приложения в разделе [Управление приложений/Add-ins в географически нескольких клиентов](multigeo-apps.md) .

Мы рекомендуем, развертывание и обновление к корпоративным приложениям во всех расположениях. Это гарантирует, что приложение будет доступно всем пользователям.

## <a name="enumerating-site-collections"></a>Перечисление семейств веб-сайтов
Для перечисления всех семейств сайтов клиента, используйте [метод CSOM GetSitePropertiesFromSharePointByFilters](https://msdn.microsoft.com/en-us/library/microsoft.online.sharepoint.tenantadministration.tenant.getsitepropertiesfromsharepointbyfilters.aspx) на `Tenant` экземпляра объекта. Так как каждого географически из центра администрирования клиента, вам потребуются для перечисления семейств веб-сайтов одного географического расположения и объединения результатов для получения единого клиента всей список семейств веб-сайтов.

Чтобы выполнить перечисление сайтов всей клиента:

- [Найти все географического расположения](multigeo-discovery.md) и их связанного клиента администрирования сайта URL-адреса.
- Используйте цикл, который выполняет итерацию географического расположения и создает `Tenant` объект с URL-адрес сайта администрирования географического расположения.
    - Использование `GetSitePropertiesFromSharePointByFilters` вызова метода в `Tenant` объекта для получения семейств сайтов для данного географического расположения.
    - Добавьте в список семейств веб-сайтов.
- Возвращает список семейств веб-сайтов.

Для получения дополнительных сведений см [MultiGeo.SiteEnumeration](https://github.com/SharePoint/PnP/tree/dev/Samples/MultiGeo.SiteEnumeration) .

> [!NOTE] 
> Дополнительные сведения о разрешениях и настройке приложения см [несколькими географически примера приложения](multigeo-sampleapplicationsetup.md).

## <a name="performing-tenant-level-operations"></a>Для выполнения операций на уровне клиента
`Tenant` Объекта также используется для настройки параметры на уровне клиента, таких как параметры CDN и параметры сайта на уровне клиента, такие как **ограничение географически расположение узла**. Для выполнения операций на уровне клиента:

- [Найти все географического расположения](multigeo-discovery.md) и их связанного клиента администрирования сайта URL-адреса.
- Чтобы обновить параметры на уровне клиента, итерации по географического расположения и внести изменения одного географического расположения.
- Чтобы обновить параметры сайта на уровне клиента: 
    - Использование `GeoLocation` свойства `Site` для получения географического расположения сайта 
    - Использование `GetSitePropertiesByUrl` владельца сайта, внесите изменения и вызов метода `Update` на извлеченных `SiteProperties` объекта.

Для получения дополнительных сведений о том, как получить сайта с помощью `GetSitePropertiesByUrl` метод и затем запретить сайта происходит перемещение, задав `RestrictedToRegion` свойства, просмотрите образец [MultiGeo.RestrictSiteToGeoLocation](https://github.com/SharePoint/PnP/tree/dev/Samples/MultiGeo.RestrictSiteToGeoLocation) . 

## <a name="are-site-urls-a-good-way-to-identify-sites"></a>— URL-адреса сайтов хороший способ определить сайты?
В географически нескольких клиентов сайтов можно перемещать между различными расположениями географически которых при значении, который URL-адрес этого сайта будет изменяться, поэтому хранение URL-адрес сайта, как уникальный ключ для идентификации сайта не рекомендуется. Рекомендуется сохранять идентификатор сайта, который будет не изменяются, независимо от того, в какой географического расположения размещается сайт. 


## <a name="see-also"></a>См. также
- [Управление Apps надстройки в географически нескольких клиентов](multigeo-apps.md)

