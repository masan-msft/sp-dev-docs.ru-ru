---
title: "Настройка проектов API для Office 365 для рассылки"
ms.date: 11/03/2017
ms.openlocfilehash: 4dde15a519cd313b26b07e11b2bde7d8bb349f45
ms.sourcegitcommit: 65e885f547ca9055617fe0871a13c7fc85086032
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/06/2017
---
# <a name="configure-office-365-api-projects-for-distribution"></a>Настройка проектов API для Office 365 для рассылки

### <a name="summary"></a>Summary ###
На этой странице объясняется, что некоторые действия разработчикам следует рассмотреть возможность на свои проекты, использующие API-интерфейсы Office 365 перед их распространения с другими разработчиками клиентами, или для системы управления версиями, такие как Team Foundation Server, Git или Visual Studio Онлайн.

А именно на этой странице будет выглядеть в два этапа:

- [Справочник по NuGet пакета клиентских графике AD Azure исправление (en)](#fixup-azure-ad-graph-client-nuget-package-reference)
- [Очистка `web.config` для получения дополнительных сведений конкретного приложения](#cleaning-the-webconfig-for-app-specific-details)

# <a name="fixup-azure-ad-graph-client-nuget-package-reference"></a>Справочник по NuGet пакета клиентских графике AD Azure исправление (en)

Все проекты, использующих возможности SDK API Office 365 путем получения добавление подключенной службы содержат NuGet пакета, который добавляет Office 365 и Azure AD ссылок в проект, созданный в Visual Studio. 

Пакет NuGet добавлен в проект в **Office 365 API средств** в Visual Studio не установлена в реестре пакета NuGet и таким образом попыток выполнить восстановление пакетов NuGet завершится ошибкой, так как он не удается найти нужный пакет.

## <a name="understanding-the-problem"></a>Общие сведения о проблемы ##

**Office 365 API Tools для Visual Studio 2013**, версия 1.3.41104.1, добавляет несколько пакетов NuGet проекты в процессе завершения работы мастера добавления подключения службы. В частности одним пакетом представляет сложную задачу: **Клиентская библиотека Microsoft Azure Active Directory графике**.

Способ работы Visual Studio является, что или addins, обычно содержат локальную копию пакетов NuGet, разработчики не всегда имеют подключение к Интернету для загрузки пакеты NuGet. Устанавливаемый пакет средства включают имеет идентификатор **Microsoft.Azure.ActiveDirectory.GraphClient** & версии **1.0.22**.

Когда проекты фиксируются в системе управления версиями, обычно пакеты не включены как часть фиксации, так как они могут добавлять много требования пространства дополнительного хранилища и без необходимости увеличьте размер пакета при обмена с другими разработчиками. Таким образом один из первой задачи разработчиков выполните действия после получения копии проекта из системы управления версиями — выполнить [Восстановление пакетов NuGet](http://docs.nuget.org/docs/reference/package-restore).

Проблема в том, что пакет с таким же Идентификатором & версии отсутствует в реестре пакета NuGet; не найден пакет с Идентификатором **Microsoft.Azure.ActiveDirectory.GraphClient** & версии **1.0.22**. Пакет существует в реестре пакета NuGet **[Microsoft.Azure.ActiveDirectory.GraphClient](http://www.nuget.org/packages/Microsoft.Azure.ActiveDirectory.GraphClient)**, но в разных версиях.

## <a name="fixing-the-azure-ad-graph-client-nuget-package-reference"></a>Устранение ссылку Azure AD графике клиента NuGet-пакет ##

До обновления средства Office 365 API для Visual Studio 2013 для устранения этой проблемы рекомендуется для изменения проекта перед внесением системы управления версиями, независимо от того, при использовании сервера Team Foundation Server, Visual Studio Online, Git или любой другой решение.

После создания проекта, поиск в рамках проекта `packages.config` файл и выполните поиск пакета с Идентификатором **Microsoft.Azure.ActiveDirectory.GraphClient** & версии **1.0.22**. Удаление и повторная установка пакета — безопасный способ обновления проекта.

Откройте **Консоль диспетчера пакетов** в Visual Studio и введите следующую команду для удаления пакета:

  ````powershell
  PM> Uninstall-Package -Id Microsoft.Azure.ActiveDirectory.GraphClient
  ````

  > Если удалить создает ошибка, не удалось найти пакет, просто удалите ссылку пакета из `packages.config` файл вручную и сохранить изменения.

Теперь установите общедоступной версии пакета же NuGet из открытого реестра:

  ````powershell
  PM> Install-Package -Id Microsoft.Azure.ActiveDirectory.GraphClient -Version 2.0.2
  ````

  > Вышеприведенный пример ссылается на определенной версии клиента графике Azure AD, известные для работы с помощью интерфейсов API Office 365. Будущих версий могут работать так пропуск `-Version` аргумент является необязательным.

[в начало](#configure-office-365-api-projects-for-distribution)

# <a name="cleaning-the-webconfig-for-app-specific-details"></a>Очистка `web.config` для получения дополнительных сведений конкретного приложения

**Office 365 API Tools** для Visual Studio добавьте возможность создания нового приложения Azure AD с необходимыми разрешениями для API-интерфейсы Office 365 с помощью мастера **Подключения службы** в Visual Studio. После завершения работы мастера, несколько записей и настройки выполняются в проект `web.config` файла.

Эти изменения включают следующие параметры надстройки:

- **ida: ClientID**: Уникальный идентификатор приложения, созданного в клиент Azure AD.
- **IDA: пароль**: ключ приложения Azure AD, созданный с помощью мастера подключения службы.
- **ida: AuthorizationUri**: конечная точка для проверки подлинности с помощью Azure AD.

**ida: ClientID** и **Ida: пароль** являются уникальными для приложения Azure AD. Некоторые группы разработчиков может выбрать для каждого разработчика для кода с использованием собственные приложения, аналогичное как разработчики работают собственные базе данных и локальной разработки. Таким образом можно представить **ida: ClientID** и **Ida: пароль** аналогичную строки подключения базы данных. 

Следующий раз разработчик использует мастер подключения службы для создания нового приложения Azure AD проекта мастера будет обнаруживать **ida: CliendID** и попытайтесь подключиться к приложению в текущий пользователь Azure AD для клиентов. Если совпадение не найдено, мастер подключения службы возникает ошибка.

Поэтому перед внесением в проект системы управления версиями или до обмена с другими разработчиками, рекомендуется выполнить удалите значения из **ida: ClientID** & ida: надстройка параметров**Паролей** в `web.config`.

[в начало](#configure-office-365-api-projects-for-distribution)

----------

### <a name="related-links"></a>Ссылки по теме ###
- [NuGet: Приложения для набора средств веб-сайта SharePoint](http://www.nuget.org/packages/AppForSharePointWebToolkit)
- [NuGet: Восстановление пакетов](http://docs.nuget.org/docs/reference/package-restore)
- [MSDN: Пакетами NuGet библиотека API клиента Office 365](http://msdn.microsoft.com/office/office365/HowTo/adding-service-to-your-Visual-Studio-project#O365NuGets)

### <a name="applies-to"></a>Применимо к ###
-  Office 365 нескольких клиентов (MT)
-  Office 365 выделенных (D)

### <a name="author"></a>Автор
Эндрю Коннелл - [@andrewconnell](https://twitter.com/andrewconnell)

### <a name="version-history"></a>История изменений ###
Версия  | Date | Примечания
---------| -----| --------
0,1  | 31 декабря 2014 г. | Первый черновик


