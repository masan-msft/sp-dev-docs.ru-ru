---
title: "Настройка службы OneDrive для бизнеса узлы #"
ms.date: 11/03/2017
ms.openlocfilehash: 493c4a8f265127bcf647967374d1b7fb6d7d65a8
ms.sourcegitcommit: 86625a7b8efe74f2ace5c32a301197c5b7ee695f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/24/2018
---
# <a name="customization-of-onedrive-for-business-sites"></a>Настройка OneDrive для бизнеса сайтов #

### <a name="summary"></a>Summary ###
OneDrive для бизнеса сайтов можно настроить в Office 365 или с помощью модели приложения в целом, в соответствии с требованиями организации. Фактические методы для выполнения этой настройки отличаются от в локальной, так как можно использовать только методы модели приложения. На этой странице приведены сведения о фактических шаблоны, которые можно использовать с mdoel приложение для настройки OneDrive для бизнеса сайтов. 

> [!IMPORTANT]
> В этом **только** применяется к *классической* OneDrive для бизнеса программой в SharePoint Online. При использовании интерфейса по умолчанию «новый» это действие не поддерживается. Современный или новые интерфейсы OneDrive для бизнеса не поддерживает настраиваемый фирменный стиль. Администраторы клиента можно управлять из SharePoint Online административных параметров интерфейса по умолчанию.

# <a name="why-would-you-customize-onedrive-for-business-sites"></a>Почему бы настроить OneDrive для бизнеса сайтов #

Существует множество различных аспектов на применение настроек к OneDrive для бизнеса (OD4B) сайтов. Конечно, эти сайты можно настроить, с момента их сайты SharePoint, но в то же время всегда необходимо учитывать влияние короткие и длинные терминов из настроек. Как правило эскиз мы хотели бы предоставить инструкциями по настройке OD4B сайты верхнего уровня. 

- Применение фирменной настройки, с помощью Office 365 тем или модуль темы сайта SharePoint
- Обработчики темы, не достаточно, можно настроить некоторые параметры CSS с помощью альтернативного варианта CSS
- Избегайте Настройка OD4B сайтов, с помощью настраиваемых главных страниц, так как это приведет к вам дополнительные долгосрочные затраты и проблемы, связанные с будущими обновлениями
  + В большинстве случаев можно достичь все распространенные сценарии фирменной настройки с тем и альтернативной таблицы CSS, поэтому это не действительно, ограничивающим фактором
  + Если вы решили использовать настраиваемые главные страницы, подготовленного для применения изменений на веб-сайты, когда основные функциональные обновления применяются к Office 365
- Можно использовать JavaScript, внедрение для изменения или скрыть функциональных возможностей с сайта
- CSOM можно использовать для управления например языка и региональных параметров на сайтах OD4B (увидеть новые интерфейсы API)
- Не рекомендуется использование типов контента и столбцы в сайтах OD4B во избежание проблем с сайта 
  + Представить OD4B сайтов как для персональных данных без структурные и документы. Сайты рабочих групп и совместной работы документа, а затем для данных компании и документов, где можно определенно использовать любые политики управления сведениями и метаданных.

В сводке настроек определенно поддерживаемые в Office 365 и вы можно хранить в их использования с сайтами, OD4B. Только что действительно необходимо рассмотреть короткие и длинные терминов влияния этих настроек из эксплуатации и обслуживанию Перспектива. Это не конкретно для SharePoint, а не как правило для построения решения любой ИТ с любой платформы. 

Ниже приведен пример OD4B узла, который был настроен с помощью выше рекомендаций. В этом случае конечный результат достигнут с тем Office 365, тему сайта и использование так называемое JavaScript, внедрение шаблон.

![Настраиваемая OD4B сайта.](media/Customization-Options-For-OD4B-Sites/Customization-Options-For-OD4B-Sites-01.png)

# <a name="challenge-with-applying-onedrive-for-business-site-customizations"></a>Вызов с применение OneDrive для настройки сайта бизнеса? #

Начнем с определения возможности проблемой и что мы пытаетесь решить здесь. Технически каждого OneDrive для бизнеса сайта в текущий момент использует идентичные архитектуры как личные или личные узлы, используемые в SharePoint 2007 или 2010 версии. Это означает, технически каждого OneDrive для бизнеса сайта является собственные семейства веб-сайтов и мы не можем любой централизованное расположение для применения фирменной настройки или другие настроек.

![Каждый OneDrive для бизнеса сайта — это собственный семейства сайтов в разделе личные управляемого пути и URL-адрес создан на основе профилей пользователей, назначенные. На рисунке три сайтов перечислены как дочерние сайты. URL-адрес первого дочернего сайта заканчивается на /bill_contoso_com. Второй заканчивается на /vesa_contoso_com. Третий заканчивается на /john_contoso_com.](media/Customization-Options-For-OD4B-Sites/Customization-Options-For-OD4B-Sites-02.png)

Классический решение, которое требуется применить необходимые настройки в OneDrive для бизнеса сайты (включая Мои или личные сайты) основана на ассоциации возможности на уровне фермы. Это означает, что вы развернуть решение фермы в ферме SharePoint используется структура компонентов для связи вашего пользовательского компонента активируется при каждом создано личный сайт, которой затем отвечал применения необходимых настроек. Такой же подход не работает в Office 365, поскольку требуется следует развертывать решение фермы и это невозможно просто с сайтами на Office 365. Поэтому мы должны выглядеть альтернативы для применения необходимые изменения на веб-сайты.

В Office 365 централизованного событие не возникает, который мы может присоединить наших пользовательского кода, чтобы при создании сайта OD4B. Это означает, что необходимо учитывать альтернативных решений будет весьма подходов модели приложения. Не войти на старой модели, подумайте, как добиться же конечный результат с помощью новые интерфейсы API и технологии. С точки зрения чисто требования, он не имеет значения как мы применить ее на веб-сайты, до тех пор, пока они применяются, поскольку не следует применять ассоциации возможности бизнес-требованиям, где о применении необходимо с помощью поддерживается независимо от существующих настроек Технические механизм. 

# <a name="different-options-for-applying-customizations"></a>Различные варианты применения настроек #

На практике у нас есть четыре различных механизмов для применения настроек централизованного к сайтам OD4B в Office 365. Кроме того, можно вручную вариант, пятый, но в случае необходимости сотни или тысячи OD4B сайтов, с помощью вручную параметры не действительно реалистичной параметр. Вот различных параметрах, у нас есть.
 
1. Office 365 набора параметров уровня (Office 365 темы и другие параметры)
2. Веб-часть скрытые приложения с помощью контекста пользователя
3. Предварительное создание и применение конфигурации
4. Задание таймера удаленного, на основании изменения профиля пользователя

Все параметры имеют преимущества и недостатки в их и правом параметр зависит от подробные бизнес-требования. Некоторые параметры применяются на уровне набора приложений Office 365, но часто может нужна некоторые дополнительные особенности, необходимых действительных настроек. Очевидно, что все сводится на точное требования и вариантов анализа бизнеса на их влияние на короткие и длинные терминов.

## <a name="office-365-suite-level-settings"></a>Параметры уровня набора приложений Office 365 ##

Office 365 — это не только SharePoint, как вы знаете. Можно найти более дополнительные службы, которые не основаны на даже архитектуры SharePoint, как Delve, Yammer и многие предстоящие службы. Это означает, что корпоративной фирменной символики и конфигурации не используется только для управления имеют на сайтах SharePoint, а мы следует подумать общий конечного пользователя взаимодействия и как мы предоставляем согласованные конфигурации пересекать различных служб.

Фирменная символика классический пример этим требованиям предприятия и для, у нас есть еще темы Office 365 введена, которую можно использовать для управления определенный уровень фирменной символики. У нас есть также другие предстоящие возможности, которые позволяют контролировать вашего сайта управления и другие параметры, централизованное расположение за пределами параметры семейства сайтов, как предстоящие центре соответствия требованиям для Office 365, которая указана в настоящее время в плану Office 365.

На рисунке ниже показаны различные параметры на данный момент темы Office 365, который затем применяется на нескольких всех служб Office 365.

![Сайт отображает Office 365, отображение вкладки настраиваемой темы, право управление пользовательских тем для вашей организации, Настройка Office 365 в соответствии с марки вашей организации. Параметры доступны для эмблема, URL-адрес для активной логотип, фонового изображения, контрастный цвет, цвет фона панели навигации, цвет текста и значков и цвет значков меню приложения.](media/Customization-Options-For-OD4B-Sites/Customization-Options-For-OD4B-Sites-03.png)

Поскольку по умолчанию параметры темы Office 365, для управления панель набора OD4B сайта, вероятнее всего использовании этого параметра вместе с другими вариантами чтобы убедиться, что можно указать по крайней мере правом элементы фирменной настройки кросс-OD4B сайтов. Обратите внимание на то, что при внесении изменений для примера настройки темы Office 365 в средство администрирования Office 365, занимает весьма много времени для получения параметров, примененных для сайтов OD4B, поэтому быть Терпение. 

## <a name="hidden-app-part-with-user-context"></a>Веб-часть скрытые приложения с помощью контекста пользователя ##

Это подход, в которых использование централизованного целевая страница по для начала необходимые настройки. Это означает, что необходимо иметь один централизованное расположение, как страница переднего интрасети компании, где пользователи всегда Главная при открытии их браузера. Это очень типовой процесс с среднего и более крупным предприятиям где корпоративной целевая страница — это, затем управляются с помощью параметров групповой политики в AD. Это гарантирует, что конечные пользователи не могут переопределить начальная страница по умолчанию браузеров домену компании.

Когда пользователь попадает в интрасети, мы будет скрытым веб-части приложения в страницы, который будет запущен процесс настройки. Его можно фактически отвечает всей OD4B создания сайтов также, так как обычно пользователь должен будет узле OD4B времени, прежде чем будет запущен процесс создания сайта. Веб-часть приложения скрытых фактически размещается на страницу с размещением у поставщика по размещены в Azure. На этой странице отвечает затем начальных процесс настройки.

Взглянем более подробно на логической структуры этого подхода.

![Схема для отображения отношений. Создайте экземпляр веб-части приложения на сайте используется SharePoint переход на приложений, размещенных в поставщик. Приложений, размещенных в поставщик использует добавить сообщение переход на хранилища очереди. Создайте экземпляр очереди использует хранилище переход на WebJob. Переход на сайт OD4B WebJob использует применить изменения.](media/Customization-Options-For-OD4B-Sites/Customization-Options-For-OD4B-Sites-04.png)

1. Поместите веб-часть приложения скрытых централизованного сайт, где будет располагаться конечных пользователей. Обычно это на первой странице корпоративной интрасети.
2. Веб-часть приложения размещается на страницу с размещением у поставщика надстройки, где в кода на стороне сервера мы начать процесс настройки, добавив необходимые метаданные в очередь хранилища azure. Это означает, что только будет получать запрос настройки на этой странице, но фактически не применяется все изменения для хранения обычных времени обработки.
3. Это очереди azure хранения, который будет получать сообщений в очередь для обработки. На первой странице интрасети остается таким образом, мы может обрабатывать настройки асинхронно управление процесса, чтобы он не имеет значения как долго конечного пользователя. Если процесс настройки может быть синхронные, мы бы зависит от конечного пользователя для оставьте браузер открытым на странице переднего интрасети только после завершения выполнения страницы. Это не будет определенно удобство работы конечных пользователей. 
4. WebJob подключен к выполните очереди хранилища, который вызывается, когда новый элемент ставится в очередь хранилища. В этом WebJob будет получать необходимые параметры и метаданные из сообщения в очереди для доступа к коллекции правом сайта. WebJob с помощью приложения только маркеров и предоставлены необходимые разрешения для работы с семейств веб-сайтов на уровне клиента.
5. Действительных настроек, примененные по одному на сайты тем пользователям, у которых посетите страницу переднего интрасети для начала процесса.

Это определенно самый надежный процесс становится правой конфигураций на сайтах OD4B. Логика настройки управления версиями можно легко добавить к процессу, который также применяет все необходимые обновления сайтов OD4B, при необходимости обновления и посещении на первой странице интрасети следующий раз. Этот параметр, однако требуют наличия этого централизованное расположение, где главная конечных пользователей.

Если вы знакомы классический моделей разработки SharePoint с решениями для фермы, это очень аналогичный процесс как один раз, выполнение задания таймера.

## <a name="pre-create-and-apply-configuration"></a>Предварительное создание и применение конфигурации ##

Этот параметр использует перед созданием сайтов OD4B перед пользователи будут получать доступ к их. Это можно сделать с помощью относительно новых API, содержащей "мне нравится" нет на месте для создания сайтов OD4B для конкретных пользователей в процесс пакетной обработки с помощью CSOM или REST. Требуется код может запускаться с помощью скрипта PowerShell или путем написания фактический код, который вызывает API удаленного. 

![Администраторы используют, предварительное создание и настройка для создания сайта OD4B.](media/Customization-Options-For-OD4B-Sites/Customization-Options-For-OD4B-Sites-05.png)

1. Администратор с помощью удаленного создания API-интерфейсы для создания сайтов OD4B для пользователей и применяет необходимых настроек сайтов OD4B как часть процесса скрипта.
2. Фактический OD4B сайтов создаются в Office 365 для конкретных пользователей и связанных профилей

В некотором смысле это также действительно надежный процесс, но необходимо управлять новых лиц и обновления «вручную» которого означает больше работы, затем с помощью подхода часть скрытые приложения. Это определенно допустимый подход, который может быть съемки и особенно полезна, если выполняется миграция некоторые другие решения для OD4B общего доступа к файлам и хотите избежать необходимости конечных пользователей для доступа к сайту OD4B один раз, до начала создания сайтов фактических данных.

## <a name="remote-timer-job-based-on-user-profile-updates"></a>Задание таймера удаленного, на основании изменения профиля пользователя ##

Этот подход означает, что сканирования через профилей пользователей для проверки, для которого был создан сайт OD4B, а затем применять изменения на веб-сайты, при необходимости. Это означает, что запланированное задание под управлением за пределами SharePoint, которое будет периодически проверить состояние и выполнить необходимые настройки. Запланированное задание может быть работает как WebJob в Azure или просто сценарий PowerShell, запланированного в планировщик windows. Очевидно, что масштаб развертывания имеет огромную воздействия на выбранный флажок.

![Задание таймера удаленного использует, цикл по семейств веб-сайтов, для настройки каждого сайта.](media/Customization-Options-For-OD4B-Sites/Customization-Options-For-OD4B-Sites-06.png)

1. запланированного задания инициируется которого будут получать доступ к профилям пользователей, для проверки, у кого есть OD4B подготовить к работе с сайта 2. фактическое сайты, настроенный с одной основанных на требованиях бизнеса

Одним из ключевых недостатков этого параметра является, что четко возможны ситуации, в котором пользователь может получить доступ сайты OD4B до применения настроек. В то же время этот параметр используется интересных дополнительный компонент для других параметры, чтобы убедиться, что конечные пользователи не были изменены любые необходимые параметры на сайтах или для проверки содержимого узла OD4B коммерческим политик компании.

----------

### <a name="related-links"></a>Ссылки по теме ###
-  [Настройка OneDrive для бизнеса веб-сайтов при объектная модель (статья блога MSDN)](http://blogs.msdn.com/b/vesku/archive/2015/01/01/customizing-onedrive-for-business-sites-with-app-model.aspx)

### <a name="related-pnp-samples"></a>Примеры связанных с ними PnP ###
-  [Настройка OD4B сайтов с использованием шаблона асинхронного](#)
-  [Процесс часть и синхронизации Классические приложения для настройки сайта OD4B](https://github.com/SharePoint/PnP/tree/master/Solutions/Provisioning.OneDrive)
-  [Предварительное создание OD4B сайты для пользователей](https://github.com/SharePoint/PnP/tree/master/Samples/Provisioning.OneDriveProvisioning)

### <a name="applies-to"></a>Применимо к ###
-  Office 365 нескольких клиентов (MT)
-  Office 365 выделенными (D) - *частично*
-  SharePoint 2013 в локальной - *частично*

*Шаблонов для выделенными и локальной, совпадают с методики объектная модель, но существуют некоторые отличия на основе возможных технологий, которые можно использовать.*

### <a name="author"></a>Автор
(VESA juvonen) (Microsoft) - [@vesajuvonen](https://twitter.com/vesajuvonen)

### <a name="version-history"></a>История изменений ###
Версия  | Date | Примечания
---------| -----| --------
1.0  | 2-го января 2015 | Исходный выпуск | (Microsoft) (VESA juvonen)
