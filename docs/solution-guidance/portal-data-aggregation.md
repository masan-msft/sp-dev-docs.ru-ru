---
title: "Проверенные рекомендации для порталов SharePoint Online — объединения содержимого"
ms.date: 11/03/2017
ms.openlocfilehash: b78cad9e673d28d38f8c160020c4bd0ae33de7df
ms.sourcegitcommit: 0a94e0c600db24a1b5bf5895e6d3d9681bf7c810
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/07/2017
---
# <a name="proven-practices-for-sharepoint-online-portals---content-aggregation"></a>Проверенные рекомендации для порталов SharePoint Online — объединения содержимого

Каждые портала разработки включает набор компонентов, которые динамически поиск контента для отображения на страницах портала.  Основные операции эти элементы управления концепцию объединение контента, который в целях этой статьи, определяется как процесс динамического обнаружения желании содержимого во время выполнения. Эта технология, на котором будут выполнять объединения содержимого можно оказывают значительное влияние на производительность вашего портала и своих страниц.

> [!NOTE] 
> Несмотря на то, что данное руководство в первую очередь относится SharePoint Online, большая часть он также распространяется на порталов, размещенных в локальной среде SharePoint.

_**Применимо к:** SharePoint Online_

## <a name="anti-patterns-in-other-words-dont-do-these-things"></a>Защита от шаблонов (иными словами, не выполнить эти действия)
<a name="bk_antiPatterns"> </a>

Если вы хотите возникновении проблем с портал в целом и вашей статистических данных, в частности, необходимо учитывайте следующие шаблоны защиты от:

- Используйте метод объединения содержимого «в режиме реального времени» каждый раз, когда и где это возможно
- Поместите десяти или несколько элементов управления плохо разработан объединения содержимого на странице портала большого объема (например, домашняя страница)
- Использование объекта групповой политики (GPO) для принудительного все браузеры для загрузки инспектором портала страницы по умолчанию
- Строка ограничения на результаты объединения содержимого не применяется
- Не следует кэшировать результаты объединения содержимого
- Устаревшие веб-службу списков (SOAP)
    - для дополнительных проблемы передайте ему некоторые плохо разработанные запросы CAML

## <a name="content-aggregation-defined"></a>Определенные объединения содержимого
<a name="sectionSection0"> </a>

Важно Создание очистить определения объединения содержимого для контекста в этой статье.

>**Объединение контента** концепцию динамически размещение и извлечение содержимого для отображения на текущей странице, что содержимое существует отдельно от текущей страницы в одно или несколько расположений портал
>
>- Объединение контента не включает в себя контент в рамках текущей страницы
>- Прежде всего, объединения содержимого предназначен для представления клиентского доступа пользователей портала (в отличие от представления серверной администратора)

Вот несколько примеров распространенных данных используется объединение.

- Главная страница портала содержит элемент управления узнать последние новости, который отображает список ссылок на самую новую статьи, опубликованные в портале
- Страницы портала содержит элемент управления глобальной навигации, которая отображает ссылок перемещения, управляемых в настраиваемый список SharePoint

## <a name="the-problem-with-the-real-time-content-aggregation-requirement"></a>Проблемы с потребности в режиме реального времени объединения содержимого
<a name="sectionSection1"> </a>

>**Объединение контента в режиме реального времени** - изменений, внесенных в источник контента объединение немедленно отображаются в элементах управления объединения содержимого, предназначенные для этого источника

Вот несколько примеров, где ожидания в режиме реального времени статистической обработки контента может произойти.

- Автор публикует статьи и ожидает его ссылка на немедленно отображаются в элементе управления узнать последние новости Главная страница портала
- Портал администрирования добавляет ссылку на список глобальных переходов и ожидает немедленно отображаться в элементе управления глобальной навигации

Конечно существует класс срочно информацию, которая требуется рассылки абсолютный, в режиме реального времени; Тем не менее портал публикации не следует использовать для ***начального*** распределения такие данные, срочно. Ряд других систем (сотовый, радио, вспомогательные, телевизор, сирену, сигналами, аудиосистемы, и т.д.), лучше подходит для этой задачи. Портал лучше всего подходят для рассылки звонящему сведения, контекст и подробные сведения; путем определения, которые рассылки не будет выполнена в режиме реального времени.

С помощью этого контекста в виду учитывайте этот оператор признать непристойные.

- **Никакой контент портала не хватает важно, чтобы гарантируете затрат в режиме реального времени объединения содержимого**

К сожалению положение по умолчанию практически все группы управления контент портала является считать даже наиболее рутинных содержимого срочные и заслуживает в режиме реального времени объединения содержимого. 

Именно здесь лежит проблемой для разработчик архитектуры портала: выполните succumb в экономике эти и риска приводит к ухудшению производительности портала или выполните склонить его в противном случае — и доставить высокопроизводительных портала? Мы рекомендуем вам склонить его в противном случае.

В некотором смысле strict абсолютный «в режиме реального времени» объединения содержимого технически не поддерживается в *любой* системы публикации. Даже если поведение по умолчанию портал публикации, задержки и кэширование происходит при различных уровнях в конвейере объединение/визуализация содержимого; часть видны и настраиваемые (например, настраиваемые кэш на стороне клиента, кэш вывода на сервере, кэш объектов на сервере) и его части скрытые и постоянные (например, базы данных, планы запросов, кэши внутреннее приложение, и т.д.).

Авторы контента, как правило, только пользователей, которые Обратите внимание на то задержки объединения содержимого. Конечный пользователь имеет отсутствие прав в режиме реального времени объединения содержимого из-за отсутствия коллег понять процесс публикации содержимого.

Как только один принимает, что не может быть «в режиме реального времени» объединения содержимого, все, что остается с текущими настройками являются согласования:

- сколько времени вы хотите проверить содержимое?
- Сколько вы хотите «оплата» просмотреть содержимое немного быстрее?

Избежать в решении высокопроизводительных портала; их объединения содержимого задержки злоумышленнику на допустимая задержка и портала пользователи будут Благодарим вас.

> Обратите внимание, что несмотря на то, что объединения содержимого не может быть в режиме реального времени в определенно случаях можно абсолютно иметь к примеру, настраиваемых предупреждения возможности со значением 5 минут и объединение новости со значением 1 час. Это не приведет к объединения содержимого режиме реального времени, но считается почти в режиме реального времени объединение большинством конечных пользователей. 

## <a name="content-aggregation-techniques"></a>Методы объединения содержимого 
<a name="sectionSection2"> </a>

В следующих разделах два способа объединения содержимого, которые доступны для SharePoint Online.

**Мы рекомендуем предпочтение рад контента на основе поиска вместо объединения содержимого на основе CAML.**

### <a name="caml-based-content-aggregation"></a>Объединения содержимого на основе CAML (en)

Эта технология объединения содержимого на основе CAML основана на использование запросов язык разметки совместных приложений (CAML). 

Один можно создавать запросы CAML и использовать их для выполнения операции объединения содержимого в SharePoint. Запросы выполняются для баз данных контента SharePoint. Запросы CAML помещенного в реализации серверные элементы управления, такие как веб-части содержимого по запроса стандартной (готовые). Запросы CAML можно также непосредственно для различных контента обнаружения интерфейсы API, доступные для пользовательских элементов управления JavaScript со стороны клиента.

Основное преимущество CAML состоит в том, что она позволяет поступают в ближайшем по возможности для достижения «в режиме реального времени» объединения содержимого. Основной недостаток CAML является необходимость базы знаний и навыков для разработки высокопроизводительных запросы CAML; внешне безвредным изменений может привести к бесконечный серии промахов кэша влияние на котором не очевидно, пока не будет портала при больших нагрузках плохо выполнения запроса CAML и/или.

Запретив развертывания пользовательского кода SharePoint Online не актуальна что традиционно была одной наихудшее категории причиной снижения производительности SharePoint: пользовательские элементы управления на сервере и веб-частей, использующих возможности плохо разработанные запросы CAML. Тем не менее по-прежнему возможность использования CAML через веб-части готовые контент с запроса, а также с помощью пользовательских элементов управления JavaScript со стороны клиента. Некоторые замечания: 

- Результаты каждого запроса CAML со стороны клиента в запросе прямой базы данных
    - Результаты CAML со стороны клиента, не кэшируются на сервере
    - Запросы на стороне клиента CAML сбора данных для сервера базы данных для выполнения (промахов кэша будет останавливаться)
- Каждый запрос на сервере CAML является риска перестать запрос прямого базы данных
    - На сервере CAML результаты кэшируются на сервере, на основании аналогичные наборов разрешений пользователя
    - Никогда не кэшируются запросы, содержащие поля личной настройки
    - На сервере запросов CAML сбора данных для сервера базы данных для выполнения при возникновении промахов кэша
    - Промахов кэша — это рядом с-точно в фермах с большим числом веб-интерфейсы

**Мы рекомендуем не на основе CAML объединения содержимого, когда это возможно.**

Если необходимо использовать объединения содержимого на основе CAML, Пожалуйста ознакомьтесь со следующими рекомендациями:

- Избегайте его использования на страницах большого объема
- Ограничить ее использования для определенных класс контента (например, оповещения)
- Определение возможности запроса CAML простой, самые эффективные и проверить производительность
- Реализация индексированных столбцов в списках конечного
- Включить строку ограничения по запросу
- Убедитесь, что настраиваемые элементы управления JavaScript со стороны клиента предоставляют ссылку **Дополнительная** пользователи автоматически перенаправлялись на страницу полное небольшим 
- Убедитесь, что пользовательские элементы управления JavaScript со стороны клиента, использующих возможности платформа уровень доступа данных со стороны клиента для кэширования содержимого ответа
    - Нет «результаты» — это правильный ответ и должны сохраняться в кэше также
- Принудительное применение истечения срока действия кэша на стороне клиента не менее 5 минут

Обратитесь к [статье производительности портала](portal-performance.md) для получения дополнительных сведений о уровень доступа к данным со стороны клиента.

### <a name="search-based-content-aggregation"></a>Объединения содержимого на основе поиска

Эта технология объединения содержимого на основе поиска основана на использование запросов SharePoint поиска ключевого слова Query Language (KQL). 

Один можно создавать запросы поиска KQL и использовать их для выполнения операции объединения содержимого в SharePoint. Запросы выполняются для индекса поиска SharePoint. Поисковые запросы KQL помещенного в реализации серверные элементы управления, такие как веб-части содержимого по поиска стандартной (готовые). Запросов KQL также может использоваться непосредственно с API поиска, доступные для пользовательских элементов управления JavaScript со стороны клиента.

Основные преимущества объединения содержимого на основе поиска — это, что он использует службы поиска SharePoint, созданных для обеспечения исключительной performance большого масштаба при больших нагрузках. Основной недостаток рад контента на основе поиска является его зависимостью от индекс поиска, что означает, что будет небольшая задержка перед контента изменения отображаются в индексе поиска.

Некоторые замечания: 

- Контент портала необходимо для обхода и добавлен в индекс поиска, чтобы сделать доступным для объединения данных на основе поиска 
- SharePoint непрерывно обходит контент портала для предоставления актуальных индекса поиска
    - Тем не менее будет небольшая задержка перед контента изменения отображаются в индексе.
- Схема поиска должна быть настроена для разрешенных нужного свойства содержимого обнаружения с помощью поиска

**Мы рекомендуем являются фаворитами объединения содержимого на основе поиска.**

При использовании объединения содержимого на основе поиска, Пожалуйста ознакомьтесь со следующими рекомендациями:

- Убедитесь, что группа разработчиков управления контентом понимаете, что содержимое должно выполняться обход перед можно объединить
    - Установить ожидания относительно задержки объединения содержимого 
- Настройте необходимые схемы поиска
    - Выбор соответствующей области (клиент, семейства веб-сайтов или веб)
    - Триггер для автоматического создания из свойств для обхода и управляемых свойств
    - Использование стандартной заполнитель управляемого свойства (например, RefinableInt01) по необходимости сортировку и уточнение
- Разработка соответствующих источников результатов и запросы
    - Целевые отдельные списки, веб-сайтов или сайтов при необходимости
    - При необходимости создания решений отдельных типов контента
    - При необходимости создания решений конкретными управляемыми свойствами (то есть, столбцы сайта)
- Выберите нужную отображаемые элементы управления:
    - Готовые элементы управления: 
        - Использование контента путем поиска веб-частей
        - Возвращает минимальной строки и столбцы, необходимые
        - Разработка необходимые шаблонов отображения
        - При необходимости включите асинхронной обработки на стороне клиента
    - Пользовательские элементы управления:
        - Использование настраиваемых, со стороны клиента JavaScript отображения элементов управления, использующие REST Search API
        - Возвращает минимальной строки и столбцы, необходимые
        - Убедитесь, что по использованию платформа уровень доступа данных со стороны клиента для кэширования ответы

Обратитесь к [статье производительности портала](portal-performance.md) для получения дополнительных сведений о уровень доступа к данным со стороны клиента.

## <a name="see-also"></a>См. также
<a name="bk_additionalResources"> </a>

- [Руководство по производительности портала](portal-performance.md)