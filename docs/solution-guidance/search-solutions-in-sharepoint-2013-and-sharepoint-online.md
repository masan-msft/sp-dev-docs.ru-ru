---
title: "Решения для поиска в SharePoint 2013 и SharePoint Online"
ms.date: 11/03/2017
ms.openlocfilehash: 99e7c75c2cffe085b045d1eb1bfbaeae57a55978
ms.sourcegitcommit: 0a94e0c600db24a1b5bf5895e6d3d9681bf7c810
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/07/2017
---
# <a name="search-solutions-in-sharepoint-2013-and-sharepoint-online"></a><span data-ttu-id="e8748-102">Решения для поиска в SharePoint 2013 и SharePoint Online</span><span class="sxs-lookup"><span data-stu-id="e8748-102">Search solutions in SharePoint 2013 and SharePoint Online</span></span>

<span data-ttu-id="e8748-103">Сведения об архитектуре поиска SharePoint, API поиска и поисковых надстройках.</span><span class="sxs-lookup"><span data-stu-id="e8748-103">Find out about the SharePoint search architecture, search APIs, and search add-ins.</span></span>

<span data-ttu-id="e8748-104">_**Применимо к:** Office 365 | SharePoint 2013 | Надстройки SharePoint | SharePoint Online_</span><span class="sxs-lookup"><span data-stu-id="e8748-104">_**Applies to:** Office 365 | SharePoint 2013 | SharePoint Add-ins | SharePoint Online_</span></span>

<span data-ttu-id="e8748-105">Простота настройки и развертывания объединяет поиска в SharePoint 2013 с масштабируемость и расширяемость FAST Search Server на платформе одного корпоративного поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-105">Search in SharePoint 2013 combines ease of configuration and deployment with the scalability and extensibility of the FAST Search Server on a single enterprise search platform.</span></span>

<span data-ttu-id="e8748-106">SharePoint 2013 включает в себя общие шаблоны в платформе поиска, связанные с настройкой поиска для различных сценариев.</span><span class="sxs-lookup"><span data-stu-id="e8748-106">SharePoint 2013 includes common patterns in the search platform to help you customize search for different scenarios.</span></span> <span data-ttu-id="e8748-107">Например:</span><span class="sxs-lookup"><span data-stu-id="e8748-107">For example:</span></span>

- <span data-ttu-id="e8748-108">Поиск видео и поиска беседы включены в качестве ожидания введите [вертикали поиска](https://technet.microsoft.com/en-us/library/dn794227.aspx).</span><span class="sxs-lookup"><span data-stu-id="e8748-108">Video search and conversation search are included as out-of-the-box [search verticals](https://technet.microsoft.com/en-us/library/dn794227.aspx).</span></span>
    
- <span data-ttu-id="e8748-109">Раздел страницы и содержимое службой поиска улучшить возможности управления контентом web и сценариев, таких как сайты на основе механизмов поиска и сайтов управления базы знаний.</span><span class="sxs-lookup"><span data-stu-id="e8748-109">Topic pages and Content by Search enhance web content management capabilities and scenarios such as search-driven sites and knowledge management sites.</span></span>
    
- <span data-ttu-id="e8748-110">"Мои задачи" собирает задачи проекта, чтобы пользователи могли отслеживать задач, назначенных на нескольких сайтах в одном месте, их OneDrive для бизнеса сайта.</span><span class="sxs-lookup"><span data-stu-id="e8748-110">My tasks pulls together project tasks so that users can track tasks assigned in multiple sites in a central location, their OneDrive for Business site.</span></span>

## <a name="sharepoint-2013-search-architecture"></a><span data-ttu-id="e8748-111">Архитектура поиска SharePoint 2013</span><span class="sxs-lookup"><span data-stu-id="e8748-111">SharePoint 2013 search architecture</span></span>

<span data-ttu-id="e8748-112">Архитектура поиска в SharePoint 2013 включает в себя компонентов и баз данных, которые работают вместе.</span><span class="sxs-lookup"><span data-stu-id="e8748-112">The search architecture in SharePoint 2013 includes components and databases that work together.</span></span> 

<span data-ttu-id="e8748-113">**Компоненты поиска в SharePoint 2013**</span><span class="sxs-lookup"><span data-stu-id="e8748-113">**Search components in SharePoint 2013**</span></span>

|<span data-ttu-id="e8748-114">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="e8748-114">**Component**</span></span>|<span data-ttu-id="e8748-115">**Описание**</span><span class="sxs-lookup"><span data-stu-id="e8748-115">**Description**</span></span>|
|:-----|:-----|
|<span data-ttu-id="e8748-116">Обход контента</span><span class="sxs-lookup"><span data-stu-id="e8748-116">Crawl</span></span> |<span data-ttu-id="e8748-117">Выполняет обход контента для сбора свойств и метаданных и отправляет их в компонент обработки контента.</span><span class="sxs-lookup"><span data-stu-id="e8748-117">Crawls content sources to collect properties and metadata and sends this information to the content processing component.</span></span>|
|<span data-ttu-id="e8748-118">Обработка контента</span><span class="sxs-lookup"><span data-stu-id="e8748-118">Content processing</span></span> |<span data-ttu-id="e8748-119">Преобразует обойденных элементов и отправляет их в компонент индексирования.</span><span class="sxs-lookup"><span data-stu-id="e8748-119">Transforms the crawled items and sends them to the index component.</span></span> <span data-ttu-id="e8748-120">Этот компонент также сопоставление свойств для обхода с управляемыми свойствами.</span><span class="sxs-lookup"><span data-stu-id="e8748-120">This component also maps crawled properties to managed properties.</span></span>|
|<span data-ttu-id="e8748-121">Обработка аналитики</span><span class="sxs-lookup"><span data-stu-id="e8748-121">Analytics processing</span></span> |<span data-ttu-id="e8748-122">Выполняет анализ поиска и анализа использования.</span><span class="sxs-lookup"><span data-stu-id="e8748-122">Carries out search analytics and usage analytics.</span></span>|
|<span data-ttu-id="e8748-123">Индекс</span><span class="sxs-lookup"><span data-stu-id="e8748-123">Index</span></span> |<span data-ttu-id="e8748-124">Получает обработанные элементы из компонент обработки контента и записывает их в индекс поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-124">Receives the processed items from the content processing component and writes them to the search index.</span></span> <span data-ttu-id="e8748-125">Этот компонент также обрабатывает входящие запросы, извлекает сведения из индекса поиска и отправляет результирующего набора в компонент обработки запросов.</span><span class="sxs-lookup"><span data-stu-id="e8748-125">This component also handles incoming queries, retrieves information from the search index, and sends back the result set to the query processing component.</span></span>|
|<span data-ttu-id="e8748-126">Обработка запросов</span><span class="sxs-lookup"><span data-stu-id="e8748-126">Query processing</span></span> |<span data-ttu-id="e8748-127">Анализирует входящие запросы.</span><span class="sxs-lookup"><span data-stu-id="e8748-127">Analyzes incoming queries.</span></span> <span data-ttu-id="e8748-128">Это позволяет оптимизировать точности, отзыв и релевантности.</span><span class="sxs-lookup"><span data-stu-id="e8748-128">This helps optimize precision, recall, and relevance.</span></span> <span data-ttu-id="e8748-129">Запросы отправляются компонент индекса, который возвращает набор результатов поиска для запроса.</span><span class="sxs-lookup"><span data-stu-id="e8748-129">The queries are sent to the index component, which returns a set of search results for the query.</span></span>|
|<span data-ttu-id="e8748-130">Администрирование поиска</span><span class="sxs-lookup"><span data-stu-id="e8748-130">Search administration</span></span> |<span data-ttu-id="e8748-131">Запускает системные процессы для поиска и добавляет и инициализирует новые экземпляры компонентов поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-131">Runs the system processes for search, and adds and initializes new instances of search components.</span></span>|

<span data-ttu-id="e8748-132">**Базы данных поиска в SharePoint 2013**</span><span class="sxs-lookup"><span data-stu-id="e8748-132">**Search databases in SharePoint 2013**</span></span>

|<span data-ttu-id="e8748-133">**Базы данных**</span><span class="sxs-lookup"><span data-stu-id="e8748-133">**Database**</span></span>|<span data-ttu-id="e8748-134">**Описание**</span><span class="sxs-lookup"><span data-stu-id="e8748-134">**Description**</span></span>|
|:-----|:-----|
|<span data-ttu-id="e8748-135">Обход контента</span><span class="sxs-lookup"><span data-stu-id="e8748-135">Crawl</span></span> |<span data-ttu-id="e8748-136">Сохранение отслеживания сведения и журнал сведений о для обхода элементов, таких как документы и URL-адреса.</span><span class="sxs-lookup"><span data-stu-id="e8748-136">Stores tracking information and historical information about crawled items such as documents and URLs.</span></span> <span data-ttu-id="e8748-137">Он также хранит сведения, такие как время последнего обхода контента, идентификатор последнего обхода контента и тип обновления (Добавление, обновление, удаление) во время последнего обхода.</span><span class="sxs-lookup"><span data-stu-id="e8748-137">It also stores information such as the last crawl time, the last crawl ID, and the type of update (add, update, delete) during the last crawl.</span></span>|
|<span data-ttu-id="e8748-138">Ссылка</span><span class="sxs-lookup"><span data-stu-id="e8748-138">Link</span></span> |<span data-ttu-id="e8748-139">Кнопка необработанных хранит сведения, извлеченные обработки компонента и сведения о поиске контента.</span><span class="sxs-lookup"><span data-stu-id="e8748-139">Stores unprocessed information that is extracted by the content processing component and information about search clicks.</span></span> <span data-ttu-id="e8748-140">Компонент обработки аналитики анализирует эти сведения.</span><span class="sxs-lookup"><span data-stu-id="e8748-140">The analytics processing component analyzes this information.</span></span>|
|<span data-ttu-id="e8748-141">Аналитических отчетов</span><span class="sxs-lookup"><span data-stu-id="e8748-141">Analytics reporting</span></span> |<span data-ttu-id="e8748-142">Сохраняет результаты анализа сведений об использовании.</span><span class="sxs-lookup"><span data-stu-id="e8748-142">Stores the results of usage analysis.</span></span>|
|<span data-ttu-id="e8748-143">Администрирование поиска</span><span class="sxs-lookup"><span data-stu-id="e8748-143">Search administration</span></span> |<span data-ttu-id="e8748-144">Хранит данные конфигурации поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-144">Stores search configuration data.</span></span>|

### <a name="crawl-and-content-processing"></a><span data-ttu-id="e8748-145">Обхода и обработки контента.</span><span class="sxs-lookup"><span data-stu-id="e8748-145">Crawl and content processing</span></span>

<span data-ttu-id="e8748-146">Процесс обхода начинается с разные источники контента (например, HTTP, общие файловые ресурсы и SharePoint).</span><span class="sxs-lookup"><span data-stu-id="e8748-146">The crawl process starts with the different sources of content (for example HTTP, file shares and SharePoint).</span></span> <span data-ttu-id="e8748-147">Контент в индексе добавляется программа-обходчик использует соединителей, которые сообщают программа-обходчик подключения к источнику контента и доступ к элементов контента в источнике.</span><span class="sxs-lookup"><span data-stu-id="e8748-147">For content to be added to the index, the crawler uses connectors that tell the crawler how to connect to the content source and access the content items within the source.</span></span> <span data-ttu-id="e8748-148">После обнаружения элементов контента программой-обходчиком используется обработчик формата для синтаксического анализа содержимого.</span><span class="sxs-lookup"><span data-stu-id="e8748-148">After the crawler has found the content items, it uses an applicable format handler to parse the content.</span></span>

<span data-ttu-id="e8748-149">После получения содержимого, передает компонент обхода контента для обхода элементов компоненту обработки контента, который обрабатывает элементы и отправляет их в компонент индексирования.</span><span class="sxs-lookup"><span data-stu-id="e8748-149">After retrieving the content, the crawl component passes crawled items to the content processing component, which processes the items and sends them to the index component.</span></span> <span data-ttu-id="e8748-150">Этот компонент включает синтаксический анализ документа сопоставления свойств для обхода их связанных управляемых свойств и лингвистическая обработка, например извлечения обнаружения и сущности языка.</span><span class="sxs-lookup"><span data-stu-id="e8748-150">This includes document parsing, mapping crawled properties to their associated managed properties, and linguistics processing, such as language detection and entity extraction.</span></span> <span data-ttu-id="e8748-151">Компонент обработки контента записывает сведения о связях и URL-адреса для базы данных ссылок.</span><span class="sxs-lookup"><span data-stu-id="e8748-151">The content processing component also writes information about links and URLs to the link database.</span></span>

### <a name="query-processing"></a><span data-ttu-id="e8748-152">Обработка запросов</span><span class="sxs-lookup"><span data-stu-id="e8748-152">Query processing</span></span>

<span data-ttu-id="e8748-153">Анализирует компонент обработки запросов и процессов поисковых запросов для оптимизации точности, отзыв и релевантности, включая лингвистических функций обработки, таких как word нарушение и выделение корней для выполнения.</span><span class="sxs-lookup"><span data-stu-id="e8748-153">The query processing component analyzes and processes search queries to optimize precision, recall, and relevance, including performing linguistics processing such as word breaking and stemming.</span></span> <span data-ttu-id="e8748-154">Обработанные запроса нажмите Отправить компоненту индекса, который возвращает набор результатов на основе обработанные запроса в компонент обработки запросов, который в свою очередь, результирующий набор процессов.</span><span class="sxs-lookup"><span data-stu-id="e8748-154">The processed query is then submitted to the index component, which returns a result set based on the processed query to the query processing component, which in turn processes that result set.</span></span>

### <a name="search-analytics"></a><span data-ttu-id="e8748-155">Аналитика поиска</span><span class="sxs-lookup"><span data-stu-id="e8748-155">Search analytics</span></span>

<span data-ttu-id="e8748-156">SharePoint анализирует обоих содержимое самого (аналитика поиска), а также то, как пользователи взаимодействуют с ним (анализа использования) и использует эти сведения для улучшения поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-156">SharePoint analyzes both the content itself (search analytics) and also the way that users interact with it (usage analytics), and uses this information to improve search.</span></span>

<span data-ttu-id="e8748-157">Аналитика поиска — об извлечении сведения, такие как ссылки, сколько раз нажатии элемента текста привязки данных, связанных с людей и метаданные, из базы данных ссылок.</span><span class="sxs-lookup"><span data-stu-id="e8748-157">Search analytics is about extracting information, such as links, the number of times an item is clicked, anchor text, data related to people, and metadata, from the link database.</span></span> <span data-ttu-id="e8748-158">Аналитика поиска служит основанием для определения соответствия.</span><span class="sxs-lookup"><span data-stu-id="e8748-158">Search analytics forms the basis of determining relevance.</span></span> <span data-ttu-id="e8748-159">С другой стороны, о анализ сведений об использовании журнала, полученных от переднего плана с помощью хранилища событий — это анализа использования.</span><span class="sxs-lookup"><span data-stu-id="e8748-159">Usage analytics, on the other hand, is about analyzing usage log information received from the front-end via the event store.</span></span> <span data-ttu-id="e8748-160">Аналитика использования основанием для отчетов об использовании и статистики.</span><span class="sxs-lookup"><span data-stu-id="e8748-160">Usage analytics forms the basis of usage and statistics reports.</span></span>

<span data-ttu-id="e8748-161">Результаты анализа добавляются элементов в индексе поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-161">The results from the analyses are added to the items in the search index.</span></span> <span data-ttu-id="e8748-162">Кроме того результаты анализа использования, хранятся в базе данных аналитических отчетов.</span><span class="sxs-lookup"><span data-stu-id="e8748-162">In addition, results from usage analytics are stored in the analytics reporting database.</span></span>

## <a name="building-blocks-for-customizing-the-search-experience"></a><span data-ttu-id="e8748-163">Стандартные блоки для настройки интерфейса поиска</span><span class="sxs-lookup"><span data-stu-id="e8748-163">Building blocks for customizing the search experience</span></span>

<span data-ttu-id="e8748-164">Поиск в SharePoint 2013 и SharePoint Online включает в себя новые функции и усовершенствования, которые дают возможность настраивать интерфейс поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-164">Search in SharePoint 2013 and SharePoint Online includes new functionality and improvements that allow you to customize the search experience.</span></span> <span data-ttu-id="e8748-165">Многие усовершенствования, не требуют написания кода.</span><span class="sxs-lookup"><span data-stu-id="e8748-165">Many of the improvements do not require you to write code.</span></span> <span data-ttu-id="e8748-166">Поиск SharePoint включает в себя CSOM и API-интерфейсы REST, которые помогут при необходимости создавать код для настройки, или если вы хотите создать надстройки для доступа к SharePoint результатов поиска за пределами SharePoint.</span><span class="sxs-lookup"><span data-stu-id="e8748-166">SharePoint search includes CSOM and REST APIs to help when you do need to write code for your customization, or if you want to create add-ins to access SharePoint search results outside of SharePoint.</span></span>

### <a name="search-center-site"></a><span data-ttu-id="e8748-167">Сайт центра поиска</span><span class="sxs-lookup"><span data-stu-id="e8748-167">Search Center site</span></span>

<span data-ttu-id="e8748-168">Центр поиска — это узел SharePoint для поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-168">The Search Center is a SharePoint site set up for search.</span></span> <span data-ttu-id="e8748-169">Это портал, где можно найти контент в интрасети вашей организации, а также обеспечивает централизованное и настраиваемый пользовательский интерфейс.</span><span class="sxs-lookup"><span data-stu-id="e8748-169">It is a portal where you can search for content on your organization's intranet, and provides a centralized and highly customizable user interface.</span></span> <span data-ttu-id="e8748-170">В этой статье описываются страницы центра поиска и веб-частей, а также параметров конфигурации поиска, которые можно изменить для создания настраиваемого поиска каждый раз без написания большого объема кода или создать настраиваемые приложения поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-170">This article describes the Search Center's pages and web parts, along with the search configuration settings that you can modify to create custom search experiences without writing a lot of code, or create custom search applications.</span></span>

<span data-ttu-id="e8748-171">При создании сайта центра поиска SharePoint создает поиска по умолчанию домашней страницы и страницы результатов поиска по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="e8748-171">When you create a Search Center site, SharePoint creates a default search home page and a default search results page.</span></span> <span data-ttu-id="e8748-172">Кроме того также создаются несколько страниц, известных как вертикали поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-172">In addition, several pages known as search verticals are also created.</span></span> <span data-ttu-id="e8748-173">Страницы результатов поиска, которые настроены для поиска конкретных типов контента, например людей и видеоматериалы, являются вертикали поиска и их отображения результатов поиска, фильтрации и форматирования для конкретного типа контента или класса.</span><span class="sxs-lookup"><span data-stu-id="e8748-173">Search verticals are search results pages that are customized to search specific content types, such as People and Videos, and they display search results that are filtered and formatted for a specific content type or class.</span></span>

<span data-ttu-id="e8748-174">В семействе сайтов центра поиска в библиотеке страниц создаются следующие страницы:</span><span class="sxs-lookup"><span data-stu-id="e8748-174">The following pages are created in a Search Center site collection, in the Pages library:</span></span>

- <span data-ttu-id="e8748-175">**default.aspx** – Домашняя страница центра поиска и страницы, где конечные пользователи вводят свои запросы.</span><span class="sxs-lookup"><span data-stu-id="e8748-175">**default.aspx** - The home page for the Search Center, and the page where end users enter their queries.</span></span>
    
- <span data-ttu-id="e8748-176">**results.aspx** - поиска по умолчанию страницы результатов для центра поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-176">**results.aspx** - The default search results page for the Search Center.</span></span> <span data-ttu-id="e8748-177">Это также страницы результатов поиска для **всех компонентов** вертикали поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-177">It is also the search results page for the **Everything** search vertical.</span></span>
    
- <span data-ttu-id="e8748-178">**peopleresults.aspx** - поиск страницы результатов для вертикали поиска **людей** .</span><span class="sxs-lookup"><span data-stu-id="e8748-178">**peopleresults.aspx** - The search results page for the **People** search vertical.</span></span>
    
- <span data-ttu-id="e8748-179">**conversationresults.aspx** - поиск страницы результатов для вертикали поиска **беседы** .</span><span class="sxs-lookup"><span data-stu-id="e8748-179">**conversationresults.aspx** - The search results page for the **Conversations** search vertical.</span></span>
    
- <span data-ttu-id="e8748-180">**videoresults.aspx** - поиск страницы результатов для вертикали поиска **видео** .</span><span class="sxs-lookup"><span data-stu-id="e8748-180">**videoresults.aspx** - The search results page for the **Videos** search vertical.</span></span>
    
- <span data-ttu-id="e8748-181">**advanced.aspx** - страница поиска, где конечные пользователи могут применять ограничения к поисковым запросам, например, ограничивать поиск точной фразы.</span><span class="sxs-lookup"><span data-stu-id="e8748-181">**advanced.aspx** - The search page where end users can apply restrictions to their search phrases, for example, limiting the search to an exact phrase.</span></span>
    
<span data-ttu-id="e8748-182">Все страницы вертикали поиска содержат веб-части результатов поиска, несмотря на то, что веб-часть настроена по-разному для каждого вертикали поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-182">All the search vertical pages contain the Search Results web part, although the web part is configured differently for each search vertical.</span></span> <span data-ttu-id="e8748-183">Для каждого запроса в веб-части результатов поиска, направляются источника конкретных результатов, которые применяются к этой вертикали поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-183">For each, the query in the Search Results web part is directed to a specific result source, applicable to that search vertical.</span></span> <span data-ttu-id="e8748-184">Например запроса в веб-части результатов поиска на странице peopleresults.aspx ограничено источник результатов локальные результаты поиска людей.</span><span class="sxs-lookup"><span data-stu-id="e8748-184">For example, the query in the Search Results web part on the peopleresults.aspx page is limited to the Local People Results result source.</span></span> <span data-ttu-id="e8748-185">Общие сведения о том, как настроить вертикали поиска по умолчанию в SharePoint 2013, которые помогут создавать свои собственные поиска вертикальной или настроить центра поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-185">Understanding how the default search verticals in SharePoint 2013 are configured can help you create your own search vertical or customize the Search Center.</span></span>

<span data-ttu-id="e8748-186">Ниже приведены дополнительные ресурсы, которые помогут в работе с центра поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-186">The following are additional resources to help you work with the Search Center:</span></span>

- [<span data-ttu-id="e8748-187">Настройка центра поиска в SharePoint 2013</span><span class="sxs-lookup"><span data-stu-id="e8748-187">Set up a Search Center in SharePoint 2013</span></span>](http://technet.microsoft.com/en-us/library/dn794206%28v=office.15%29.aspx)
    
- [<span data-ttu-id="e8748-188">Как создать семейство сайтов центра поиска и включить обход своего контента в SharePoint 2013</span><span class="sxs-lookup"><span data-stu-id="e8748-188">How to create a Search Center Site Collection and enable crawling of your content in SharePoint 2013</span></span>](http://technet.microsoft.com/en-us/library/dn794245%28v=office.15%29.aspx)
    
- [<span data-ttu-id="e8748-189">Создание сайта центра поиска в SharePoint Server 2013</span><span class="sxs-lookup"><span data-stu-id="e8748-189">Create a Search Center site in SharePoint Server 2013</span></span>](http://technet.microsoft.com/en-us/library/hh582314%28v=office.15%29.aspx)
    
- [<span data-ttu-id="e8748-190">Управление центром поиска</span><span class="sxs-lookup"><span data-stu-id="e8748-190">Manage the Search Center</span></span>](http://technet.microsoft.com/en-us/library/jj851144%28v=office.15%29.aspx)
    
- [<span data-ttu-id="e8748-191">Управление центра поиска в SharePoint Online</span><span class="sxs-lookup"><span data-stu-id="e8748-191">Manage the Search Center in SharePoint Online</span></span>](http://office.microsoft.com/en-us/office365-sharepoint-online-enterprise-help/manage-the-search-center-in-sharepoint-online-HA103994122.aspx)

### <a name="search-center-web-parts"></a><span data-ttu-id="e8748-192">Центр поиска веб-частей</span><span class="sxs-lookup"><span data-stu-id="e8748-192">Search Center web parts</span></span>

<span data-ttu-id="e8748-193">Страницы центра поиска содержат четыре типа веб-части: «поиск», результаты поиска, навигации поиска и уточнения результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-193">Search Center pages contain four types of web parts: Search Box, Search Results, Search Navigation, and Refinement.</span></span> 

#### <a name="search-box-web-part"></a><span data-ttu-id="e8748-194">Веб-части поля поиска</span><span class="sxs-lookup"><span data-stu-id="e8748-194">Search Box web part</span></span>

<span data-ttu-id="e8748-195">Веб-части поля поиска отображает текстовое поле ввода текста, для которого нужно найти.</span><span class="sxs-lookup"><span data-stu-id="e8748-195">The Search Box web part shows a text box where users enter text on which to search.</span></span> <span data-ttu-id="e8748-196">По умолчанию — это веб-части поля поиска использовать с на домашней странице центра поиска (default.aspx), а также на всех результатов поиска по умолчанию страниц (results.aspx, peopleresults.aspx, conversationresults.aspx и videoresults.aspx).</span><span class="sxs-lookup"><span data-stu-id="e8748-196">By default, the Search Box web part is used on the Search Center home page (default.aspx), as well as on all default search results pages (results.aspx, peopleresults.aspx, conversationresults.aspx, and videoresults.aspx).</span></span>

<span data-ttu-id="e8748-197">Можно настроить веб-части поля поиска путем изменения свойств в области инструментов веб-части.</span><span class="sxs-lookup"><span data-stu-id="e8748-197">You can customize the Search Box web part by editing properties in the web part tool pane.</span></span> <span data-ttu-id="e8748-198">Это позволяет выполните следующее:</span><span class="sxs-lookup"><span data-stu-id="e8748-198">This allows you to do the following:</span></span>

- <span data-ttu-id="e8748-199">Изменение отображения результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-199">Change where the search results are displayed.</span></span> <span data-ttu-id="e8748-200">Например можно показать, частично или на результаты поиска страницы результатов в настраиваемых веб-сайта результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-200">For example, you can show results in a custom Search Results web part or on a custom search results page.</span></span>
    
- <span data-ttu-id="e8748-201">Отключение предложений запроса и людей предложений.</span><span class="sxs-lookup"><span data-stu-id="e8748-201">Turn off query suggestions and people suggestions.</span></span>
    
- <span data-ttu-id="e8748-202">Отображение ссылок на страницу параметров поиска и расширенного поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-202">Show links to a search preference page and an advanced search page.</span></span>
    
- <span data-ttu-id="e8748-203">Измените шаблон отображения для веб-части.</span><span class="sxs-lookup"><span data-stu-id="e8748-203">Change the display template for the web part.</span></span>
    
<span data-ttu-id="e8748-204">Дополнительные сведения можно [настроить свойства веб-части поля поиска в SharePoint Server 2013](http://technet.microsoft.com/en-us/library/gg576963%28v=office.15%29.aspx) и [как изменить текст, который отображается в веб-части поля поиска в SharePoint Server 2013](http://technet.microsoft.com/en-us/library/dn794238%28v=office.15%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="e8748-204">For more information, see [Configure properties of the Search Box Web Part in SharePoint Server 2013](http://technet.microsoft.com/en-us/library/gg576963%28v=office.15%29.aspx) and [How to change the text that is displayed in the Search Box Web Part in SharePoint Server 2013](http://technet.microsoft.com/en-us/library/dn794238%28v=office.15%29.aspx).</span></span>

#### <a name="search-results-web-part"></a><span data-ttu-id="e8748-205">Веб-части результатов поиска</span><span class="sxs-lookup"><span data-stu-id="e8748-205">Search Results web part</span></span>

<span data-ttu-id="e8748-206">Веб-части результатов поиска отображает результаты запроса поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-206">The Search Results web part displays the results of a search query.</span></span> <span data-ttu-id="e8748-207">По умолчанию веб-части результатов поиска используется во всех по умолчанию страниц вертикалей поиска (results.aspx, peopleresults.aspx, conversationresults.aspx и videoresults.aspx).</span><span class="sxs-lookup"><span data-stu-id="e8748-207">By default, the Search Results web part is used on all default search vertical pages (results.aspx, peopleresults.aspx, conversationresults.aspx, and videoresults.aspx).</span></span> <span data-ttu-id="e8748-208">Веб-части результатов поиска также отправляет результаты поиска в веб-части уточнения и веб-части навигации поиска, поэтому необходимо веб-части результатов поиска на поиск страницы результатов для других веб-частей поиска для работы.</span><span class="sxs-lookup"><span data-stu-id="e8748-208">The Search Results web part also sends the search results to the Refinement web part and the Search Navigation web part, so there must be a Search Results web part on a search results page for the other search web parts to work.</span></span>

<span data-ttu-id="e8748-209">Можно изменить свойства веб-части результатов поиска в области веб-части средства для изменения запросов поиска, а также как, чтобы изменить поведение и внешний вид результатов на странице результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-209">You can edit the Search Results web part properties in the web part tool pane to change the search query, as well as to alter the behavior and appearance of results on the search results page.</span></span> <span data-ttu-id="e8748-210">Изменение значений свойств, выполните следующее:</span><span class="sxs-lookup"><span data-stu-id="e8748-210">By changing property values, you can do the following:</span></span>

- <span data-ttu-id="e8748-211">Измените источник результатов, чтобы указать контент, который следует искать.</span><span class="sxs-lookup"><span data-stu-id="e8748-211">Change the result source to specify which content should be searched.</span></span>
    
- <span data-ttu-id="e8748-212">Добавьте переменные запроса или фильтры свойств для настройки результатов поиска для различных пользователей или групп пользователей.</span><span class="sxs-lookup"><span data-stu-id="e8748-212">Add query variables or property filters to customize search results for different users or user groups.</span></span>
    
- <span data-ttu-id="e8748-213">Повысить или понизить уровень элементов или страниц в результатах поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-213">Promote or demote items or pages within the search results.</span></span>
    
- <span data-ttu-id="e8748-214">Измените порядок сортировки результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-214">Change the sorting of the search results.</span></span>
    
- <span data-ttu-id="e8748-215">Измените шаблон отображения.</span><span class="sxs-lookup"><span data-stu-id="e8748-215">Change the display template.</span></span>
    
<span data-ttu-id="e8748-216">Дополнительные сведения о веб-части результатов поиска можно [Настройка свойств веб-части результатов поиска в SharePoint Server 2013](http://technet.microsoft.com/en-us/library/gg549987.aspx) и [Настройка веб-части результатов поиска для использования нового источника результатов в SharePoint 2013](http://technet.microsoft.com/en-us/library/dn794200%28v=office.15%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="e8748-216">For more information about the Search Results web parts, see [Configure properties of the Search Results Web Part in SharePoint Server 2013](http://technet.microsoft.com/en-us/library/gg549987.aspx) and [How to configure the Search Results Web Part to use a new result source in SharePoint 2013](http://technet.microsoft.com/en-us/library/dn794200%28v=office.15%29.aspx).</span></span>

#### <a name="search-navigation-web-part"></a><span data-ttu-id="e8748-217">Веб-части навигации поиска</span><span class="sxs-lookup"><span data-stu-id="e8748-217">Search Navigation web part</span></span>

<span data-ttu-id="e8748-218">Веб-части навигации поиска отображает ссылки, которые позволяют пользователям быстро перемещаться по вертикали различных поиска (все содержимое, людей, беседы и видео).</span><span class="sxs-lookup"><span data-stu-id="e8748-218">The Search Navigation web part shows links that let users move quickly between the different search verticals (Everything, People, Conversations, and Videos).</span></span> <span data-ttu-id="e8748-219">Веб-части навигации поиска использует результаты поиска из веб-части результатов поиска, чтобы при выборе ссылки вертикали поиска, результаты поиска фильтруются и отображаемые в зависимости от настроек вертикали поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-219">The Search Navigation web part uses search results from the Search Results web part so that when users choose a search vertical link, the search results are filtered and displayed according to how the search vertical is set up.</span></span> <span data-ttu-id="e8748-220">Изменяя свойства веб-части навигации поиска в области инструментов веб-части, можно настроить веб-часть следующим образом:</span><span class="sxs-lookup"><span data-stu-id="e8748-220">By editing the Search Navigation web part properties in the web part tool pane, you can customize the web part as follows:</span></span>

- <span data-ttu-id="e8748-221">Укажите другой веб-части, из которого необходимо получить результаты.</span><span class="sxs-lookup"><span data-stu-id="e8748-221">Specify a different web part from which to get the results.</span></span>
    
- <span data-ttu-id="e8748-222">Измените число ссылок на вертикали поиска для отображения.</span><span class="sxs-lookup"><span data-stu-id="e8748-222">Change the number of search vertical links to show.</span></span>
    
- <span data-ttu-id="e8748-223">Измените внешний вид и макет веб-части.</span><span class="sxs-lookup"><span data-stu-id="e8748-223">Change the appearance and layout of the web part.</span></span>
    
<span data-ttu-id="e8748-224">Кроме того, на ленте выберите **Параметры сайта** > **Параметры поиска** , чтобы внести следующие изменения:</span><span class="sxs-lookup"><span data-stu-id="e8748-224">Additionally, on the ribbon, you can select **Site Settings** > **Search Settings** to make the following changes:</span></span>

- <span data-ttu-id="e8748-225">Измените ссылку отображаемые имена.</span><span class="sxs-lookup"><span data-stu-id="e8748-225">Change the link display names.</span></span>
    
- <span data-ttu-id="e8748-226">Изменение порядка связей.</span><span class="sxs-lookup"><span data-stu-id="e8748-226">Change the link order.</span></span>

#### <a name="refinement-web-part"></a><span data-ttu-id="e8748-227">Веб-части уточнения</span><span class="sxs-lookup"><span data-stu-id="e8748-227">Refinement web part</span></span>

<span data-ttu-id="e8748-228">Веб-части уточнения фильтры результаты поиска по категориям, называется уточнения.</span><span class="sxs-lookup"><span data-stu-id="e8748-228">The Refinement web part filters search results into categories called refiners.</span></span> <span data-ttu-id="e8748-229">Пользователи могут выбирать эти уточнений, чтобы сузить результаты поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-229">Users can choose these refiners to narrow search results.</span></span> <span data-ttu-id="e8748-230">Уточнения, управляемые свойства, которые помечены как _уточнения_ и _возможность запроса_.</span><span class="sxs-lookup"><span data-stu-id="e8748-230">Refiners are managed properties that are marked as  _Refinable_ and _Queryable_.</span></span> <span data-ttu-id="e8748-231">Сведения об этих параметрах содержатся в разделе [Обзор параметров свойства в обзор схемы поиска в SharePoint Server 2013 управляемых](http://technet.microsoft.com/en-us/library/jj219669%28v=office.15%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="e8748-231">For information about these settings, see [Managed property setting overview in Overview of the search schema in SharePoint Server 2013](http://technet.microsoft.com/en-us/library/jj219669%28v=office.15%29.aspx).</span></span> <span data-ttu-id="e8748-232">Можно изменить свойства веб-части уточнения результатов поиска в области инструментов веб-части можно задать следующие:</span><span class="sxs-lookup"><span data-stu-id="e8748-232">You can edit the Refinement web part properties in the web part tool pane to specify the following:</span></span>

- <span data-ttu-id="e8748-233">Какие веб-части результатов поиска для фильтрации поиска результаты из.</span><span class="sxs-lookup"><span data-stu-id="e8748-233">Which Search Results web part to filter search results from.</span></span>
    
- <span data-ttu-id="e8748-234">Уточнения для использования в веб-части уточнения.</span><span class="sxs-lookup"><span data-stu-id="e8748-234">The refiners to use in the Refinement web part.</span></span>
    
- <span data-ttu-id="e8748-235">Шаблон отображения, применяемый к каждому уточнению.</span><span class="sxs-lookup"><span data-stu-id="e8748-235">The display template that is applied to each refiner.</span></span>
    
- <span data-ttu-id="e8748-236">Внешний вид, макет и поведение веб-части уточнения результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-236">The appearance, layout, and behavior of the Refinement web part.</span></span>
    
<span data-ttu-id="e8748-237">По умолчанию веб-части уточнения не отображать количество результатов для каждой значение уточнения.</span><span class="sxs-lookup"><span data-stu-id="e8748-237">By default, the Refinement web part doesn't show the number of results for each refiner value.</span></span> <span data-ttu-id="e8748-238">Можно добавить счетчиков, изменяя шаблон отображения для уточнения.</span><span class="sxs-lookup"><span data-stu-id="e8748-238">You can add refiner counts by modifying the display template for the refiner.</span></span> <span data-ttu-id="e8748-239">Дополнительные сведения об этой функции можно [счетчиков добавить уточнения в веб-части уточнения в Настройка свойств веб-части уточнения результатов поиска в SharePoint Server 2013](http://technet.microsoft.com/en-us/library/gg549985%28v=office.15%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="e8748-239">For more information about this feature, see [Add refiner counts to the Refinement Web Part in Configure properties of the Refinement Web Part in SharePoint Server 2013](http://technet.microsoft.com/en-us/library/gg549985%28v=office.15%29.aspx).</span></span>

<span data-ttu-id="e8748-240">Дополнительные сведения о веб-части уточнения и уточнений можно [Планирование использования уточнений на странице результатов поиска в SharePoint 2013](http://technet.microsoft.com/en-us/library/dn794223%28v=office.15%29.aspx) и [как добавить уточнения на страницу результатов поиска в SharePoint 2013](http://technet.microsoft.com/en-us/library/dn794243%28v=office.15%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="e8748-240">For more information about the Refinement web part and refiners, see [Plan to use refiners on a search results page in SharePoint 2013](http://technet.microsoft.com/en-us/library/dn794223%28v=office.15%29.aspx) and [How to add refiners to your search results page in SharePoint 2013](http://technet.microsoft.com/en-us/library/dn794243%28v=office.15%29.aspx).</span></span>

### <a name="result-sources"></a><span data-ttu-id="e8748-241">Источники результатов</span><span class="sxs-lookup"><span data-stu-id="e8748-241">Result sources</span></span>

<span data-ttu-id="e8748-242">Источники результатов ограничить поиск для определенного контента или подмножество результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-242">Result sources limit searches to certain content or to a subset of search results.</span></span> <span data-ttu-id="e8748-243">Можно определить источник результатов, задав следующие:</span><span class="sxs-lookup"><span data-stu-id="e8748-243">You can define a result source by specifying the following:</span></span>

- <span data-ttu-id="e8748-244">Результаты поиска поставщика или исходный URL-адрес для получения поиска из; Например индекс поиска локальной службы поиска SharePoint.</span><span class="sxs-lookup"><span data-stu-id="e8748-244">A search provider or source URL to get search results from; for example, the search index of the local SharePoint Search service.</span></span>
    
- <span data-ttu-id="e8748-245">Протокол, используемый для получения результатов поиска; Например, протокол [OpenSearch](http://www.opensearch.org/Home) .</span><span class="sxs-lookup"><span data-stu-id="e8748-245">A protocol to use to get search results; for example, the [OpenSearch](http://www.opensearch.org/Home) protocol.</span></span>
    
- <span data-ttu-id="e8748-246">Преобразование запроса, которое может сузить результаты от заданного поставщика поиска или URL-адреса конкретный набор результатов; Например в набор результатов с определенным типом контента.</span><span class="sxs-lookup"><span data-stu-id="e8748-246">A query transform, which can narrow results from the given search provider or URL to a specific subset of results; for example, to a set of results that has a particular content type.</span></span>
    
<span data-ttu-id="e8748-247">SharePoint 2013 предоставляет 16 источников предварительно настроенного результата, включая локальные результаты SharePoint, беседы и элементы связанные с текущим пользователем.</span><span class="sxs-lookup"><span data-stu-id="e8748-247">SharePoint 2013 provides sixteen preconfigured result sources, including Local SharePoint Results, Conversations, and Items related to current user.</span></span> <span data-ttu-id="e8748-248">Можно просмотреть сведения об источниках результатов на странице **Управления источниками результатов** .</span><span class="sxs-lookup"><span data-stu-id="e8748-248">You can view details about result sources from the **Manage Result Sources** page.</span></span> <span data-ttu-id="e8748-249">(**Параметры узла** > **поиска** > **Источники результатов**).</span><span class="sxs-lookup"><span data-stu-id="e8748-249">(**Site Settings** > **Search** > **Result Sources**).</span></span> <span data-ttu-id="e8748-250">Затем на странице **Управления источниками результатов** можно создать новые источники результатов одним из следующих двух способов:</span><span class="sxs-lookup"><span data-stu-id="e8748-250">Then, from the **Manage Result Sources** page, you can create new result sources in either of the following two ways:</span></span>

- <span data-ttu-id="e8748-251">Выберите **Новый источник результатов** и выберите необходимый источник результатов.</span><span class="sxs-lookup"><span data-stu-id="e8748-251">Choose **New Result Source** and select the result source that you want.</span></span> <span data-ttu-id="e8748-252">(Дополнительные сведения см. [Настройка источников результатов для поиска в SharePoint Server 2013](http://technet.microsoft.com/en-us/library/jj683115%28v=office.15%29.aspx)).</span><span class="sxs-lookup"><span data-stu-id="e8748-252">(For more information, see [Configure result sources for search in SharePoint Server 2013](http://technet.microsoft.com/en-us/library/jj683115%28v=office.15%29.aspx).)</span></span>
    
- <span data-ttu-id="e8748-253">Нажмите стрелку рядом с существующим источником результатов, выберите команду **Копировать**, изменить копию и сохраните его под новым именем.</span><span class="sxs-lookup"><span data-stu-id="e8748-253">Point to the arrow next to an existing result source, choose **Copy**, and then modify the copy as necessary and save it with a new name.</span></span>
    
<span data-ttu-id="e8748-254">Источник результатов определяет один из четырех протоколов для получения результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-254">A result source specifies one of four protocols to obtain search results.</span></span> <span data-ttu-id="e8748-255">Если источник результатов использует протокол, отличный от **Локального SharePoint**, источник результатов необходимо также указать URL-адрес для получения результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-255">If the result source uses a protocol other than **Local SharePoint**, the result source must also specify a URL from which to get search results.</span></span>

<span data-ttu-id="e8748-256">**Протоколы источника результатов и их поставщиков**</span><span class="sxs-lookup"><span data-stu-id="e8748-256">**Result source protocols and their providers**</span></span>

|<span data-ttu-id="e8748-257">**Протокол источник результатов**</span><span class="sxs-lookup"><span data-stu-id="e8748-257">**Result source protocol**</span></span>|<span data-ttu-id="e8748-258">**Поставщик**</span><span class="sxs-lookup"><span data-stu-id="e8748-258">**Provider**</span></span>|<span data-ttu-id="e8748-259">**URL-адрес**</span><span class="sxs-lookup"><span data-stu-id="e8748-259">**URL**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="e8748-260">Локальные результаты SharePoint</span><span class="sxs-lookup"><span data-stu-id="e8748-260">Local SharePoint</span></span>|<span data-ttu-id="e8748-261">Индекс поиска локальной службы поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-261">The search index of the local Search service.</span></span>|<span data-ttu-id="e8748-262">Н/д</span><span class="sxs-lookup"><span data-stu-id="e8748-262">N/A</span></span>|
|<span data-ttu-id="e8748-263">Удаленный доступ к SharePoint</span><span class="sxs-lookup"><span data-stu-id="e8748-263">Remote SharePoint</span></span>|<span data-ttu-id="e8748-264">Индекс службы поиска, размещенной в другой ферме.</span><span class="sxs-lookup"><span data-stu-id="e8748-264">The search index of a Search service hosted in another farm.</span></span>|<span data-ttu-id="e8748-265">Адрес корневого семейства сайтов удаленной фермы SharePoint.</span><span class="sxs-lookup"><span data-stu-id="e8748-265">The address of the root site collection of the remote SharePoint farm.</span></span> |
|<span data-ttu-id="e8748-266">OpenSearch 1.0/1.1</span><span class="sxs-lookup"><span data-stu-id="e8748-266">OpenSearch 1.0/1.1</span></span>|<span data-ttu-id="e8748-267">Внешний поставщик поиска (например, удаленная поисковая система или канал), который использует протокол OpenSearch для получения результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-267">An external search provider (such as a remote search engine or feed) that uses the OpenSearch protocol to provide search results.</span></span>|<span data-ttu-id="e8748-268">URL-адрес RSS-канала поставщика поиска, использующего протокол OpenSearch.</span><span class="sxs-lookup"><span data-stu-id="e8748-268">The URL of the RSS feed of a search provider that uses the OpenSearch protocol.</span></span>|
|<span data-ttu-id="e8748-269">Exchange</span><span class="sxs-lookup"><span data-stu-id="e8748-269">Exchange</span></span>|<span data-ttu-id="e8748-270">Веб-служб Exchange (EWS).</span><span class="sxs-lookup"><span data-stu-id="e8748-270">Exchange Web Services (EWS).</span></span>|<span data-ttu-id="e8748-271">URL-адрес веб-служб Exchange.</span><span class="sxs-lookup"><span data-stu-id="e8748-271">An EWS URL.</span></span>|

<span data-ttu-id="e8748-272">Дополнительные сведения см. в следующих статьях.</span><span class="sxs-lookup"><span data-stu-id="e8748-272">For more information, see the following:</span></span>

- [<span data-ttu-id="e8748-273">Общие сведения об источниках результатов поиска в SharePoint Server 2013</span><span class="sxs-lookup"><span data-stu-id="e8748-273">Understanding result sources for search in SharePoint Server 2013</span></span>](http://technet.microsoft.com/en-us/library/dn186229%28v=office.15%29.aspx)
    
- [<span data-ttu-id="e8748-274">Сведения об источниках результатов и федерации</span><span class="sxs-lookup"><span data-stu-id="e8748-274">About result sources and federation</span></span>](http://technet.microsoft.com/en-us/library/jj219577%28v=office.15%29.aspx#Section12)
    
- [<span data-ttu-id="e8748-275">Общие сведения об источниках результатов</span><span class="sxs-lookup"><span data-stu-id="e8748-275">Understanding result sources</span></span>](http://office.microsoft.com/en-us/sharepoint-server-help/understanding-result-sources-HA102848849.aspx?CTT=1)
    
- [<span data-ttu-id="e8748-276">Управление источниками результатов</span><span class="sxs-lookup"><span data-stu-id="e8748-276">Manage result sources</span></span>](http://office.microsoft.com/en-us/office365-sharepoint-online-enterprise-help/manage-result-sources-HA103639370.aspx)

### <a name="query-rules"></a><span data-ttu-id="e8748-277">Правила запросов</span><span class="sxs-lookup"><span data-stu-id="e8748-277">Query rules</span></span>

<span data-ttu-id="e8748-278">Использование правил запросов для настройки интерфейса поиска для запросов, которые особенно важны для пользователей.</span><span class="sxs-lookup"><span data-stu-id="e8748-278">Use query rules to customize the search experience for queries that are particularly important to your users.</span></span> <span data-ttu-id="e8748-279">В правило запроса укажите контекста, условия и соответствующих действий.</span><span class="sxs-lookup"><span data-stu-id="e8748-279">In a query rule, you specify the context, conditions, and correlated actions.</span></span> <span data-ttu-id="e8748-280">Затем в указанном контексте, и если запрос удовлетворяет указанным условиям, поиска выполняет его соответствующих действий для повышения релевантности результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-280">Then, in the specified context, and when a query meets the specified conditions, search performs its correlated actions to improve the relevance of the search results.</span></span>

<span data-ttu-id="e8748-281">С учетом контекста можно ограничить запросы правила запросов, которые являются:</span><span class="sxs-lookup"><span data-stu-id="e8748-281">With respect to context, you can restrict query rule queries that are:</span></span> 

- <span data-ttu-id="e8748-282">Выполнить на источник результатов указанного.</span><span class="sxs-lookup"><span data-stu-id="e8748-282">Performed on a specified result source.</span></span>
    
- <span data-ttu-id="e8748-283">Из указанного раздела категории.</span><span class="sxs-lookup"><span data-stu-id="e8748-283">From a specified topic category.</span></span>
    
- <span data-ttu-id="e8748-284">Выполнено пользователем, соответствующие указанному пользователю сегмента.</span><span class="sxs-lookup"><span data-stu-id="e8748-284">Performed by a user matching a specified user segment.</span></span>
    
<span data-ttu-id="e8748-285">В следующей таблице перечислены условия, которые можно указать, вызвать выполнение правила запросов.</span><span class="sxs-lookup"><span data-stu-id="e8748-285">The following table lists conditions that you can specify that cause a query rule to run.</span></span>

<span data-ttu-id="e8748-286">**Условия правила запроса**</span><span class="sxs-lookup"><span data-stu-id="e8748-286">**Query rule conditions**</span></span>

|<span data-ttu-id="e8748-287">**Условие**</span><span class="sxs-lookup"><span data-stu-id="e8748-287">**Condition**</span></span>|<span data-ttu-id="e8748-288">**Описание**</span><span class="sxs-lookup"><span data-stu-id="e8748-288">**Description**</span></span>|
|:-----|:-----|
|<span data-ttu-id="e8748-289">Запрос точно соответствует ключевому слову</span><span class="sxs-lookup"><span data-stu-id="e8748-289">Query matches keyword exactly</span></span>|<span data-ttu-id="e8748-290">Правило запроса применяется, когда запрос в точности соответствует слову или фразе, указан.</span><span class="sxs-lookup"><span data-stu-id="e8748-290">Apply the query rule when the query exactly matches a word or phrase that you specify.</span></span>|
|<span data-ttu-id="e8748-291">Запрос содержит термин действия</span><span class="sxs-lookup"><span data-stu-id="e8748-291">Query contains action term</span></span>|<span data-ttu-id="e8748-292">Правило запроса применяется, если запрос содержит термин в виде одно слово или фразу, которая указывает, что пользователь пытается выполнить другое.</span><span class="sxs-lookup"><span data-stu-id="e8748-292">Apply the query rule when the query contains a term in the form of a single word or phrase that indicates that the user is trying to do something.</span></span> <span data-ttu-id="e8748-293">Термин должен быть в начале или конце запроса и может быть команды, команду или фильтр.</span><span class="sxs-lookup"><span data-stu-id="e8748-293">The term must be at the beginning or end of the query and might be a verb, a command, or a filter.</span></span>|
|<span data-ttu-id="e8748-294">Запрос точно соответствует словарю</span><span class="sxs-lookup"><span data-stu-id="e8748-294">Query matches dictionary exactly</span></span>|<span data-ttu-id="e8748-295">Правило запроса применяется, когда запрос точно соответствует записи словаря.</span><span class="sxs-lookup"><span data-stu-id="e8748-295">Apply the query rule when the query exactly matches a dictionary entry.</span></span> <span data-ttu-id="e8748-296">Эта запись может быть терминов в банке терминов или запись в словаре имен людей.</span><span class="sxs-lookup"><span data-stu-id="e8748-296">This entry can be a term in the term store, or an entry in the people names dictionary.</span></span> |
|<span data-ttu-id="e8748-297">Запрос, обычно в источнике</span><span class="sxs-lookup"><span data-stu-id="e8748-297">Query more common in source</span></span>|<span data-ttu-id="e8748-298">Правило запроса применяется, если запрос пользователя наиболее часто выполняется в источнике различных результатов от текущей.</span><span class="sxs-lookup"><span data-stu-id="e8748-298">Apply the query rule if the user's query is more commonly performed against a different result source than the current one.</span></span> <span data-ttu-id="e8748-299">Это условие использует анализ запросов, пользователей, указанным в различных источниках результатов.</span><span class="sxs-lookup"><span data-stu-id="e8748-299">This condition uses an analysis of queries that users entered in the various result sources.</span></span>|
|<span data-ttu-id="e8748-300">Тип результата часто используется для переходов</span><span class="sxs-lookup"><span data-stu-id="e8748-300">Result type commonly clicked</span></span>|<span data-ttu-id="e8748-301">Правило запроса применяется, если запрос часто заканчивается на пользователей, выбрав результаты определенный тип результата.</span><span class="sxs-lookup"><span data-stu-id="e8748-301">Apply the query rule if the query often ends in users choosing results of a particular result type.</span></span> <span data-ttu-id="e8748-302">При создании нового типа результата, можно указать, что эти параметры, следует записать для использования в правила запросов.</span><span class="sxs-lookup"><span data-stu-id="e8748-302">When you create a new result type, you can indicate that these selections should be recorded to be used in query rules.</span></span>|
|<span data-ttu-id="e8748-303">Расширенное соответствие тексту запроса</span><span class="sxs-lookup"><span data-stu-id="e8748-303">Advanced query text match</span></span>|<span data-ttu-id="e8748-304">Правило запроса применяется, если запрос соответствует регулярному выражению.</span><span class="sxs-lookup"><span data-stu-id="e8748-304">Apply the query rule if the query matches a regular expression.</span></span> <span data-ttu-id="e8748-305">Он также позволяет использовать варианты ключевое слово, термин действия и условия словаря описано ранее, но с несколько дополнительных элементов управления.</span><span class="sxs-lookup"><span data-stu-id="e8748-305">It also allows you to use variations of the keyword, action term, and dictionary conditions explained earlier, but with more advanced control.</span></span>|

<span data-ttu-id="e8748-306">Правило запроса можно задать три вида действий:</span><span class="sxs-lookup"><span data-stu-id="e8748-306">A query rule can specify three kinds of actions:</span></span>

- <span data-ttu-id="e8748-307">Добавление **Результатов повышенного уровня** (ранее — **Наиболее подходящих элементов**), который появляется над ранжирования результатов.</span><span class="sxs-lookup"><span data-stu-id="e8748-307">Add **Promoted Results** (formerly called **Best Bets**) that appear above ranked results.</span></span> <span data-ttu-id="e8748-308">Например для запроса «Больничный» правило запроса указать определенного результатов повышенного уровня, например ссылка на узел, который содержит сведения о политике компании о времени не на работе.</span><span class="sxs-lookup"><span data-stu-id="e8748-308">For example, for the query "sick leave", a query rule could specify a particular Promoted Result, such as a link to a site that has a statement of company policy regarding time off work.</span></span>
    
- <span data-ttu-id="e8748-309">Добавьте одну или несколько групп результатов, называется блоки результатов.</span><span class="sxs-lookup"><span data-stu-id="e8748-309">Add one or more groups of results, called result blocks.</span></span> <span data-ttu-id="e8748-310">Блок результатов содержит небольшой набор результатов, которые связаны с запроса определенным образом.</span><span class="sxs-lookup"><span data-stu-id="e8748-310">A result block contains a small subset of results that are related to a query in a particular way.</span></span> <span data-ttu-id="e8748-311">Как отдельные результаты можно повысить блока результатов или ранжирования с другими результатами поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-311">Like individual results, you can promote a result block or rank it with other search results.</span></span> 
    
- <span data-ttu-id="e8748-312">Изменение ранжирования результатов с помощью изменения запроса.</span><span class="sxs-lookup"><span data-stu-id="e8748-312">Change the ranking of results by changing the query.</span></span> <span data-ttu-id="e8748-313">Например для запроса, который содержит «загрузить панель элементов», правило запроса может распознавать со словом «загрузить» как термин действия и повышения с учетом результатов текущего момента сайт конкретной загрузки в интрасети.</span><span class="sxs-lookup"><span data-stu-id="e8748-313">For example, for a query that contains "download toolbox", a query rule could recognize the word "download" as an action term and boost search results that point to a particular download site on your intranet.</span></span>
    
<span data-ttu-id="e8748-314">Дополнительные сведения о правилах запроса можно [Управление правилами запросов в SharePoint Server 2013](http://technet.microsoft.com/en-us/library/jj871676.aspx).</span><span class="sxs-lookup"><span data-stu-id="e8748-314">For more information about query rules, see [Manage query rules in SharePoint Server 2013](http://technet.microsoft.com/en-us/library/jj871676.aspx).</span></span>

### <a name="query-transforms"></a><span data-ttu-id="e8748-315">Преобразований запросов</span><span class="sxs-lookup"><span data-stu-id="e8748-315">Query transforms</span></span>

<span data-ttu-id="e8748-316">В некоторых случаях для получения результатов поиска, подходящие для пользовательского запроса, запрос необходимо изменить.</span><span class="sxs-lookup"><span data-stu-id="e8748-316">To provide search results that are appropriate for a user query, sometimes the query needs to be modified.</span></span> <span data-ttu-id="e8748-317">Для этого с помощью преобразований запросов.</span><span class="sxs-lookup"><span data-stu-id="e8748-317">You do this with query transforms.</span></span> <span data-ttu-id="e8748-318">Вертикали поиска по умолчанию, включенные в SharePoint 2013, такие как видео, людей и беседы, содержащих преобразований предварительно определенных запросов для Оптимизация работы поиска для этого по вертикали.</span><span class="sxs-lookup"><span data-stu-id="e8748-318">Default search verticals included with SharePoint 2013, such as Videos, People, and Conversations, all contain predefined query transforms to optimize the search experience for that vertical.</span></span>

<span data-ttu-id="e8748-319">Настраивать преобразования запросов можно в трех местах:</span><span class="sxs-lookup"><span data-stu-id="e8748-319">You can configure query transforms in three places:</span></span>

- <span data-ttu-id="e8748-320">В веб-части, такие как веб-части результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-320">In a web part, such as a Search Results web part.</span></span> 
    
- <span data-ttu-id="e8748-321">В правила запроса, который указывает, что определенные действия будет выполняться только в том случае, если определенных условий.</span><span class="sxs-lookup"><span data-stu-id="e8748-321">In a query rule, which specifies that certain actions will be performed only if certain conditions are satisfied.</span></span> 
    
- <span data-ttu-id="e8748-322">В разделе источник результатов, в запросе используется для получения результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-322">In the result source that the query uses to get search results.</span></span>
    
<span data-ttu-id="e8748-323">Запрос пользователя применяется сначала на веб-части, а затем правилами запросов, которые применяются, и, наконец, источник результатов.</span><span class="sxs-lookup"><span data-stu-id="e8748-323">A user query is transformed first by the web part, then by any query rules that apply, and finally by the result source.</span></span> <span data-ttu-id="e8748-324">При настройке преобразования источник результатов, вы знаете, что изменения преобразования не будет удален или переопределения, так как источник результатов последнего преобразований запроса.</span><span class="sxs-lookup"><span data-stu-id="e8748-324">When you configure a transform in a result source, you know that the transform changes will not be discarded or overridden, because the result source transforms the query last.</span></span> <span data-ttu-id="e8748-325">Можно повторно использовать преобразования запроса источника результатов в веб-части или блоки результатов, а можно создать правила запросов или типов, которые применяются только к результатам из определенных источников результатов результатов.</span><span class="sxs-lookup"><span data-stu-id="e8748-325">You can reuse a result source query transform in web parts or result blocks, and you can create query rules or result types that are only applied to results from certain result sources.</span></span>

<span data-ttu-id="e8748-326">Можно использовать построитель запросов для создания и тестирования преобразований запросов.</span><span class="sxs-lookup"><span data-stu-id="e8748-326">You can use the Query Builder to help you write and test query transforms.</span></span> <span data-ttu-id="e8748-327">Можно проверить запрос в построитель запросов, параметр временные тестовые значения для переменных запроса выполнения запроса и предварительный просмотр результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-327">You can test the query from within the Query Builder by setting temporary test values for the query variables, running the query, and previewing the search results.</span></span> <span data-ttu-id="e8748-328">Дополнительные сведения о преобразованиях запросов в разделе [Планирование преобразования запросов и упорядочивания результатов в SharePoint 2013](http://technet.microsoft.com/en-us/library/60a1110d-27dc-45d0-86e2-cddc72d072b2%28v=office.15%29).</span><span class="sxs-lookup"><span data-stu-id="e8748-328">For more information about query transforms, see [Plan to transform queries and order results in SharePoint 2013](http://technet.microsoft.com/en-us/library/60a1110d-27dc-45d0-86e2-cddc72d072b2%28v=office.15%29).</span></span>

### <a name="result-types-and-display-templates"></a><span data-ttu-id="e8748-329">Типы результатов и шаблонов отображения</span><span class="sxs-lookup"><span data-stu-id="e8748-329">Result types and display templates</span></span>

<span data-ttu-id="e8748-330">Поиска SharePoint 2013 включает в себя новые рамки результатов, который позволяет легко настраивать способ отображения результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-330">SharePoint 2013 search includes a new results framework that makes it easy to customize the way search results are displayed.</span></span> <span data-ttu-id="e8748-331">Теперь вместо написания настраиваемое преобразование XSLT, чтобы изменить способ отображения результатов поиска, можно настроить внешний вид важные типы результатов с помощью типов результатов и шаблонов отображения.</span><span class="sxs-lookup"><span data-stu-id="e8748-331">Now, instead of writing custom XSLT to change how search results are displayed, you can customize the appearance of important types of results by using display templates and result types.</span></span>

#### <a name="result-types"></a><span data-ttu-id="e8748-332">Типы результатов</span><span class="sxs-lookup"><span data-stu-id="e8748-332">Result types</span></span>

<span data-ttu-id="e8748-333">Для отображения результатов поиска по-разному, нужно сортироваться в разных результатов типы результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-333">To display search results differently, search results have to be sorted into different result types.</span></span> <span data-ttu-id="e8748-334">Тип результата — классификация результат поиска, который отличает один результатов поиска из другого.</span><span class="sxs-lookup"><span data-stu-id="e8748-334">A result type is a classification of a search result that distinguishes one search result from another.</span></span> <span data-ttu-id="e8748-335">Оно включает в себя коллекции из следующих:</span><span class="sxs-lookup"><span data-stu-id="e8748-335">It is comprised of a collection of the following:</span></span>

- <span data-ttu-id="e8748-336">**Правила** - одно или несколько характеристики или условия для сравнения каждого результата поиска по, например источник результата или тип контента из результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-336">**Rules** - One or more characteristics or conditions to compare each search result against, such as the result source or content type of the search result.</span></span> <span data-ttu-id="e8748-337">Условия правила может быть присоединен с помощью равенства, сравнения и логические операторы.</span><span class="sxs-lookup"><span data-stu-id="e8748-337">Rule conditions can be joined by using equality, comparison, and logical operators.</span></span>
    
- <span data-ttu-id="e8748-338">**Свойства** — список управляемых свойств для результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-338">**Properties** - The list of managed properties for the search result.</span></span> <span data-ttu-id="e8748-339">Управляемые свойства необходимо добавить в список свойств перед Сопоставление управляемого свойства для шаблона для отображения.</span><span class="sxs-lookup"><span data-stu-id="e8748-339">You must add managed properties to the properties list before you map the managed property to a display template.</span></span>
    
- <span data-ttu-id="e8748-340">**Шаблоны для отображения** - позволяет определить способ отображаются все результаты, которые соответствуют условиям и ведут себя на странице результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-340">**Display templates** - Controls the way in which all results that meet the conditions appear and behave on a search results page.</span></span>
    
<span data-ttu-id="e8748-341">Поиск SharePoint содержит несколько типов результатов по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="e8748-341">SharePoint search includes several default result types.</span></span> <span data-ttu-id="e8748-342">Для их просмотра перейти к **Параметрам сайта** > **Администрирование семейства веб-сайтов** > **Типы результатов поиска**.</span><span class="sxs-lookup"><span data-stu-id="e8748-342">To see them, go to **Site Settings** > **Site Collection Administration** > **Search Result Types**.</span></span> <span data-ttu-id="e8748-343">Типы результатов по умолчанию изменять нельзя.</span><span class="sxs-lookup"><span data-stu-id="e8748-343">You cannot edit any of the default result types.</span></span> <span data-ttu-id="e8748-344">Путем копирования существующей из них и изменения их можно создавать новые типы результатов.</span><span class="sxs-lookup"><span data-stu-id="e8748-344">You can create new result types by copying existing ones, and modifying them.</span></span> <span data-ttu-id="e8748-345">Дополнительные сведения о типах результатов по умолчанию, включенные в SharePoint 2013 можно [типы результатов и шаблоны для отображения, которые используются для отображения результатов поиска в SharePoint Server 2013](http://technet.microsoft.com/en-us/library/dn386874%28v=office.15%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="e8748-345">For more information about the default result types included with SharePoint 2013, see [Result types and display templates that are used to display search results in SharePoint Server 2013](http://technet.microsoft.com/en-us/library/dn386874%28v=office.15%29.aspx).</span></span>

#### <a name="display-templates"></a><span data-ttu-id="e8748-346">Шаблоны отображения</span><span class="sxs-lookup"><span data-stu-id="e8748-346">Display templates</span></span>

<span data-ttu-id="e8748-347">Шаблоны для отображения определите макет и поведением окна результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-347">Display templates define the visual layout and behavior of search results.</span></span> <span data-ttu-id="e8748-348">Они контролировать, какие управляемые свойства отображаются в результатах поиска и как они отображаются.</span><span class="sxs-lookup"><span data-stu-id="e8748-348">They control which managed properties are shown in search results and how they appear.</span></span> <span data-ttu-id="e8748-349">SharePoint сохраняет шаблоны для отображения во вложенной папке поиска папки шаблонов отображения в коллекции главных страниц.</span><span class="sxs-lookup"><span data-stu-id="e8748-349">SharePoint stores display templates in the Search subfolder of the Display Templates folder in the Master Page Gallery.</span></span> <span data-ttu-id="e8748-350">Каждый шаблон отображения состоит из двух файлов:</span><span class="sxs-lookup"><span data-stu-id="e8748-350">Each display template consists of two files:</span></span> 

- <span data-ttu-id="e8748-351">HTML-версии шаблона отображения, который можно изменить в редакторе HTML.</span><span class="sxs-lookup"><span data-stu-id="e8748-351">An HTML version of the display template that you can edit in your HTML editor.</span></span>
    
- <span data-ttu-id="e8748-352">JS-файла, используемом SharePoint.</span><span class="sxs-lookup"><span data-stu-id="e8748-352">A .js file that SharePoint uses.</span></span> 
    
<span data-ttu-id="e8748-353">При работе с шаблонами отображения изменения HTML-файл.</span><span class="sxs-lookup"><span data-stu-id="e8748-353">When you work with display templates, you modify the HTML file.</span></span> <span data-ttu-id="e8748-354">JS-файла, который изменил SharePoint.</span><span class="sxs-lookup"><span data-stu-id="e8748-354">The .js file is created and modified by SharePoint.</span></span> <span data-ttu-id="e8748-355">Не изменяйте этот файл на всех.</span><span class="sxs-lookup"><span data-stu-id="e8748-355">You do not edit this file at all.</span></span>

<span data-ttu-id="e8748-356">Существует два основных типа шаблонов отображения:</span><span class="sxs-lookup"><span data-stu-id="e8748-356">There are two primary types of display templates:</span></span>

- <span data-ttu-id="e8748-357">**Шаблоны отображения элемента управления** - определение Общая структура как представлены результаты.</span><span class="sxs-lookup"><span data-stu-id="e8748-357">**Control display templates** - Determine the overall structure of how the results are presented.</span></span>
    
- <span data-ttu-id="e8748-358">**Шаблоны отображения элемента** — определите способ отображения каждого результата в наборе.</span><span class="sxs-lookup"><span data-stu-id="e8748-358">**Item display templates** - Determine how each result in the set is displayed.</span></span>
    
<span data-ttu-id="e8748-359">Шаблон отображения элемента управления содержит HTML-код будет осуществляться общий макет для способ отображения для отображения результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-359">The control display template provides HTML to structure the overall layout for how you want to present the search results.</span></span> <span data-ttu-id="e8748-360">Например шаблон отображения элемента управления предоставить HTML-код для заголовка и начало и конец списка.</span><span class="sxs-lookup"><span data-stu-id="e8748-360">For example, the control display template might provide the HTML for a heading and the beginning and end of a list.</span></span> <span data-ttu-id="e8748-361">Шаблон отображения элемента управления отображается только один раз в веб-части.</span><span class="sxs-lookup"><span data-stu-id="e8748-361">The control display template is rendered only once in the web part.</span></span>

<span data-ttu-id="e8748-p149">Шаблон отображения элемента содержит HTML-код, который определяет способ отображения каждого элемента в результирующем наборе. Например, шаблон отображения элемента может предоставить HTML-код для элемента списка, содержащего рисунок и три строки текста, которые сопоставляются с различными управляемыми свойствами, связанными с элементом. Шаблон отображения элемента отображается один раз для каждого элемента в результирующем наборе. Если результирующий набор содержит 10 элементов, шаблон отображения элемента создает его HTML-раздел десять раз.</span><span class="sxs-lookup"><span data-stu-id="e8748-p149">The item display template provides HTML that determines how each item in the result set is displayed. For example, the item display template might provide the HTML for a list item that contains a picture, and three lines of text that are mapped to different managed properties associated with the item. The item display template is rendered one time for each item in the result set. So, if the result set contains ten items, the item display template creates its section of HTML ten times.</span></span>

<span data-ttu-id="e8748-366">Шаблоны для отображения сведений и их структуры в разделе [Шаблоны отображения 2013 дизайнер SharePoint](http://msdn.microsoft.com/en-us/library/jj945138.aspx) и [веб-части на основе механизмов поиска и шаблоны для отображения](http://msdn.microsoft.com/en-us/library/jj191506.aspx) в [Обзор модели страниц SharePoint 2013](http://msdn.microsoft.com/en-us/library/jj191506.aspx).</span><span class="sxs-lookup"><span data-stu-id="e8748-366">For details display templates and their structure, see [SharePoint 2013 Design Manager display templates](http://msdn.microsoft.com/en-us/library/jj945138.aspx) and [Search-driven Web Parts and display templates](http://msdn.microsoft.com/en-us/library/jj191506.aspx) in [Overview of the SharePoint 2013 page model](http://msdn.microsoft.com/en-us/library/jj191506.aspx).</span></span>

<span data-ttu-id="e8748-367">Дополнительные сведения о доступных в SharePoint 2013 шаблоны для отображения [в SharePoint Server 2013 ссылка на шаблон для отображения](http://technet.microsoft.com/en-us/library/jj944947.aspx)см.</span><span class="sxs-lookup"><span data-stu-id="e8748-367">For more information about display templates available in SharePoint 2013, see [Display template reference in SharePoint Server 2013](http://technet.microsoft.com/en-us/library/jj944947.aspx).</span></span>

#### <a name="customize-display-templates"></a><span data-ttu-id="e8748-368">Настройка шаблонов отображения</span><span class="sxs-lookup"><span data-stu-id="e8748-368">Customize display templates</span></span>

<span data-ttu-id="e8748-369">Если вы хотите настроить шаблоны отображения, включенные в SharePoint, создайте новый шаблон отображения, скопировав контент с тому, который требуется изменить и затем настроить новую версию.</span><span class="sxs-lookup"><span data-stu-id="e8748-369">If you want to customize display templates included with SharePoint, create a new display template by copying the content from the one you want to modify, and then customize the new version.</span></span> <span data-ttu-id="e8748-370">Начиная с копию существующего шаблона отображения — также это самый простой способ создать новую, как это гарантирует, что вы начинаете с все необходимые элементы.</span><span class="sxs-lookup"><span data-stu-id="e8748-370">Starting from a copy of an existing display template is also the easiest way to create a new one, as it ensures that you are starting with all the required elements.</span></span>

<span data-ttu-id="e8748-371">Еще один совет при работе с шаблонами отображения — это сопоставление сетевого диска коллекции главных страниц.</span><span class="sxs-lookup"><span data-stu-id="e8748-371">Another tip when working with display templates is to map a network drive to the Master Page Gallery.</span></span> <span data-ttu-id="e8748-372">Дополнительные сведения см [как: сопоставление сетевого диска коллекции главных страниц SharePoint 2013](https://msdn.microsoft.com/en-us/library/office/jj733519.aspx).</span><span class="sxs-lookup"><span data-stu-id="e8748-372">For details, see [How to: Map a network drive to the SharePoint 2013 Master Page Gallery](https://msdn.microsoft.com/en-us/library/office/jj733519.aspx).</span></span>

<span data-ttu-id="e8748-373">HTML-файл, используемый для отображения шаблона — это полностью формат HTML-документ, с `head` и `body` элементы.</span><span class="sxs-lookup"><span data-stu-id="e8748-373">The HTML file that is used for a display template is a fully-formed HTML document, with  `head` and `body` elements.</span></span> <span data-ttu-id="e8748-374">В рамках `head` элемент, существует `title` элемент, который задает отображаемое имя для шаблона отображения.</span><span class="sxs-lookup"><span data-stu-id="e8748-374">Within the `head` element, there's a `title` element that specifies the display name for the display template.</span></span> <span data-ttu-id="e8748-375">Текст в этот тег является то, что будут отображаться при выполнении конфигураций в Интерфейсе пользователя SharePoint, например, при настройке тип результата.</span><span class="sxs-lookup"><span data-stu-id="e8748-375">The text in this tag is what will be shown when you do configurations in the SharePoint UI, for example, when you configure a result type.</span></span>

<span data-ttu-id="e8748-376">После `title` элемент, существует элемент свойства настраиваемого документа `mso:CustomDocumentProperties`.</span><span class="sxs-lookup"><span data-stu-id="e8748-376">After the  `title` element, there's a custom document properties element, `mso:CustomDocumentProperties`.</span></span> <span data-ttu-id="e8748-377">В области шаблоны отображения элемента этот элемент содержит `mso:ManagedPropertyMapping` элемент, который является, где управляемого свойства, используемые службой поиска SharePoint, сопоставляются с значения, используемые в шаблоне отображения.</span><span class="sxs-lookup"><span data-stu-id="e8748-377">In item display templates, this element contains a  `mso:ManagedPropertyMapping` element, which is where the managed properties used by SharePoint search are mapped to values used by the display template.</span></span> <span data-ttu-id="e8748-378">Ниже приведен синтаксис базы данных для: `<display template reference name>:<managed property name>`, как показано в следующем примере.</span><span class="sxs-lookup"><span data-stu-id="e8748-378">The following is the syntax for this: `<display template reference name>:<managed property name>`, as shown in the following example.</span></span>

```HTML
<mso:ManagedPropertyMapping msdt:dt="string">'Title':'Title','Path':'Path','Description':'Description'
```

<span data-ttu-id="e8748-379">В рамках `body` элемент, существует `script` которых может включать внешние ресурсы, такие как CSS-файлы или файлы JavaScript за пределами шаблон отображения элемента.</span><span class="sxs-lookup"><span data-stu-id="e8748-379">Within the  `body` element, there's a `script` element where you can include external resources such as CSS files or JavaScript files outside of the display template.</span></span> <span data-ttu-id="e8748-380">Обратитесь к разделу «Блок скрипта» в [Диспетчере оформления SharePoint 2013 шаблоны отображения](http://msdn.microsoft.com/en-us/library/jj945138.aspx) , примеры, показывающие, как включать внешние ресурсы в элементе скрипта.</span><span class="sxs-lookup"><span data-stu-id="e8748-380">See the "Script block" section in [SharePoint 2013 Design Manager display templates](http://msdn.microsoft.com/en-us/library/jj945138.aspx) for examples that show how to include external resources in the script element.</span></span>

<span data-ttu-id="e8748-381">— Это следующего элемента `div` элемент.</span><span class="sxs-lookup"><span data-stu-id="e8748-381">The next element is a  `div` element.</span></span> <span data-ttu-id="e8748-382">Это расположения любой HTML или скрипта, который требуется как часть шаблона отображения.</span><span class="sxs-lookup"><span data-stu-id="e8748-382">This is where you place any HTML or script that you want as part of the display template.</span></span> <span data-ttu-id="e8748-383">Хороший способ ознакомиться со структурой шаблон отображения — загружать копии шаблоны отображения по умолчанию для результатов поиска, Control_SearchResults.html, шаблон отображения элемента управления и Item_Default.html, шаблон отображения элемента.</span><span class="sxs-lookup"><span data-stu-id="e8748-383">A good way to become familiar with the display template structure is to download copies of the default display templates for search results, Control_SearchResults.html, the control display template, and Item_Default.html, the item display template.</span></span>

#### <a name="see-also-for-result-types-and-display-templates"></a><span data-ttu-id="e8748-384">Также содержатся типы результатов и шаблоны отображения</span><span class="sxs-lookup"><span data-stu-id="e8748-384">See also for result types and display templates</span></span>

<span data-ttu-id="e8748-385">Ниже приведены некоторые дополнительные ресурсы для шаблонов отображения и типы результатов.</span><span class="sxs-lookup"><span data-stu-id="e8748-385">The following are some additional resources for display templates and result types:</span></span>

- [<span data-ttu-id="e8748-386">Настройка типов результатов поиска в SharePoint 2013</span><span class="sxs-lookup"><span data-stu-id="e8748-386">Customize search result types in SharePoint 2013</span></span>](http://technet.microsoft.com/en-us/library/dn135239%28v=office.15%29.aspx)
    
- [<span data-ttu-id="e8748-387">Как изменить способ отображения результатов поиска в SharePoint Server 2013</span><span class="sxs-lookup"><span data-stu-id="e8748-387">How to change the way search results are displayed in SharePoint Server 2013</span></span>](http://technet.microsoft.com/en-us/library/dn794204%28v=office.15%29.aspx)
    
- [<span data-ttu-id="e8748-388">Общие сведения о способ отображения результатов поиска в SharePoint Server 2013</span><span class="sxs-lookup"><span data-stu-id="e8748-388">Understanding how search results are displayed in SharePoint Server 2013</span></span>](http://technet.microsoft.com/en-us/library/dn794212%28v=office.15%29.aspx)
    
- [<span data-ttu-id="e8748-389">Общие сведения о том, как шаблоны отображения элемента и выделение совпадений в SharePoint Server 2013</span><span class="sxs-lookup"><span data-stu-id="e8748-389">Understanding how item display templates and hit highlighting work in SharePoint Server 2013</span></span>](http://technet.microsoft.com/en-us/library/dn794249%28v=office.15%29.aspx)
    
- [<span data-ttu-id="e8748-390">Создание нового типа результатов в SharePoint Server 2013</span><span class="sxs-lookup"><span data-stu-id="e8748-390">How to create a new result type in SharePoint Server 2013</span></span>](http://technet.microsoft.com/en-us/library/dn794234%28v=office.15%29.aspx)
    
- [<span data-ttu-id="e8748-391">Способ отображения значений управляемых свойств в результатах поиска — вариант 1 в SharePoint Server 2013</span><span class="sxs-lookup"><span data-stu-id="e8748-391">How to display values from custom managed properties in search results - option 1 in SharePoint Server 2013</span></span>](http://technet.microsoft.com/en-us/library/dn794209%28v=office.15%29.aspx)
    
- [<span data-ttu-id="e8748-392">Способ отображения значений управляемых свойств в результатах поиска — вариант 2 в SharePoint Server 2013</span><span class="sxs-lookup"><span data-stu-id="e8748-392">How to display values from custom managed properties in search results - option 2 in SharePoint Server 2013</span></span>](http://technet.microsoft.com/en-us/library/dn794240%28v=office.15%29.aspx)
    
- [<span data-ttu-id="e8748-393">Отображение значений управляемых свойств в меняющейся панели в SharePoint Server 2013</span><span class="sxs-lookup"><span data-stu-id="e8748-393">How to display values from custom managed properties in the hover panel in SharePoint Server 2013</span></span>](http://technet.microsoft.com/en-us/library/dn794247%28v=office.15%29.aspx)

## <a name="query-apis-and-search-add-ins"></a><span data-ttu-id="e8748-394">API-интерфейсы запроса и выполните поиск надстроек</span><span class="sxs-lookup"><span data-stu-id="e8748-394">Query APIs and search add-ins</span></span>

<span data-ttu-id="e8748-395">Поиск SharePoint 2013 включает в себя клиентской объектной модели .NET и JavaScript и службу REST, которая обеспечивает доступ к Интернет-версия результаты поиска, в локальной и разработке для мобильных устройств.</span><span class="sxs-lookup"><span data-stu-id="e8748-395">SharePoint 2013 search includes .NET and JavaScript client object models and a REST service that enables access to search results for online, on-premises, and mobile development.</span></span> 

<span data-ttu-id="e8748-396">**API-интерфейсы запроса поиска**</span><span class="sxs-lookup"><span data-stu-id="e8748-396">**Search query APIs**</span></span>

|<span data-ttu-id="e8748-397">**API**</span><span class="sxs-lookup"><span data-stu-id="e8748-397">**API**</span></span>|<span data-ttu-id="e8748-398">**Путь к библиотеке или схемы класс**</span><span class="sxs-lookup"><span data-stu-id="e8748-398">**Class library or schema path**</span></span>|<span data-ttu-id="e8748-399">**Пример**</span><span class="sxs-lookup"><span data-stu-id="e8748-399">**Example**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="e8748-400">.NET CSOM</span><span class="sxs-lookup"><span data-stu-id="e8748-400">.NET CSOM</span></span>|<span data-ttu-id="e8748-401">Microsoft.SharePoint.Client.Search.dll[Загрузить пакет SDK для SharePoint Server 2013 клиентских компонентов](http://www.microsoft.com/en-us/download/details.aspx?id=35585)%ProgramFiles%\Common Files\Microsoft Shared\web server extensions\15\ISAPI[Загрузить пакет SDK для SharePoint компонентов Online клиента](http://www.microsoft.com/en-us/download/details.aspx?id=42038)% ProgramFiles%\Common Files\Microsoft Shared\web server extensions\16\ISAPI</span><span class="sxs-lookup"><span data-stu-id="e8748-401">Microsoft.SharePoint.Client.Search.dll[SharePoint Server 2013 Client Components SDK download](http://www.microsoft.com/en-us/download/details.aspx?id=35585)%ProgramFiles%\Common Files\Microsoft Shared\web server extensions\15\ISAPI[SharePoint Online Client Components SDK download](http://www.microsoft.com/en-us/download/details.aspx?id=42038)%ProgramFiles%\Common Files\Microsoft Shared\web server extensions\16\ISAPI</span></span>|<span data-ttu-id="e8748-402">[SharePoint 2013: запрос поиска с управляемой клиентской](http://code.msdn.microsoft.com/Query-Search-with-the-649f1bc1) [Объектная модель (Коллекция примеров кода)](http://code.msdn.microsoft.com/Query-Search-with-the-649f1bc1)</span><span class="sxs-lookup"><span data-stu-id="e8748-402">[SharePoint 2013: Query Search with the Managed Client ](http://code.msdn.microsoft.com/Query-Search-with-the-649f1bc1)[Object Model (Code Gallery)](http://code.msdn.microsoft.com/Query-Search-with-the-649f1bc1)</span></span>|
|<span data-ttu-id="e8748-403">JavaScript CSOM</span><span class="sxs-lookup"><span data-stu-id="e8748-403">JavaScript CSOM</span></span>|<span data-ttu-id="e8748-404">Components\Scripts SP.search.js%ProgramFiles%\SharePoint клиента</span><span class="sxs-lookup"><span data-stu-id="e8748-404">SP.search.js%ProgramFiles%\SharePoint Client Components\Scripts</span></span>|<span data-ttu-id="e8748-405">[Запрос поиска с помощью JavaScript клиентской объектной модели](http://code.msdn.microsoft.com/SharePoint-2013-Querying-a629b53b) (Коллекция примеров кода)</span><span class="sxs-lookup"><span data-stu-id="e8748-405">[Querying Search with the JavaScript Client Object Model](http://code.msdn.microsoft.com/SharePoint-2013-Querying-a629b53b) (Code Gallery)</span></span>|
|<span data-ttu-id="e8748-406">Служба REST</span><span class="sxs-lookup"><span data-stu-id="e8748-406">REST service</span></span>|<span data-ttu-id="e8748-407">http://Server/_api/Search/queryhttp://Server/_api/Search/ postqueryhttp://server/_api/search/suggest</span><span class="sxs-lookup"><span data-stu-id="e8748-407">http://server/_api/search/queryhttp://server/_api/search/postqueryhttp://server/_api/search/suggest</span></span>|<span data-ttu-id="e8748-408">[SharePoint 2013: использование поиска REST-службы из SharePoint Add-in](http://code.msdn.microsoft.com/sharepoint/SharePoint-2013-Perform-a-1bf3e87d) (Коллекция примеров кода)</span><span class="sxs-lookup"><span data-stu-id="e8748-408">[SharePoint 2013: Using the search REST service from a SharePoint Add-in ](http://code.msdn.microsoft.com/sharepoint/SharePoint-2013-Perform-a-1bf3e87d) (Code Gallery)</span></span>|

### <a name="search-query-net-csom"></a><span data-ttu-id="e8748-409">Поисковый запрос .NET CSOM</span><span class="sxs-lookup"><span data-stu-id="e8748-409">Search query .NET CSOM</span></span>

<span data-ttu-id="e8748-410">Чтобы использовать .NET CSOM запрос, создайте новый экземпляр класса [T:Microsoft.SharePoint.Client.ClientContext](https://msdn.microsoft.com/en-us/library/office/microsoft.sharepoint.client.clientcontext.aspx) , который находится в пространстве имен [Microsoft.SharePoint.Client](https://msdn.microsoft.com/en-us/library/office/microsoft.sharepoint.client.aspx) в библиотеке Microsoft.SharePoint.Client.dll.</span><span class="sxs-lookup"><span data-stu-id="e8748-410">To use the query .NET CSOM, create a new instance of the [T:Microsoft.SharePoint.Client.ClientContext](https://msdn.microsoft.com/en-us/library/office/microsoft.sharepoint.client.clientcontext.aspx) class, which is located in the [Microsoft.SharePoint.Client](https://msdn.microsoft.com/en-us/library/office/microsoft.sharepoint.client.aspx) namespace in the Microsoft.SharePoint.Client.dll.</span></span> <span data-ttu-id="e8748-411">Затем используйте объектной модели запросов в пространстве имен [Microsoft.SharePoint.Search.Client.Query](https://msdn.microsoft.com/en-us/library/office/microsoft.sharepoint.search.query.aspx) .</span><span class="sxs-lookup"><span data-stu-id="e8748-411">Then use the query object model in the [Microsoft.SharePoint.Search.Client.Query](https://msdn.microsoft.com/en-us/library/office/microsoft.sharepoint.search.query.aspx) namespace.</span></span> <span data-ttu-id="e8748-412">Ниже приведен простой пример.</span><span class="sxs-lookup"><span data-stu-id="e8748-412">The following is a simple example.</span></span>

```C#
using Microsoft.SharePoint.Client; 
using Microsoft.SharePoint.Client.Search.Query;
â€¦
using (ClientContext clientContext = new ClientContext("http://intranet.contoso.com"))
{
    KeywordQuery keywordQuery = new KeywordQuery(clientContext);
    keywordQuery.QueryText = "Argument";
    SearchExecutor searchExecutor = new SearchExecutor(clientContext);
    ClientResult<ResultTableCollection> results = searchExecutor.ExecuteQuery(keywordQuery);
    clientContext.ExecuteQuery();
}
 
```

<span data-ttu-id="e8748-413">Теперь можно выполнять итерацию результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-413">Now you can iterate through the search results.</span></span> <span data-ttu-id="e8748-414">Ниже приведен пример чтения Заголовок каждого результата.</span><span class="sxs-lookup"><span data-stu-id="e8748-414">The following example writes out the title of each result.</span></span>

```C#
foreach (var row in results.Value[0].ResultRows) 
{ 
    Console.WriteLine(row["Title"]); 
}
```

### <a name="search-query-rest-service"></a><span data-ttu-id="e8748-415">Поискового запроса службы REST</span><span class="sxs-lookup"><span data-stu-id="e8748-415">Search query REST service</span></span>

<span data-ttu-id="e8748-416">Поискового запроса службы REST поддерживает запросов HTTP **POST** и **получить** .</span><span class="sxs-lookup"><span data-stu-id="e8748-416">The Search query REST service supports both HTTP **POST** and **GET** requests.</span></span> <span data-ttu-id="e8748-417">При внесении вызова службы поиска REST указании параметров запроса с запросом и поиска использует эти параметры запросов для создания запроса поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-417">When you make a call to the Search REST service, you specify query parameters with the request and search uses these query parameters to construct the search query.</span></span> <span data-ttu-id="e8748-418">С помощью запроса на **Получение** указать параметры запроса в URL-адрес.</span><span class="sxs-lookup"><span data-stu-id="e8748-418">With a **GET** request, you specify the query parameters in the URL.</span></span> <span data-ttu-id="e8748-419">Для запросов **POST** передайте параметров запроса в тексте запроса в формате JavaScript Object Notation (JSON).</span><span class="sxs-lookup"><span data-stu-id="e8748-419">For **POST** requests, you pass the query parameters in the body in JavaScript Object Notation (JSON) format.</span></span>

<span data-ttu-id="e8748-420">**Получение JSON и POST запрашивает**</span><span class="sxs-lookup"><span data-stu-id="e8748-420">**JSON GET and POST requests**</span></span>

|<span data-ttu-id="e8748-421">Глагол</span><span class="sxs-lookup"><span data-stu-id="e8748-421">Verb</span></span>|<span data-ttu-id="e8748-422">URI</span><span class="sxs-lookup"><span data-stu-id="e8748-422">URI</span></span>|
|:---|:---|
| <span data-ttu-id="e8748-423">Запросы **GET**</span><span class="sxs-lookup"><span data-stu-id="e8748-423">**GET** requests</span></span>| `http://server/_api/search/query`|
| <span data-ttu-id="e8748-424">Запросы **POST**</span><span class="sxs-lookup"><span data-stu-id="e8748-424">**POST** requests</span></span>| `http://server/_api/search/postquery`|

<span data-ttu-id="e8748-425">**Примеры запросов GET для службы поиска REST**</span><span class="sxs-lookup"><span data-stu-id="e8748-425">**Sample GET requests for Search REST service**</span></span>

|<span data-ttu-id="e8748-426">**Тип запроса**</span><span class="sxs-lookup"><span data-stu-id="e8748-426">**Request type**</span></span>|<span data-ttu-id="e8748-427">**URL-адрес запроса**</span><span class="sxs-lookup"><span data-stu-id="e8748-427">**Request URL**</span></span>|
|:-----|:-----|
|<span data-ttu-id="e8748-428">Ключевые слова</span><span class="sxs-lookup"><span data-stu-id="e8748-428">Keywords</span></span>|<span data-ttu-id="e8748-429">http://Server/Site/_api/Search/Query?querytext= '{запрос KQL}»</span><span class="sxs-lookup"><span data-stu-id="e8748-429">http://server/site/_api/search/query?querytext='{KQL Query}'</span></span>|
|<span data-ttu-id="e8748-430">Выбор свойств</span><span class="sxs-lookup"><span data-stu-id="e8748-430">Selecting Properties</span></span>|<span data-ttu-id="e8748-431">http://Server/Site/_api/Search/query?querytext= «test»&amp;selectproperties = «Заголовок, ранг»</span><span class="sxs-lookup"><span data-stu-id="e8748-431">http://server/site/_api/search/query?querytext='test'&amp;selectproperties='Title,Rank'</span></span>|
|<span data-ttu-id="e8748-432">сортировке;</span><span class="sxs-lookup"><span data-stu-id="e8748-432">Sorting</span></span>|<span data-ttu-id="e8748-433">http://Server/Site/_api/Search/query?querytext= «test»&amp;sortlist ='LastModifiedTime: по убыванию «http://server/site/_api/search/query?querytext=» test "&amp;sortlist ='LastModifiedTime: по убыванию ранг: по возрастанию"</span><span class="sxs-lookup"><span data-stu-id="e8748-433">http://server/site/_api/search/query?querytext='test'&amp;sortlist='LastModifiedTime:descending'http://server/site/_api/search/query?querytext='test'&amp;sortlist='LastModifiedTime:descending,Rank:ascending'</span></span>|

<span data-ttu-id="e8748-434">Полный список доступных параметров запроса и как их использовать содержатся в разделе [Обзор интерфейса API REST поиска SharePoint](http://msdn.microsoft.com/library/8a4f7863-e4c1-4099-9189-a1894db36930%28Office.15%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="e8748-434">For a complete list of the query parameters available and how to use them, see [SharePoint Search REST API overview](http://msdn.microsoft.com/library/8a4f7863-e4c1-4099-9189-a1894db36930%28Office.15%29.aspx).</span></span> <span data-ttu-id="e8748-435">Пример кода, в разделе [SharePoint 2013: использование поиска REST-службы из SharePoint Add-in](https://code.msdn.microsoft.com/sharepoint/SharePoint-2013-Perform-a-1bf3e87d).</span><span class="sxs-lookup"><span data-stu-id="e8748-435">For sample code, see [SharePoint 2013: Using the search REST service from a SharePoint Add-in](https://code.msdn.microsoft.com/sharepoint/SharePoint-2013-Perform-a-1bf3e87d).</span></span>

### <a name="search-add-ins"></a><span data-ttu-id="e8748-436">Поиск надстроек</span><span class="sxs-lookup"><span data-stu-id="e8748-436">Search add-ins</span></span>

<span data-ttu-id="e8748-437">SharePoint Add-ins (ранее называлась приложений для SharePoint), автономные функциональные элементы, расширяющие возможности веб-сайта SharePoint.</span><span class="sxs-lookup"><span data-stu-id="e8748-437">SharePoint Add-ins (formerly known as apps for SharePoint) are self-contained pieces of functionality that extend the capabilities of a SharePoint website.</span></span> <span data-ttu-id="e8748-438">Надстройки поиска (ранее называлась приложения поиска) — SharePoint Add-ins, используйте функции поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-438">Search add-ins (formerly known as search apps) are SharePoint Add-ins that use search functionality.</span></span> <span data-ttu-id="e8748-439">В поиск надстроек можно использовать API-интерфейсы запроса поиска для получения результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-439">In a search add-ins, you can use the search query APIs to retrieve search results.</span></span> <span data-ttu-id="e8748-440">Кроме того можно также использовать его для распространения конфигурации поиска с одной установки SharePoint в другую.</span><span class="sxs-lookup"><span data-stu-id="e8748-440">In addition, you can also use it to distribute search configurations from one SharePoint installation to another.</span></span>

<span data-ttu-id="e8748-441">Сведения о настройке среды разработки для создания поиск надстроек, [Настройка локальной среды разработки для SharePoint надстройки](http://msdn.microsoft.com/library/b0878c12-27c9-4eea-ae3b-7e79e5a8838d%28Office.15%29.aspx) или [настроить среду разработки для SharePoint надстройки на Office 365](http://msdn.microsoft.com/library/b22ce52a-ae9e-4831-9b68-c9210af6dc54%28Office.15%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="e8748-441">For information about setting up a development environment to create search add-ins, see [Set up an on-premises development environment for SharePoint Add-ins](http://msdn.microsoft.com/library/b0878c12-27c9-4eea-ae3b-7e79e5a8838d%28Office.15%29.aspx) or [Set up a development environment for SharePoint Add-ins on Office 365](http://msdn.microsoft.com/library/b22ce52a-ae9e-4831-9b68-c9210af6dc54%28Office.15%29.aspx).</span></span>

#### <a name="permissions"></a><span data-ttu-id="e8748-442">Permissions</span><span class="sxs-lookup"><span data-stu-id="e8748-442">Permissions</span></span>

<span data-ttu-id="e8748-443">Надстройки поиска требуются разрешения на уровне доступа пользователя, где значение атрибута — _QueryAsUserIgnoreAppPrincipal_.</span><span class="sxs-lookup"><span data-stu-id="e8748-443">Search add-ins require only user-level permissions, where the attribute value is  _QueryAsUserIgnoreAppPrincipal_.</span></span> <span data-ttu-id="e8748-444">Это разрешение позволяет запросов поиска надстройки на основе разрешений пользователя.</span><span class="sxs-lookup"><span data-stu-id="e8748-444">This permission lets you query the search add-ins based on the user's permissions.</span></span> <span data-ttu-id="e8748-445">Это означает, что поиск, возвращаются результаты, основанные на списки контроля доступа пользователя.</span><span class="sxs-lookup"><span data-stu-id="e8748-445">This means that search results will be returned based on the user's ACLs.</span></span> <span data-ttu-id="e8748-446">Чтобы предоставить разрешения на надстройки COM для использования поиска:</span><span class="sxs-lookup"><span data-stu-id="e8748-446">To grant permissions to the add-ins to use search:</span></span>

1. <span data-ttu-id="e8748-447">В **Обозревателе решений**откройте **файл AppManifest.xml**.</span><span class="sxs-lookup"><span data-stu-id="e8748-447">In **Solution Explorer**, open **AppManifest.xml**.</span></span>
    
2. <span data-ttu-id="e8748-448">На вкладке **разрешения** выберите **область поиска** , а затем выберите **QueryAsUserIgnoreAppPrincipal**.</span><span class="sxs-lookup"><span data-stu-id="e8748-448">On the **Permissions** tab, select **Search for Scope** and then select **QueryAsUserIgnoreAppPrincipal**.</span></span>
    
<span data-ttu-id="e8748-449">Дополнительные сведения можно [Добавить разрешений в SharePoint 2013](http://msdn.microsoft.com/library/5f7a8440-3c09-4cf8-83ec-c236bfa2d6c4%28Office.15%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="e8748-449">For more information, see [Add-in permissions in SharePoint 2013](http://msdn.microsoft.com/library/5f7a8440-3c09-4cf8-83ec-c236bfa2d6c4%28Office.15%29.aspx).</span></span>

#### <a name="query-apis"></a><span data-ttu-id="e8748-450">API-интерфейсы запроса</span><span class="sxs-lookup"><span data-stu-id="e8748-450">Query APIs</span></span>

<span data-ttu-id="e8748-451">Можно использовать .NET CSOM, JavaScript CSOM или службы поиска REST для получения результатов поиска в надстройках поиска. Следующем примере показано, как использовать .NET CSOM запрос для получения результатов поиска в надстройках поиска.</span><span class="sxs-lookup"><span data-stu-id="e8748-451">You can use the .NET CSOM, JavaScript CSOM, or search REST service to retrieve search results in a search add-ins. The following example shows how to use the query .NET CSOM to retrieve search results in a search add-ins.</span></span>

```C#
var spContext = SharePointContextProvider.Current.GetSharePointContext(Context);
using (var clientContext = spContext.CreateUserClientContextForSPHost())
{
    KeywordQuery keywordQuery = new KeywordQuery(clientContext);
    keywordQuery.QueryText = "Argument";
    SearchExecutor searchExecutor = new SearchExecutor(clientContext);
    ClientResult<ResultTableCollection> results = searchExecutor.ExecuteQuery(keywordQuery);
    clientContext.ExecuteQuery();
}

```

## <a name="in-this-section"></a><span data-ttu-id="e8748-452">В этом разделе:</span><span class="sxs-lookup"><span data-stu-id="e8748-452">In this section</span></span>

- [<span data-ttu-id="e8748-453">Настройки поиска для SharePoint</span><span class="sxs-lookup"><span data-stu-id="e8748-453">Search customizations for SharePoint</span></span>](search-customizations-for-sharepoint.md)

## <a name="see-also"></a><span data-ttu-id="e8748-454">См. также</span><span class="sxs-lookup"><span data-stu-id="e8748-454">See also</span></span>
<span data-ttu-id="e8748-455"><a name="bk_addresources"> </a></span><span class="sxs-lookup"><span data-stu-id="e8748-455"></span></span>

- [<span data-ttu-id="e8748-456">Надстройки SharePoint</span><span class="sxs-lookup"><span data-stu-id="e8748-456">SharePoint Add-ins</span></span>](http://msdn.microsoft.com/library/cd1eda9e-8e54-4223-93a9-a6ea0d18df70%28Office.15%29.aspx)
    
- [<span data-ttu-id="e8748-457">Надстройки поиска в SharePoint 2013</span><span class="sxs-lookup"><span data-stu-id="e8748-457">Search add-ins in SharePoint 2013</span></span>](http://msdn.microsoft.com/library/21682e45-dd78-4f3c-8f1e-cdd48de3bde2%28Office.15%29.aspx)
    
- [<span data-ttu-id="e8748-458">Добавление возможностей поиска для вашей SharePoint надстройки</span><span class="sxs-lookup"><span data-stu-id="e8748-458">Add search capabilities to your SharePoint Add-ins</span></span>](http://blogs.msdn.com/b/officeapps/archive/2013/05/30/add-search-capabilities-to-your-apps-for-sharepoint.aspx)
