---
title: "Проверенные рекомендации для SharePoint Online порталов - решений для навигации"
ms.date: 11/03/2017
ms.openlocfilehash: 4e1f1a2a402a2d12da99d0ea395bf628e41836cd
ms.sourcegitcommit: 65e885f547ca9055617fe0871a13c7fc85086032
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/06/2017
---
# <a name="proven-practices-for-sharepoint-online-portals---navigation-solutions"></a><span data-ttu-id="5711d-102">Проверенные рекомендации для SharePoint Online порталов - решений для навигации</span><span class="sxs-lookup"><span data-stu-id="5711d-102">Proven Practices for SharePoint Online Portals - Navigation Solutions</span></span>

<span data-ttu-id="5711d-103">Каждого портала проекта необходимо реализовать решение навигации.</span><span class="sxs-lookup"><span data-stu-id="5711d-103">Every portal project needs to implement a navigation solution.</span></span> <span data-ttu-id="5711d-104">В зависимости от требований проекта решения навигации можно использовать только компоненты навигации стандартной (готовые) настраиваемых компонентов навигации и их комбинации готовые и пользовательские компоненты.</span><span class="sxs-lookup"><span data-stu-id="5711d-104">Based on project requirements, the navigation solution might choose to leverage only Out-of-Box (OOB) Navigation components, only custom Navigation components, or a combination of both OOB and custom components.</span></span> 

<span data-ttu-id="5711d-105">Вне зависимости от выбора, сделанного, остается вопрос: создание высокопроизводительных системы навигации в SharePoint Online?</span><span class="sxs-lookup"><span data-stu-id="5711d-105">Regardless of the choice made, a question remains: How to build a well-performing navigation system in SharePoint Online?</span></span> <span data-ttu-id="5711d-106">В этой статье приведены ответы на этот вопрос.</span><span class="sxs-lookup"><span data-stu-id="5711d-106">This article answers that question.</span></span>

><span data-ttu-id="5711d-107">**Примечание**: несмотря на то, что данное руководство в первую очередь относится SharePoint Online, большая часть он также распространяется на порталов, размещенных в локальной среде SharePoint.</span><span class="sxs-lookup"><span data-stu-id="5711d-107">**Note**: Although this guidance primarily targets SharePoint Online, most of it also applies to portals hosted in an on-premises SharePoint environment.</span></span>

<span data-ttu-id="5711d-108">_**Применимо к:** SharePoint Online_</span><span class="sxs-lookup"><span data-stu-id="5711d-108">_**Applies to:** SharePoint Online_</span></span>

## <a name="anti-patterns-in-other-words-dont-do-these-things"></a><span data-ttu-id="5711d-109">Защита от шаблонов (иными словами, не выполнить эти действия)</span><span class="sxs-lookup"><span data-stu-id="5711d-109">Anti-Patterns (in other words, don't do these things)</span></span>
<span data-ttu-id="5711d-110"><a name="bk_antiPatterns"> </a></span><span class="sxs-lookup"><span data-stu-id="5711d-110"></span></span>

<span data-ttu-id="5711d-111">Если вы хотите возникновении проблем с портал в целом и навигации решения, в частности, необходимо учитывайте следующие шаблоны защиты от:</span><span class="sxs-lookup"><span data-stu-id="5711d-111">If you wish to have problems with your portal in general, and your navigation solution in particular, consider the following Anti-Patterns:</span></span>

- <span data-ttu-id="5711d-112">При семейств веб-сайтов портала сложную структуру (нескольких уровень сайтов и/или уникальные разрешения) следует использовать стандартной (готовые) **структуры** навигации сайта</span><span class="sxs-lookup"><span data-stu-id="5711d-112">Use Out-of-Box (OOB) **structural** site navigation when the site collections of your portal have complex structure (multiple level of sites and/or unique permissions)</span></span>  
- <span data-ttu-id="5711d-113">Использование пользовательских переходов решения, в котором запрашивается все узлы навигации для всех элементов управления навигацией сразу после загрузки страницы, даже для элементов управления, которые изначально свернут/скрыто</span><span class="sxs-lookup"><span data-stu-id="5711d-113">Use a custom navigation solution that requests all navigation nodes for all custom navigation controls as soon as the page loads, even for controls that are initially collapsed/hidden</span></span>
- <span data-ttu-id="5711d-114">Использование пользовательских переходов решения, которое не кэширует узлы навигации, она получает</span><span class="sxs-lookup"><span data-stu-id="5711d-114">Use a custom navigation solution that does not cache the navigation nodes it receives</span></span>
- <span data-ttu-id="5711d-115">Использование пользовательских переходов решения, предназначенное для устаревших веб-службы перечислены (SOAP)</span><span class="sxs-lookup"><span data-stu-id="5711d-115">Use a custom navigation solution that targets the legacy Lists (SOAP) web service</span></span>
    - <span data-ttu-id="5711d-116">для дополнительных проблемы передайте ему некоторые плохо сформирован запросы CAML (en)</span><span class="sxs-lookup"><span data-stu-id="5711d-116">for extra trouble, pass it some poorly-formed CAML queries</span></span>

## <a name="rationale-for-a-custom-navigation-solution"></a><span data-ttu-id="5711d-117">Логическое обоснование для решения пользовательских переходов</span><span class="sxs-lookup"><span data-stu-id="5711d-117">Rationale for a Custom Navigation Solution</span></span>
<span data-ttu-id="5711d-118"><a name="bk_customNavRationale"> </a></span><span class="sxs-lookup"><span data-stu-id="5711d-118"></span></span>

<span data-ttu-id="5711d-119">Существует ряд причин, почему портала архитектор может потребоваться разрешения пользовательских переходов.</span><span class="sxs-lookup"><span data-stu-id="5711d-119">There are a number of reasons why a Portal Architect might decide to pursue a custom navigation solution.</span></span> <span data-ttu-id="5711d-120">Большинство причинам связаны с тем, что современные макеты портала, выполняет характер и обычно включает навигации функциональных возможностей системы; Таким образом сопоставить предлагаемого разработки в SharePoint в конечном счете невозможно, так как элементы управления навигацией на сервере стандартной (готовые) не может быть настроен в соответствии с требованиями один или несколько предлагаемого проектирования.</span><span class="sxs-lookup"><span data-stu-id="5711d-120">Most reasons are related to the fact that Modern Portal Designs are Responsive in nature and usually include a feature-rich navigation system; as such, attempts to map the proposed design onto SharePoint ultimately fail because the Out-of-Box (OOB) server-side navigation controls cannot be configured to meet one or more requirements of the proposed design.</span></span> <span data-ttu-id="5711d-121">Выполните конкретные примеры.</span><span class="sxs-lookup"><span data-stu-id="5711d-121">Specific examples follow:</span></span>

- <span data-ttu-id="5711d-122">Элемент управления готовые и его UX управления не поддерживает реакции проектирование пользовательского интерфейса</span><span class="sxs-lookup"><span data-stu-id="5711d-122">The OOB control, and its Management UX, does not support a Responsive UI Design</span></span>
- <span data-ttu-id="5711d-123">Элемент управления готовые не соответствуют необходимые модели поведения (всплывающего/меняющейся, меню мегабайт, мультимедиа, отложенной загрузки, и т.д.)</span><span class="sxs-lookup"><span data-stu-id="5711d-123">The OOB control does not exhibit the required behaviors (flyout/hover, mega menu, rich media, lazy-load, etc.)</span></span>
- <span data-ttu-id="5711d-124">Готовые управления не поддерживает атрибутов иерархии навигации желаемую (заголовки, группировки, глубина, ограничение ссылок, и т.д.)</span><span class="sxs-lookup"><span data-stu-id="5711d-124">The OOB control does not support the desired navigation hierarchy attributes (headers, grouping, depth, link limit, etc.)</span></span> 
- <span data-ttu-id="5711d-125">Готовые управления не поддерживает атрибуты связи желаемую навигации (эскиза, ссылок, публикации начала или окончания, выделение, и т.д.)</span><span class="sxs-lookup"><span data-stu-id="5711d-125">The OOB control does not support the desired navigation link attributes (thumbnail, image link, publishing start/end, emphasis, etc.)</span></span> 
- <span data-ttu-id="5711d-126">Элемент управления готовые не или больше не доступен (нижнего колонтитула, цепочки переходов, и т.д.)</span><span class="sxs-lookup"><span data-stu-id="5711d-126">The OOB control is not, or is no longer, available (footer, breadcrumb, etc.)</span></span>
- <span data-ttu-id="5711d-127">Элемент управления готовые не интегрируется с хранилищ данных навигации custom/прежних версий</span><span class="sxs-lookup"><span data-stu-id="5711d-127">The OOB control does not integrate with custom/legacy navigation data stores</span></span>
- <span data-ttu-id="5711d-128">UX управления готовые несогласованные через элементы управления навигацией и не является понятным</span><span class="sxs-lookup"><span data-stu-id="5711d-128">The OOB Management UX is inconsistent across navigation controls and is not user-friendly</span></span>

<span data-ttu-id="5711d-129">При достаточно из причин выстраиваются, примите во внимание настраиваемых решений навигации.</span><span class="sxs-lookup"><span data-stu-id="5711d-129">When enough of the reasons add up, consider a Custom Navigation Solution.</span></span>

## <a name="youve-decided-to-use-an-out-of-box-oob-navigation-solution"></a><span data-ttu-id="5711d-130">Вы решили использовать решение навигации стандартной (готовые)</span><span class="sxs-lookup"><span data-stu-id="5711d-130">You've decided to use an Out-of-Box (OOB) Navigation Solution</span></span>
<span data-ttu-id="5711d-131"><a name="bk_oobNavSolution"> </a></span><span class="sxs-lookup"><span data-stu-id="5711d-131"></span></span>

<span data-ttu-id="5711d-132">Для настраиваемых решений навигации определяется обоснование и решили, что эти причинам не выполнены.</span><span class="sxs-lookup"><span data-stu-id="5711d-132">You've evaluated the rationale for a Custom Navigation Solution and have decided that none of those reasons apply.</span></span> <span data-ttu-id="5711d-133">Хорошо то, что вы можете использовать возможности нужные шаблоны для решения навигации стандартной (готовые).</span><span class="sxs-lookup"><span data-stu-id="5711d-133">The good news is that you can leverage proven patterns for an Out-of-Box (OOB) Navigation Solution.</span></span>

<span data-ttu-id="5711d-134">По сути решения навигации состоит из набора элементов управления навигации, которые получают данные из хранилища навигации.</span><span class="sxs-lookup"><span data-stu-id="5711d-134">At its core, a navigation solution consists of a set of navigation controls that receive their data from a Navigation Store.</span></span> <span data-ttu-id="5711d-135">При принятии решения навигации готовые готовые управляемой навигации (описаны далее в этой статье) обычно является предпочтительным выбора для магазина навигации готовые так как он обеспечивает лучшую производительность загрузки страницы.</span><span class="sxs-lookup"><span data-stu-id="5711d-135">When choosing an OOB Navigation Solution, OOB Managed Navigation (described later in this article) is generally the preferred choice for an OOB Navigation Store because it offers the better page load performance.</span></span> <span data-ttu-id="5711d-136">Другие выбор, готовые структурированная навигация (описаны далее в этой статье), предназначенных может оказаться очень ресурсов (особенно для структур семейства сайтов сложных) и результатов в значительно более медленных страницы нагрузки производительности.</span><span class="sxs-lookup"><span data-stu-id="5711d-136">The other choice, OOB Structured Navigation (described later in this article), can easily become very resource intensive (especially for complex site collection structures) and result in significantly slower page load performance.</span></span>

## <a name="youve-decided-to-use-a-custom-navigation-solution"></a><span data-ttu-id="5711d-137">Вы решили использовать настраиваемых решений навигации</span><span class="sxs-lookup"><span data-stu-id="5711d-137">You've decided to use a Custom Navigation Solution</span></span>
<span data-ttu-id="5711d-138"><a name="bk_customNavSolution"> </a></span><span class="sxs-lookup"><span data-stu-id="5711d-138"></span></span>

<span data-ttu-id="5711d-139">Для настраиваемых решений навигации определяется обоснование и принято решение достаточно этим причинам применить.</span><span class="sxs-lookup"><span data-stu-id="5711d-139">You've evaluated the rationale for a Custom Navigation Solution and have decided that enough of those reasons apply.</span></span> <span data-ttu-id="5711d-140">Хорошо то, что вы можете использовать возможности проверенных шаблонов для разработки настраиваемых решений навигации.</span><span class="sxs-lookup"><span data-stu-id="5711d-140">The good news is that you can leverage proven patterns for developing a Custom Navigation Solution.</span></span>

<span data-ttu-id="5711d-141">Следующей схеме показана логическая архитектура настраиваемых решений навигации:</span><span class="sxs-lookup"><span data-stu-id="5711d-141">The following diagram shows the logical architecture of a Custom Navigation Solution:</span></span>

![Логическая архитектура решения пользовательских переходов](./media/logicalNavSoln.png)

<span data-ttu-id="5711d-143">В следующих разделах описываются основные компоненты логической архитектуры:</span><span class="sxs-lookup"><span data-stu-id="5711d-143">The following sections describe the major components of the logical architecture:</span></span>

### <a name="navigation-display-control"></a><span data-ttu-id="5711d-144">Тип элемента управления навигации</span><span class="sxs-lookup"><span data-stu-id="5711d-144">Navigation Display Control</span></span>
<span data-ttu-id="5711d-145"><a name="bk_navDisplayControl"> </a></span><span class="sxs-lookup"><span data-stu-id="5711d-145"></span></span> 

<span data-ttu-id="5711d-146">Это пользовательского со стороны клиента JavaScript отображения элемента управления, которые находятся на странице.</span><span class="sxs-lookup"><span data-stu-id="5711d-146">This is a custom client-side JavaScript display control that resides on the page.</span></span> 

<span data-ttu-id="5711d-147">Как правило элемент управления запрашивает хранилище навигации при странице загружает обрабатывает ответ данных навигации и отображает компонента навигации (презентация, данных и поведение).</span><span class="sxs-lookup"><span data-stu-id="5711d-147">In general, the control queries the Navigation Store when the page loads, processes the navigation data response, and renders the navigation component (presentation, information, and behavior).</span></span> <span data-ttu-id="5711d-148">На практике, элемент управления должно отслеживать отложенная загрузка шаблона: выполнение запроса данных навигации только при необходимости и отложите то же время.</span><span class="sxs-lookup"><span data-stu-id="5711d-148">In practice, the control should observe a lazy-load pattern: execute the navigation data request only when necessary, and defer it for as long as possible.</span></span>

<span data-ttu-id="5711d-149">Тип элемента управления можно добавить к определению статические страницы во время разработки (через главную страницу (необходимо учитывать вопросы, связанные с), макет страницы или веб-части) или его можно добавить в динамической состояние страницы во время выполнения (с помощью метода внедрения JavaScript).</span><span class="sxs-lookup"><span data-stu-id="5711d-149">The display control can be added to the static definition of the page at design time (via a master page (consider the caveats), a page layout, or a web part) or it can be added to the dynamic state of the page at run-time (via the JavaScript Embedding technique).</span></span>

<span data-ttu-id="5711d-150">Тип элемента управления использует клиентский уровень доступа к данным (описаны далее в этой статье) для оптимизации производительности страниц.</span><span class="sxs-lookup"><span data-stu-id="5711d-150">The display control leverages the Client-Side Data Access Layer (described later in this article) to optimize page performance.</span></span>

<span data-ttu-id="5711d-151">Тип элемента управления для его навигации "Управление", который предоставляет пользовательский интерфейс для управления конфигурацией элемент управления навигации при необходимости можно указать ссылку Параметры.</span><span class="sxs-lookup"><span data-stu-id="5711d-151">The display control may optionally provide a Settings link for its Navigation Management Page, which provides a user interface to manage the configuration of the navigation control.</span></span>

<span data-ttu-id="5711d-152">**Элементы управления отображением типичного навигации** 
 <a name="bk_navDisplayControls"> </a></span><span class="sxs-lookup"><span data-stu-id="5711d-152">**Typical Navigation Display Controls**
<a name="bk_navDisplayControls"> </a></span></span> 

<span data-ttu-id="5711d-153">Ниже приведены некоторые общие рекомендации для различных типов элементов управления навигацией, обычно используется в пользовательских решений навигации:</span><span class="sxs-lookup"><span data-stu-id="5711d-153">Here is some general guidance for the various types of navigation controls typically used in a custom Navigation Solution:</span></span>

- <span data-ttu-id="5711d-154">**Глобальная Навигация**: реализация настраиваемого элемента управления, предназначенное для сущности конфигурации центра, относящиеся к порталу навигации.</span><span class="sxs-lookup"><span data-stu-id="5711d-154">**Global Navigation**: implement a custom control that targets a central, portal-specific navigation configuration entity.</span></span> <span data-ttu-id="5711d-155">Используйте общедоступный кэша для узлов навигации.</span><span class="sxs-lookup"><span data-stu-id="5711d-155">Use a public cache for the navigation nodes.</span></span> <span data-ttu-id="5711d-156">Рассмотрите возможность страницы Управление готовые.</span><span class="sxs-lookup"><span data-stu-id="5711d-156">Consider the OOB Management Page.</span></span>
- <span data-ttu-id="5711d-157">**Нижний колонтитул навигации**: реализация настраиваемого элемента управления, предназначенное для сущности конфигурации центра, относящиеся к порталу навигации.</span><span class="sxs-lookup"><span data-stu-id="5711d-157">**Footer Navigation**: implement a custom control that targets a central, portal-specific navigation configuration entity.</span></span> <span data-ttu-id="5711d-158">Используйте общедоступный кэша для узлов навигации.</span><span class="sxs-lookup"><span data-stu-id="5711d-158">Use a public cache for the navigation nodes.</span></span> <span data-ttu-id="5711d-159">Рассмотрите возможность страницы Управление готовые.</span><span class="sxs-lookup"><span data-stu-id="5711d-159">Consider the OOB Management Page.</span></span>
- <span data-ttu-id="5711d-160">**Карта сайта**: реализация настраиваемого элемента управления, предназначенное для сущности конфигурации центра, относящиеся к порталу навигации</span><span class="sxs-lookup"><span data-stu-id="5711d-160">**Site Map**: implement a custom control that targets a central, portal-specific navigation configuration entity</span></span>
- <span data-ttu-id="5711d-161">**Текущая структура навигации** (то есть, левом): реализация настраиваемого элемента управления, предназначенное для сущности конфигурации локального, относящиеся к web навигации.</span><span class="sxs-lookup"><span data-stu-id="5711d-161">**Current Navigation** (i.e., Left-Hand): implement a custom control that targets a local, web-specific navigation configuration entity.</span></span> <span data-ttu-id="5711d-162">Используйте общедоступный кэша для узлов навигации.</span><span class="sxs-lookup"><span data-stu-id="5711d-162">Use a public cache for the navigation nodes.</span></span> <span data-ttu-id="5711d-163">Рассмотрите возможность страницы Управление готовые.</span><span class="sxs-lookup"><span data-stu-id="5711d-163">Consider the OOB Management Page.</span></span>
- <span data-ttu-id="5711d-164">**Иерархическая**: *без реализации этой пользовательского элемента управления*; цепи родительского веб-объекты на основании URL-адрес текущего веб-сайта является дорогостоящей операции</span><span class="sxs-lookup"><span data-stu-id="5711d-164">**Breadcrumb**: *avoid implementing this custom control*; construction of the parent chain of Web objects, based on the Url of the current web, is a costly operation</span></span>
- <span data-ttu-id="5711d-165">**Полезные ссылки**: реализация настраиваемого элемента управления, предназначенное для сущности конфигурации локального, относящиеся к web навигации.</span><span class="sxs-lookup"><span data-stu-id="5711d-165">**Useful Links**: implement a custom control that targets a local, web-specific navigation configuration entity.</span></span> <span data-ttu-id="5711d-166">Используйте общедоступный кэша для узлов навигации.</span><span class="sxs-lookup"><span data-stu-id="5711d-166">Use a public cache for the navigation nodes.</span></span> <span data-ttu-id="5711d-167">Рассмотрите возможность страницы Управление готовые.</span><span class="sxs-lookup"><span data-stu-id="5711d-167">Consider the OOB Management Page.</span></span>
- <span data-ttu-id="5711d-168">**Мои ссылки**: реализация настраиваемого элемента управления, предназначенное для **закрытого**, сущности конфигурации навигации конкретного пользователя.</span><span class="sxs-lookup"><span data-stu-id="5711d-168">**My Links**: implement a custom control that targets a **private**, user-specific navigation configuration entity.</span></span> <span data-ttu-id="5711d-169">Используйте **закрытый** кэша для узлов навигации.</span><span class="sxs-lookup"><span data-stu-id="5711d-169">Use a **private** cache for the navigation nodes.</span></span> <span data-ttu-id="5711d-170">Предоставление настраиваемой страницы Управление.</span><span class="sxs-lookup"><span data-stu-id="5711d-170">Provide a custom Management Page.</span></span>

### <a name="navigation-store"></a><span data-ttu-id="5711d-171">Хранилище навигации</span><span class="sxs-lookup"><span data-stu-id="5711d-171">Navigation Store</span></span>
<span data-ttu-id="5711d-172"><a name="bk_navStore"> </a></span><span class="sxs-lookup"><span data-stu-id="5711d-172"></span></span> 

<span data-ttu-id="5711d-173">Хранилище навигации сохраняет конфигурацию управления навигацией.</span><span class="sxs-lookup"><span data-stu-id="5711d-173">The Navigation Store persists the configuration of the custom navigation control.</span></span> <span data-ttu-id="5711d-174">Можно установить с помощью настраиваемой навигации хранилища или хранилище навигации стандартной (готовые) элемент управления навигацией.</span><span class="sxs-lookup"><span data-stu-id="5711d-174">You can choose to have the custom navigation control use either a custom Navigation Store or an Out-of-Box (OOB) Navigation Store.</span></span>

<span data-ttu-id="5711d-175">**Сохранение настраиваемых навигации:** 
 <a name="bk_customNavStores"> </a></span><span class="sxs-lookup"><span data-stu-id="5711d-175">**Custom Navigation Stores:**
<a name="bk_customNavStores"> </a></span></span> 

<span data-ttu-id="5711d-176">Чаще всего используется настраиваемый хранилище навигации, настраиваемый список SharePoint, обеспечивает баланс между расширяемости, управляемости и производительности (при запросе посредством поиска).</span><span class="sxs-lookup"><span data-stu-id="5711d-176">The most-commonly used custom Navigation Store, a custom SharePoint list, strikes a balance between extensibility, manageability, and performance (when queried via Search).</span></span> <span data-ttu-id="5711d-177">Схема списка можно легко расширенных с помощью настраиваемых типов контента, представляющих навигации заголовков и групп и ссылки для перехода и столбцы сайта, определяющие необходимые настраиваемые атрибуты (например, порядок отображения).</span><span class="sxs-lookup"><span data-stu-id="5711d-177">The list schema can be easily extended with custom Content Types that represent navigation headers/groups and navigation links and Site Columns that define the desired custom attributes (e.g., display order).</span></span> <span data-ttu-id="5711d-178">Свойства для обхода для этих столбцов сайта может быть сопоставлен управляемые свойства в рамках поиска SharePoint.</span><span class="sxs-lookup"><span data-stu-id="5711d-178">Crawled Properties for these Site Columns can be mapped to Managed Properties within SharePoint Search.</span></span> <span data-ttu-id="5711d-179">Данные навигации легко управляемых с помощью знакомых страницы Управление списком готовые.</span><span class="sxs-lookup"><span data-stu-id="5711d-179">The navigation data is easily managed via the familiar OOB List Management pages.</span></span> <span data-ttu-id="5711d-180">Навигации данные были доступны в удаленном режиме с помощью API REST поиска SharePoint.</span><span class="sxs-lookup"><span data-stu-id="5711d-180">The navigation data can be accessed remotely via the SharePoint Search REST API.</span></span>

><span data-ttu-id="5711d-181">**Примечание:** Навигация на основе поиска имеет зависимости от индекса поиска.</span><span class="sxs-lookup"><span data-stu-id="5711d-181">**Note:** Search-based navigation has a dependency on the Search Index.</span></span> <span data-ttu-id="5711d-182">SharePoint непрерывно обходит контент портала; Тем не менее по-прежнему будет небольшая задержка перед изменений в списке SharePoint отображаются в индексе поиска.</span><span class="sxs-lookup"><span data-stu-id="5711d-182">SharePoint continuously crawls portal content; however, there will still be a slight delay before changes to the SharePoint List appear in the Search Index.</span></span>

<span data-ttu-id="5711d-183">Хранилище навигации настраиваемых простой и эффективный — файл ресурсов JavaScript (например, nav.js), которая объявляет переменную определенных компонентов (например, footerNav), инициализированный строки JSON.</span><span class="sxs-lookup"><span data-stu-id="5711d-183">The simplest and best-performing custom Navigation Store is a JavaScript resource file (e.g., nav.js) that declares a component-specific configuration variable (e.g., footerNav) that is initialized with a JSON string.</span></span> <span data-ttu-id="5711d-184">Браузер автоматически загружает файл и кэширует его для последующего использования.</span><span class="sxs-lookup"><span data-stu-id="5711d-184">The browser automatically downloads the file and caches it for subsequent use.</span></span>  <span data-ttu-id="5711d-185">Данные конфигурации готов к использованию после загрузки в среде выполнения JavaScript.</span><span class="sxs-lookup"><span data-stu-id="5711d-185">The configuration data is ready for use once it loads into the JavaScript run-time environment.</span></span> <span data-ttu-id="5711d-186">Основной компромиссов при использовании этого подхода касается пользовательского интерфейса управления: как минимум, администратор должен вручную изменить строки JSON в файл JavaScript.</span><span class="sxs-lookup"><span data-stu-id="5711d-186">The primary trade-off with this approach concerns the Management User Interface: at a minimum, an admin must manually edit a JSON string in a JavaScript file.</span></span> <span data-ttu-id="5711d-187">Для выделения хранилища из администратор и сделать более понятное потребуются настраиваемого пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="5711d-187">A custom User Interface would be required to abstract the Store from the admin and make things a bit more friendly.</span></span>

<span data-ttu-id="5711d-188">В конце других спектр пользовательских хранилищах навигации — это база данных.</span><span class="sxs-lookup"><span data-stu-id="5711d-188">At the other end of the spectrum of custom Navigation Stores is the custom database.</span></span> <span data-ttu-id="5711d-189">Этот параметр, обладает максимально гибкость, но также требуется наиболее настраиваемых разработки.</span><span class="sxs-lookup"><span data-stu-id="5711d-189">This option provides the ultimate in flexibility, but also requires the most custom development.</span></span> <span data-ttu-id="5711d-190">Кроме того требуется среды размещения для базы данных, настраиваемые Web API и на страницу управления навигации.</span><span class="sxs-lookup"><span data-stu-id="5711d-190">Additionally, a hosting environment is needed for the database, the custom Web API, and the Navigation Management Page.</span></span> 

><span data-ttu-id="5711d-191">**Примечание:** Пример великолепную, показывающих, как реализовать хранения пользовательских переходов какой уровень доступа к данным со стороны клиента использует доступные из репозитория PnP SharePoint: [Пример со стороны клиента уровень доступа к данным (DAL)](https://github.com/SharePoint/PnP/tree/master/Samples/Portal.DataAccessLayer)</span><span class="sxs-lookup"><span data-stu-id="5711d-191">**Note:** An excellent sample showing how to implement a custom navigation store which uses client-side data access layer is available from the SharePoint PnP repository: [Client-Side Data Access Layer (DAL) Sample](https://github.com/SharePoint/PnP/tree/master/Samples/Portal.DataAccessLayer)</span></span>

<span data-ttu-id="5711d-192">**Сохранение навигации стандартной (готовые):** 
 <a name="bk_oobNavStores"> </a></span><span class="sxs-lookup"><span data-stu-id="5711d-192">**Out-of-Box (OOB) Navigation Stores:**
<a name="bk_oobNavStores"> </a></span></span> 

- <span data-ttu-id="5711d-193">**Готовые управляемой навигации (MMS)**: <a name="bk_managedNavStore"></a> управляемой навигации позволяет использовать набор терминов службы управляемых метаданных (MMS) для настройки узлов навигации для указанного семейства сайтов.</span><span class="sxs-lookup"><span data-stu-id="5711d-193">**OOB Managed Navigation (MMS)**: <a name="bk_managedNavStore"> </a> Managed Navigation allows you to use a Managed Metadata Service (MMS) Term set to configure the navigation nodes for a given site collection.</span></span> <span data-ttu-id="5711d-194">Элементы управления навигацией готовые отображения автоматически используют эти данные.</span><span class="sxs-lookup"><span data-stu-id="5711d-194">OOB Navigation display controls automatically consume this data.</span></span> <span data-ttu-id="5711d-195">Страница управления навигации готовые предоставляет простой в использовании пользовательский интерфейс для управления узлы навигации в иерархии *неограниченное* (неограниченное число уровней).</span><span class="sxs-lookup"><span data-stu-id="5711d-195">The OOB Navigation Management Page provides an easy-to-use user interface to manage the navigation nodes within an *unconstrained* hierarchy (unlimited depth).</span></span> <span data-ttu-id="5711d-196">Пользовательские элементы управления навигацией отображения также могут использовать эти данные, но необходимо сделать с помощью JSOM как это делается в настоящее время не API-Интерфейс REST для работы с управляемой навигации.</span><span class="sxs-lookup"><span data-stu-id="5711d-196">Custom Navigation display controls can also consume this data, but must do so via JSOM as there is currently no REST API available to work with Managed Navigation.</span></span>

    ><span data-ttu-id="5711d-197">**Примечание:** Это очень сложный по настройке и обслуживанию определения глобальных переходов с помощью управляемой навигации.</span><span class="sxs-lookup"><span data-stu-id="5711d-197">**Note:** It is quite cumbersome to configure and maintain a Global Navigation definition via Managed Navigation.</span></span> <span data-ttu-id="5711d-198">Как каждого нового семейства веб-сайтов будет создан необходимо продублировать конфигурации для семейства веб-сайтов, а также набор связанных терминов.</span><span class="sxs-lookup"><span data-stu-id="5711d-198">As each new a site collection is created, you must duplicate the configuration for the site collection and its associated term set.</span></span> <span data-ttu-id="5711d-199">Также следует иметь в виду, управляемой навигации не безопасности выполнялась, поэтому пользователи могут видеть ссылки, в котором они не могут получить доступ к.</span><span class="sxs-lookup"><span data-stu-id="5711d-199">Also keep in mind that managed navigation is not security trimmed, so your users might see links which they cannot access.</span></span>

- <span data-ttu-id="5711d-200">**Готовые структуры навигации (Site)**: <a name="bk_structuralNavStore"></a> структуры навигации позволяет использовать собственный структура семейства веб-сайтов (его веб-сайтов и страниц), а также авторских заголовков и ссылки, чтобы настроить узлы навигации для указанного семейства сайтов.</span><span class="sxs-lookup"><span data-stu-id="5711d-200">**OOB Structural Navigation (Site)**: <a name="bk_structuralNavStore"> </a> Structural Navigation allows you use the native structure of the site collection (its webs and pages), as well as authored headings and links, to configure the navigation nodes for a given site collection.</span></span> <span data-ttu-id="5711d-201">Страница управления навигации готовые предоставляет интерфейс пользователя для управления узлы навигации в иерархии *ограниченное* (ограниченный глубина).</span><span class="sxs-lookup"><span data-stu-id="5711d-201">The OOB Navigation Management Page provides a user interface to manage the navigation nodes within an *constrained* hierarchy (limited depth).</span></span> <span data-ttu-id="5711d-202">Пользовательские элементы управления навигацией отображения также могут использовать эти данные, но необходимо сделать с помощью JSOM как это делается в настоящее время не API-Интерфейс REST для работы с структуры навигации.</span><span class="sxs-lookup"><span data-stu-id="5711d-202">Custom Navigation display controls can also consume this data, but must do so via JSOM as there is currently no REST API available to work with Structural Navigation.</span></span>

    ><span data-ttu-id="5711d-203">**Примечание:** Элементы управления навигацией готовые отображения запросов к базе данных (то есть, содержимое по запросу) используется для получения данных навигации.</span><span class="sxs-lookup"><span data-stu-id="5711d-203">**Note:** The OOB Navigation display controls use database queries (i.e., content by query) to obtain the navigation data.</span></span> <span data-ttu-id="5711d-204">Это делается о загрузке каждой страницы, очень интенсивно для структуры семейства сложных веб-узлов.</span><span class="sxs-lookup"><span data-stu-id="5711d-204">They do this for each page load, which is very resource intensive for complex site collection structures.</span></span> <span data-ttu-id="5711d-205">Только для небольших порталов с помощью структур семейства сайтов простой рекомендуется использовать структуры навигации.</span><span class="sxs-lookup"><span data-stu-id="5711d-205">The use of Structural Navigation is recommended only for small portals with simple site collection structures.</span></span> <span data-ttu-id="5711d-206">Структуры навигации всегда возвращает результаты фильтруются по ролям безопасности.</span><span class="sxs-lookup"><span data-stu-id="5711d-206">Structural navigation is always returning security trimmed results.</span></span>

- <span data-ttu-id="5711d-207">**Индекс поиска готовые (поиск)**: <a name="bk_searchNavStore"></a> поиска, управляемая Навигация позволяет запросов индекса поиска SharePoint для сайтов и страниц, создав соответствующую поисковый запрос.</span><span class="sxs-lookup"><span data-stu-id="5711d-207">**OOB Search index (Search)**: <a name="bk_searchNavStore"> </a> Search driven navigation allows you query SharePoint search index for sites and pages by constructing the proper search query.</span></span> <span data-ttu-id="5711d-208">Нет нет страницы управления навигации готовые и вам потребуется реализовать элементов управления навигацией для использования данных, полученных из поисковых запросов.</span><span class="sxs-lookup"><span data-stu-id="5711d-208">There's no specific OOB navigation management page and you'll need to implement custom navigation display controls to consume the data retrieved from the search queries.</span></span>

    ><span data-ttu-id="5711d-209">**Примечание:** При использовании приложения на основе поиска навигации важно кэширование результатов полученного поиска, как вы не хотите сбора данных для сервера о загрузке каждой страницы.</span><span class="sxs-lookup"><span data-stu-id="5711d-209">**Note:** When using search driven navigation is important that you cache the obtained search results as you don't want to hit the server for each page load.</span></span> <span data-ttu-id="5711d-210">Далее в этой статье клиентских данных уровень доступа к объясняется которого является модель для использования в сочетании с навигации на основе поиска.</span><span class="sxs-lookup"><span data-stu-id="5711d-210">Later in this article the client-side data access layer is explained which is the model to use in combination with search driven navigation.</span></span> <span data-ttu-id="5711d-211">Так же, как структуры навигации на основе навигации поиска защищена, поэтому пользователи не будут отображаться недоставленных ссылки.</span><span class="sxs-lookup"><span data-stu-id="5711d-211">Just like structural navigation the search driven navigation is security trimmed, so your users will not see unreachable links.</span></span> <span data-ttu-id="5711d-212">Недостатком на основе навигации поиска — это уже не для управления порядком возвращенные элементы.</span><span class="sxs-lookup"><span data-stu-id="5711d-212">Downside of search driven navigation is that it's hard to control the order of the returned navigation items.</span></span>


### <a name="navigation-management-page"></a><span data-ttu-id="5711d-213">Страница управления навигации</span><span class="sxs-lookup"><span data-stu-id="5711d-213">Navigation Management Page</span></span>
<span data-ttu-id="5711d-214"><a name="bk_navManagementPage"> </a></span><span class="sxs-lookup"><span data-stu-id="5711d-214"></span></span> 

<span data-ttu-id="5711d-215">Страница управления навигации предоставляет интерфейс пользователя для управления конфигурацией элемент управления навигации в виде понятное.</span><span class="sxs-lookup"><span data-stu-id="5711d-215">The Navigation Management Page provides a user interface to manage the configuration of the navigation control in a user-friendly manner.</span></span>  <span data-ttu-id="5711d-216">Страницы может осуществляться непосредственно, а также из необязательный ссылка на элемент управления навигации (например, ссылку Параметры).</span><span class="sxs-lookup"><span data-stu-id="5711d-216">The page can be accessed directly, as well as from an optional link present on the navigation control (e.g., a Settings link).</span></span> <span data-ttu-id="5711d-217">На странице используются соответствующие интерфейсы API хранилища навигации для выбранного хранилища навигации для управления конфигурацией элемент управления навигации.</span><span class="sxs-lookup"><span data-stu-id="5711d-217">The page uses the appropriate Navigation Store APIs for the chosen Navigation Store to manage the configuration of the navigation control.</span></span>

<span data-ttu-id="5711d-218">Вы можете иметь настраиваемый элемент управления переходами с помощью настраиваемой страницы управления навигации или стандартной (готовые) страницы управления навигации.</span><span class="sxs-lookup"><span data-stu-id="5711d-218">You can choose to have the custom navigation control use either a custom Navigation Management Page or an Out-of-Box (OOB) Navigation Management Page.</span></span> 

<span data-ttu-id="5711d-219">Во многих случаях по умолчанию готовые навигации "Управление" (например, представление списка SharePoint или термин присвоено "Управление"), связанный с выбранной, должно быть достаточно хранилища навигации.</span><span class="sxs-lookup"><span data-stu-id="5711d-219">In many cases, the default OOB Navigation Management Page (e.g., SharePoint List View or Term set Management page) associated with the chosen Navigation Store should suffice.</span></span> <span data-ttu-id="5711d-220">Когда страница по умолчанию не поддерживается, очевидно, что необходимо разработать пользовательскую страницу.</span><span class="sxs-lookup"><span data-stu-id="5711d-220">When a default page is not available, you must obviously develop a custom page.</span></span> <span data-ttu-id="5711d-221">При принятии решения, если существующей страницы по умолчанию является приемлемым или нет, необходимо принять во внимание совокупная стоимость разработки настраиваемой страницы Управление (проектирования, разработки и обслуживания, размещения и обучение пользователей).</span><span class="sxs-lookup"><span data-stu-id="5711d-221">When deciding if the existing default page is acceptable or not, be sure to consider the total cost of developing a custom Management Page (design, development/maintenance, hosting, and user training).</span></span>

<span data-ttu-id="5711d-222">Как правило подхода настраиваемые страницы Управление только в том случае, если параметр по умолчанию не существует, когда страница должна поддерживать реакции пользовательского интерфейса или странице предназначен для работы с ними с помощью представления клиентского доступа пользователей портала (в отличие от представления серверной администрирования).</span><span class="sxs-lookup"><span data-stu-id="5711d-222">As a rule of thumb, pursue custom Management Pages only when a default option does not exist, when the page must support a Responsive UI, or when the page is meant to be consumed via the front-end user view of the Portal (as opposed to the back-end admin view).</span></span>  

### <a name="navigation-store-api"></a><span data-ttu-id="5711d-223">API хранилища навигации</span><span class="sxs-lookup"><span data-stu-id="5711d-223">Navigation Store API</span></span>
<span data-ttu-id="5711d-224"><a name="bk_navStoreApi"> </a></span><span class="sxs-lookup"><span data-stu-id="5711d-224"></span></span> 

<span data-ttu-id="5711d-225">API-Интерфейс навигации хранилище предоставляет программный интерфейс для управления конфигурацией элемент управления навигацией согласованные, безопасным способом.</span><span class="sxs-lookup"><span data-stu-id="5711d-225">The Navigation Store API provides a programmatic interface to manage the configuration of the navigation control in a consistent, secure manner.</span></span>  

<span data-ttu-id="5711d-226">Вы можете иметь настраиваемый элемент управления переходами с помощью пользовательских интерфейсов API хранилища навигации или интерфейса API хранилища навигации стандартной (готовые).</span><span class="sxs-lookup"><span data-stu-id="5711d-226">You can choose to have the custom navigation control use either a custom Navigation Store API or an Out-of-Box (OOB) Navigation Store API.</span></span> <span data-ttu-id="5711d-227">Если вы хотите разработка и развертывание пользовательских интерфейсов API хранилища навигации, ознакомьтесь со следующими рекомендациями:</span><span class="sxs-lookup"><span data-stu-id="5711d-227">If you wish to develop and deploy a custom Navigation Store API, observe the following guidelines:</span></span>

- <span data-ttu-id="5711d-228">Реализация с помощью технологий собственное (ASP.Net Web API 2.0, Node.js,...)</span><span class="sxs-lookup"><span data-stu-id="5711d-228">implement using the technology stack of your choice (ASP.Net Web API 2.0, Node.js,...)</span></span>
- <span data-ttu-id="5711d-229">Размещение API в среде, доступных для Интернета</span><span class="sxs-lookup"><span data-stu-id="5711d-229">host the API in an internet-accessible environment</span></span> 
- <span data-ttu-id="5711d-230">использование общедоступных DNS для разрешения имен</span><span class="sxs-lookup"><span data-stu-id="5711d-230">use Public DNS for name resolution</span></span>
- <span data-ttu-id="5711d-231">протокол SSL и получение SSL-сертификата из общедоступный центр сертификации</span><span class="sxs-lookup"><span data-stu-id="5711d-231">require SSL and obtain the SSL certificate from a Public Certificate Authority</span></span>
- <span data-ttu-id="5711d-232">Разрешить анонимный доступ и обеспечения безопасности API с Azure AD</span><span class="sxs-lookup"><span data-stu-id="5711d-232">enable anonymous access and secure the API with Azure AD</span></span>
- <span data-ttu-id="5711d-233">Реализация поддержки для поддержки междоменных ресурсов (CORS)</span><span class="sxs-lookup"><span data-stu-id="5711d-233">implement support for Cross-Origin Resource Support (CORS)</span></span>

<span data-ttu-id="5711d-234">Для сред клиента .net:</span><span class="sxs-lookup"><span data-stu-id="5711d-234">For .Net client environments:</span></span>

- <span data-ttu-id="5711d-235">целевые API-интерфейсов SharePoint с помощью клиентских объектной модели SharePoint (CSOM или REST)</span><span class="sxs-lookup"><span data-stu-id="5711d-235">target SharePoint APIs via the SharePoint Client-Side Object Model (CSOM or REST)</span></span> 
- <span data-ttu-id="5711d-236">целевые вашей пользовательских интерфейсов API Web с помощью REST</span><span class="sxs-lookup"><span data-stu-id="5711d-236">target your custom Web APIs via REST</span></span>
- <span data-ttu-id="5711d-237">целевые интерфейсов API сторонних производителей с помощью REST (использования SOAP только в случае необходимости)</span><span class="sxs-lookup"><span data-stu-id="5711d-237">target third-party APIs via REST (use SOAP only if necessary)</span></span>

<span data-ttu-id="5711d-238">Для сред клиентского браузера:</span><span class="sxs-lookup"><span data-stu-id="5711d-238">For Browser client environments:</span></span>

- <span data-ttu-id="5711d-239">целевые API-интерфейсов SharePoint с помощью интерфейса API REST SharePoint, (используется JSOM только в случае необходимости)</span><span class="sxs-lookup"><span data-stu-id="5711d-239">target SharePoint APIs via the SharePoint REST APIs (use JSOM only if necessary)</span></span>
    - <span data-ttu-id="5711d-240">Использование междоменной библиотеки, при использовании другого семейства сайтов</span><span class="sxs-lookup"><span data-stu-id="5711d-240">use the Cross-Domain Library if you target a different site collection</span></span>
- <span data-ttu-id="5711d-241">целевые вашей пользовательских интерфейсов API Web с помощью REST</span><span class="sxs-lookup"><span data-stu-id="5711d-241">target your custom Web APIs via REST</span></span>
    - <span data-ttu-id="5711d-242">Использование библиотеки проверки подлинности Azure AD для потока неявных OAuth и JavaScript (ADAL.js)</span><span class="sxs-lookup"><span data-stu-id="5711d-242">use Azure AD Authentication Library for JavaScript (ADAL.js) and Implicit OAuth flow</span></span>
- <span data-ttu-id="5711d-243">целевые интерфейсов API сторонних производителей с помощью REST (или SOAP, при необходимости)</span><span class="sxs-lookup"><span data-stu-id="5711d-243">target third-party APIs via REST (or SOAP if necessary)</span></span>

### <a name="client-side-data-access-layer"></a><span data-ttu-id="5711d-244">Уровень доступа к данным на стороне клиента</span><span class="sxs-lookup"><span data-stu-id="5711d-244">Client-Side Data Access Layer</span></span>
<span data-ttu-id="5711d-245"><a name="bk_clientSideDal"> </a></span><span class="sxs-lookup"><span data-stu-id="5711d-245"></span></span> 

<span data-ttu-id="5711d-246">Уровень доступа к данным со стороны клиента — это настраиваемые платформа JavaScript со стороны клиента, делаются доступными для всех элементов управления настраиваемых отображения со стороны клиента, включая настраиваемые элементы отображения навигации.</span><span class="sxs-lookup"><span data-stu-id="5711d-246">The Client-Side Data Access Layer is a custom client-side JavaScript framework made available to all custom client-side display controls, including the custom Navigation display controls.</span></span>  <span data-ttu-id="5711d-247">Он поддерживает intelligent загрузки шаблонов данных, выделяет сведения о запросах клиент сервер, предоставляет функциональные возможности для сведения к минимуму трафик клиент сервер запросов кэширование данных и улучшает производительность обнаруженных страницы.</span><span class="sxs-lookup"><span data-stu-id="5711d-247">It supports intelligent data loading patterns, abstracts the details of the client-to-server requests, provides data caching functionality to minimize client-to-server request traffic, and improves perceived page performance.</span></span>

<span data-ttu-id="5711d-248">Обратитесь к [статье производительности портала](portal-performance.md) для получения дополнительных сведений о уровень доступа к данным со стороны клиента.</span><span class="sxs-lookup"><span data-stu-id="5711d-248">Please refer to the [Portal Performance article](portal-performance.md) for more information on the Client-Side Data Access Layer.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="5711d-249">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="5711d-249">Additional Resources</span></span>
<span data-ttu-id="5711d-250"><a name="bk_additionalResources"> </a></span><span class="sxs-lookup"><span data-stu-id="5711d-250"></span></span>

- [<span data-ttu-id="5711d-251">Руководство по производительности портала</span><span class="sxs-lookup"><span data-stu-id="5711d-251">Portal performance guidance</span></span>](portal-performance.md)
- [<span data-ttu-id="5711d-252">Параметры навигации для SharePoint Online</span><span class="sxs-lookup"><span data-stu-id="5711d-252">Navigation Options for SharePoint Online</span></span>](https://support.office.com/en-us/article/Navigation-options-for-SharePoint-Online-adb92b80-b342-4ecb-99a1-da2a2b4782eb?ui=en-US&rs=en-US&ad=US)
- [<span data-ttu-id="5711d-253">Обзор управляемой навигации в SharePoint Server 2013</span><span class="sxs-lookup"><span data-stu-id="5711d-253">Overview of managed navigation in SharePoint Server 2013</span></span>](https://technet.microsoft.com/en-us/library/dn194311.aspx)
- [<span data-ttu-id="5711d-254">Уровень доступа к данным со стороны клиента (DAL) и навигации образца</span><span class="sxs-lookup"><span data-stu-id="5711d-254">Client-Side Data Access Layer (DAL) and navigation Sample</span></span>](https://github.com/SharePoint/PnP/tree/master/Samples/Portal.DataAccessLayer)
- [<span data-ttu-id="5711d-255">Интрасеть Starter PnP O365 - сведения о навигации</span><span class="sxs-lookup"><span data-stu-id="5711d-255">PnP O365 Starter Intranet - Navigation details</span></span>](http://thecollaborationcorner.com/2016/08/31/part-4-the-navigation-implementation/#.WNoU5oVOKiM)
- <span data-ttu-id="5711d-256">[ASP.Net Web API 2.0 (en)](https://msdn.microsoft.com/en-us/library/dn448365(v=vs.118))</span><span class="sxs-lookup"><span data-stu-id="5711d-256">[ASP.Net Web API 2.0](https://msdn.microsoft.com/en-us/library/dn448365(v=vs.118))</span></span>
- [<span data-ttu-id="5711d-257">Библиотека проверки подлинности Azure AD для JavaScript</span><span class="sxs-lookup"><span data-stu-id="5711d-257">Azure AD Authentication Library for JavaScript</span></span>](https://github.com/AzureAD/azure-activedirectory-library-for-js)