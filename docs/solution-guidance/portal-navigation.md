---
title: "Проверенные рекомендации для SharePoint Online порталов - решений для навигации"
ms.date: 11/03/2017
ms.openlocfilehash: 4e1f1a2a402a2d12da99d0ea395bf628e41836cd
ms.sourcegitcommit: 65e885f547ca9055617fe0871a13c7fc85086032
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/06/2017
---
# <a name="proven-practices-for-sharepoint-online-portals---navigation-solutions"></a>Проверенные рекомендации для SharePoint Online порталов - решений для навигации

Каждого портала проекта необходимо реализовать решение навигации. В зависимости от требований проекта решения навигации можно использовать только компоненты навигации стандартной (готовые) настраиваемых компонентов навигации и их комбинации готовые и пользовательские компоненты. 

Вне зависимости от выбора, сделанного, остается вопрос: создание высокопроизводительных системы навигации в SharePoint Online? В этой статье приведены ответы на этот вопрос.

>**Примечание**: несмотря на то, что данное руководство в первую очередь относится SharePoint Online, большая часть он также распространяется на порталов, размещенных в локальной среде SharePoint.

_**Применимо к:** SharePoint Online_

## <a name="anti-patterns-in-other-words-dont-do-these-things"></a>Защита от шаблонов (иными словами, не выполнить эти действия)
<a name="bk_antiPatterns"> </a>

Если вы хотите возникновении проблем с портал в целом и навигации решения, в частности, необходимо учитывайте следующие шаблоны защиты от:

- При семейств веб-сайтов портала сложную структуру (нескольких уровень сайтов и/или уникальные разрешения) следует использовать стандартной (готовые) **структуры** навигации сайта  
- Использование пользовательских переходов решения, в котором запрашивается все узлы навигации для всех элементов управления навигацией сразу после загрузки страницы, даже для элементов управления, которые изначально свернут/скрыто
- Использование пользовательских переходов решения, которое не кэширует узлы навигации, она получает
- Использование пользовательских переходов решения, предназначенное для устаревших веб-службы перечислены (SOAP)
    - для дополнительных проблемы передайте ему некоторые плохо сформирован запросы CAML (en)

## <a name="rationale-for-a-custom-navigation-solution"></a>Логическое обоснование для решения пользовательских переходов
<a name="bk_customNavRationale"> </a>

Существует ряд причин, почему портала архитектор может потребоваться разрешения пользовательских переходов. Большинство причинам связаны с тем, что современные макеты портала, выполняет характер и обычно включает навигации функциональных возможностей системы; Таким образом сопоставить предлагаемого разработки в SharePoint в конечном счете невозможно, так как элементы управления навигацией на сервере стандартной (готовые) не может быть настроен в соответствии с требованиями один или несколько предлагаемого проектирования. Выполните конкретные примеры.

- Элемент управления готовые и его UX управления не поддерживает реакции проектирование пользовательского интерфейса
- Элемент управления готовые не соответствуют необходимые модели поведения (всплывающего/меняющейся, меню мегабайт, мультимедиа, отложенной загрузки, и т.д.)
- Готовые управления не поддерживает атрибутов иерархии навигации желаемую (заголовки, группировки, глубина, ограничение ссылок, и т.д.) 
- Готовые управления не поддерживает атрибуты связи желаемую навигации (эскиза, ссылок, публикации начала или окончания, выделение, и т.д.) 
- Элемент управления готовые не или больше не доступен (нижнего колонтитула, цепочки переходов, и т.д.)
- Элемент управления готовые не интегрируется с хранилищ данных навигации custom/прежних версий
- UX управления готовые несогласованные через элементы управления навигацией и не является понятным

При достаточно из причин выстраиваются, примите во внимание настраиваемых решений навигации.

## <a name="youve-decided-to-use-an-out-of-box-oob-navigation-solution"></a>Вы решили использовать решение навигации стандартной (готовые)
<a name="bk_oobNavSolution"> </a>

Для настраиваемых решений навигации определяется обоснование и решили, что эти причинам не выполнены. Хорошо то, что вы можете использовать возможности нужные шаблоны для решения навигации стандартной (готовые).

По сути решения навигации состоит из набора элементов управления навигации, которые получают данные из хранилища навигации. При принятии решения навигации готовые готовые управляемой навигации (описаны далее в этой статье) обычно является предпочтительным выбора для магазина навигации готовые так как он обеспечивает лучшую производительность загрузки страницы. Другие выбор, готовые структурированная навигация (описаны далее в этой статье), предназначенных может оказаться очень ресурсов (особенно для структур семейства сайтов сложных) и результатов в значительно более медленных страницы нагрузки производительности.

## <a name="youve-decided-to-use-a-custom-navigation-solution"></a>Вы решили использовать настраиваемых решений навигации
<a name="bk_customNavSolution"> </a>

Для настраиваемых решений навигации определяется обоснование и принято решение достаточно этим причинам применить. Хорошо то, что вы можете использовать возможности проверенных шаблонов для разработки настраиваемых решений навигации.

Следующей схеме показана логическая архитектура настраиваемых решений навигации:

![Логическая архитектура решения пользовательских переходов](./media/logicalNavSoln.png)

В следующих разделах описываются основные компоненты логической архитектуры:

### <a name="navigation-display-control"></a>Тип элемента управления навигации
<a name="bk_navDisplayControl"> </a> 

Это пользовательского со стороны клиента JavaScript отображения элемента управления, которые находятся на странице. 

Как правило элемент управления запрашивает хранилище навигации при странице загружает обрабатывает ответ данных навигации и отображает компонента навигации (презентация, данных и поведение). На практике, элемент управления должно отслеживать отложенная загрузка шаблона: выполнение запроса данных навигации только при необходимости и отложите то же время.

Тип элемента управления можно добавить к определению статические страницы во время разработки (через главную страницу (необходимо учитывать вопросы, связанные с), макет страницы или веб-части) или его можно добавить в динамической состояние страницы во время выполнения (с помощью метода внедрения JavaScript).

Тип элемента управления использует клиентский уровень доступа к данным (описаны далее в этой статье) для оптимизации производительности страниц.

Тип элемента управления для его навигации "Управление", который предоставляет пользовательский интерфейс для управления конфигурацией элемент управления навигации при необходимости можно указать ссылку Параметры.

**Элементы управления отображением типичного навигации** 
 <a name="bk_navDisplayControls"> </a> 

Ниже приведены некоторые общие рекомендации для различных типов элементов управления навигацией, обычно используется в пользовательских решений навигации:

- **Глобальная Навигация**: реализация настраиваемого элемента управления, предназначенное для сущности конфигурации центра, относящиеся к порталу навигации. Используйте общедоступный кэша для узлов навигации. Рассмотрите возможность страницы Управление готовые.
- **Нижний колонтитул навигации**: реализация настраиваемого элемента управления, предназначенное для сущности конфигурации центра, относящиеся к порталу навигации. Используйте общедоступный кэша для узлов навигации. Рассмотрите возможность страницы Управление готовые.
- **Карта сайта**: реализация настраиваемого элемента управления, предназначенное для сущности конфигурации центра, относящиеся к порталу навигации
- **Текущая структура навигации** (то есть, левом): реализация настраиваемого элемента управления, предназначенное для сущности конфигурации локального, относящиеся к web навигации. Используйте общедоступный кэша для узлов навигации. Рассмотрите возможность страницы Управление готовые.
- **Иерархическая**: *без реализации этой пользовательского элемента управления*; цепи родительского веб-объекты на основании URL-адрес текущего веб-сайта является дорогостоящей операции
- **Полезные ссылки**: реализация настраиваемого элемента управления, предназначенное для сущности конфигурации локального, относящиеся к web навигации. Используйте общедоступный кэша для узлов навигации. Рассмотрите возможность страницы Управление готовые.
- **Мои ссылки**: реализация настраиваемого элемента управления, предназначенное для **закрытого**, сущности конфигурации навигации конкретного пользователя. Используйте **закрытый** кэша для узлов навигации. Предоставление настраиваемой страницы Управление.

### <a name="navigation-store"></a>Хранилище навигации
<a name="bk_navStore"> </a> 

Хранилище навигации сохраняет конфигурацию управления навигацией. Можно установить с помощью настраиваемой навигации хранилища или хранилище навигации стандартной (готовые) элемент управления навигацией.

**Сохранение настраиваемых навигации:** 
 <a name="bk_customNavStores"> </a> 

Чаще всего используется настраиваемый хранилище навигации, настраиваемый список SharePoint, обеспечивает баланс между расширяемости, управляемости и производительности (при запросе посредством поиска). Схема списка можно легко расширенных с помощью настраиваемых типов контента, представляющих навигации заголовков и групп и ссылки для перехода и столбцы сайта, определяющие необходимые настраиваемые атрибуты (например, порядок отображения). Свойства для обхода для этих столбцов сайта может быть сопоставлен управляемые свойства в рамках поиска SharePoint. Данные навигации легко управляемых с помощью знакомых страницы Управление списком готовые. Навигации данные были доступны в удаленном режиме с помощью API REST поиска SharePoint.

>**Примечание:** Навигация на основе поиска имеет зависимости от индекса поиска. SharePoint непрерывно обходит контент портала; Тем не менее по-прежнему будет небольшая задержка перед изменений в списке SharePoint отображаются в индексе поиска.

Хранилище навигации настраиваемых простой и эффективный — файл ресурсов JavaScript (например, nav.js), которая объявляет переменную определенных компонентов (например, footerNav), инициализированный строки JSON. Браузер автоматически загружает файл и кэширует его для последующего использования.  Данные конфигурации готов к использованию после загрузки в среде выполнения JavaScript. Основной компромиссов при использовании этого подхода касается пользовательского интерфейса управления: как минимум, администратор должен вручную изменить строки JSON в файл JavaScript. Для выделения хранилища из администратор и сделать более понятное потребуются настраиваемого пользовательского интерфейса.

В конце других спектр пользовательских хранилищах навигации — это база данных. Этот параметр, обладает максимально гибкость, но также требуется наиболее настраиваемых разработки. Кроме того требуется среды размещения для базы данных, настраиваемые Web API и на страницу управления навигации. 

>**Примечание:** Пример великолепную, показывающих, как реализовать хранения пользовательских переходов какой уровень доступа к данным со стороны клиента использует доступные из репозитория PnP SharePoint: [Пример со стороны клиента уровень доступа к данным (DAL)](https://github.com/SharePoint/PnP/tree/master/Samples/Portal.DataAccessLayer)

**Сохранение навигации стандартной (готовые):** 
 <a name="bk_oobNavStores"> </a> 

- **Готовые управляемой навигации (MMS)**: <a name="bk_managedNavStore"></a> управляемой навигации позволяет использовать набор терминов службы управляемых метаданных (MMS) для настройки узлов навигации для указанного семейства сайтов. Элементы управления навигацией готовые отображения автоматически используют эти данные. Страница управления навигации готовые предоставляет простой в использовании пользовательский интерфейс для управления узлы навигации в иерархии *неограниченное* (неограниченное число уровней). Пользовательские элементы управления навигацией отображения также могут использовать эти данные, но необходимо сделать с помощью JSOM как это делается в настоящее время не API-Интерфейс REST для работы с управляемой навигации.

    >**Примечание:** Это очень сложный по настройке и обслуживанию определения глобальных переходов с помощью управляемой навигации. Как каждого нового семейства веб-сайтов будет создан необходимо продублировать конфигурации для семейства веб-сайтов, а также набор связанных терминов. Также следует иметь в виду, управляемой навигации не безопасности выполнялась, поэтому пользователи могут видеть ссылки, в котором они не могут получить доступ к.

- **Готовые структуры навигации (Site)**: <a name="bk_structuralNavStore"></a> структуры навигации позволяет использовать собственный структура семейства веб-сайтов (его веб-сайтов и страниц), а также авторских заголовков и ссылки, чтобы настроить узлы навигации для указанного семейства сайтов. Страница управления навигации готовые предоставляет интерфейс пользователя для управления узлы навигации в иерархии *ограниченное* (ограниченный глубина). Пользовательские элементы управления навигацией отображения также могут использовать эти данные, но необходимо сделать с помощью JSOM как это делается в настоящее время не API-Интерфейс REST для работы с структуры навигации.

    >**Примечание:** Элементы управления навигацией готовые отображения запросов к базе данных (то есть, содержимое по запросу) используется для получения данных навигации. Это делается о загрузке каждой страницы, очень интенсивно для структуры семейства сложных веб-узлов. Только для небольших порталов с помощью структур семейства сайтов простой рекомендуется использовать структуры навигации. Структуры навигации всегда возвращает результаты фильтруются по ролям безопасности.

- **Индекс поиска готовые (поиск)**: <a name="bk_searchNavStore"></a> поиска, управляемая Навигация позволяет запросов индекса поиска SharePoint для сайтов и страниц, создав соответствующую поисковый запрос. Нет нет страницы управления навигации готовые и вам потребуется реализовать элементов управления навигацией для использования данных, полученных из поисковых запросов.

    >**Примечание:** При использовании приложения на основе поиска навигации важно кэширование результатов полученного поиска, как вы не хотите сбора данных для сервера о загрузке каждой страницы. Далее в этой статье клиентских данных уровень доступа к объясняется которого является модель для использования в сочетании с навигации на основе поиска. Так же, как структуры навигации на основе навигации поиска защищена, поэтому пользователи не будут отображаться недоставленных ссылки. Недостатком на основе навигации поиска — это уже не для управления порядком возвращенные элементы.


### <a name="navigation-management-page"></a>Страница управления навигации
<a name="bk_navManagementPage"> </a> 

Страница управления навигации предоставляет интерфейс пользователя для управления конфигурацией элемент управления навигации в виде понятное.  Страницы может осуществляться непосредственно, а также из необязательный ссылка на элемент управления навигации (например, ссылку Параметры). На странице используются соответствующие интерфейсы API хранилища навигации для выбранного хранилища навигации для управления конфигурацией элемент управления навигации.

Вы можете иметь настраиваемый элемент управления переходами с помощью настраиваемой страницы управления навигации или стандартной (готовые) страницы управления навигации. 

Во многих случаях по умолчанию готовые навигации "Управление" (например, представление списка SharePoint или термин присвоено "Управление"), связанный с выбранной, должно быть достаточно хранилища навигации. Когда страница по умолчанию не поддерживается, очевидно, что необходимо разработать пользовательскую страницу. При принятии решения, если существующей страницы по умолчанию является приемлемым или нет, необходимо принять во внимание совокупная стоимость разработки настраиваемой страницы Управление (проектирования, разработки и обслуживания, размещения и обучение пользователей).

Как правило подхода настраиваемые страницы Управление только в том случае, если параметр по умолчанию не существует, когда страница должна поддерживать реакции пользовательского интерфейса или странице предназначен для работы с ними с помощью представления клиентского доступа пользователей портала (в отличие от представления серверной администрирования).  

### <a name="navigation-store-api"></a>API хранилища навигации
<a name="bk_navStoreApi"> </a> 

API-Интерфейс навигации хранилище предоставляет программный интерфейс для управления конфигурацией элемент управления навигацией согласованные, безопасным способом.  

Вы можете иметь настраиваемый элемент управления переходами с помощью пользовательских интерфейсов API хранилища навигации или интерфейса API хранилища навигации стандартной (готовые). Если вы хотите разработка и развертывание пользовательских интерфейсов API хранилища навигации, ознакомьтесь со следующими рекомендациями:

- Реализация с помощью технологий собственное (ASP.Net Web API 2.0, Node.js,...)
- Размещение API в среде, доступных для Интернета 
- использование общедоступных DNS для разрешения имен
- протокол SSL и получение SSL-сертификата из общедоступный центр сертификации
- Разрешить анонимный доступ и обеспечения безопасности API с Azure AD
- Реализация поддержки для поддержки междоменных ресурсов (CORS)

Для сред клиента .net:

- целевые API-интерфейсов SharePoint с помощью клиентских объектной модели SharePoint (CSOM или REST) 
- целевые вашей пользовательских интерфейсов API Web с помощью REST
- целевые интерфейсов API сторонних производителей с помощью REST (использования SOAP только в случае необходимости)

Для сред клиентского браузера:

- целевые API-интерфейсов SharePoint с помощью интерфейса API REST SharePoint, (используется JSOM только в случае необходимости)
    - Использование междоменной библиотеки, при использовании другого семейства сайтов
- целевые вашей пользовательских интерфейсов API Web с помощью REST
    - Использование библиотеки проверки подлинности Azure AD для потока неявных OAuth и JavaScript (ADAL.js)
- целевые интерфейсов API сторонних производителей с помощью REST (или SOAP, при необходимости)

### <a name="client-side-data-access-layer"></a>Уровень доступа к данным на стороне клиента
<a name="bk_clientSideDal"> </a> 

Уровень доступа к данным со стороны клиента — это настраиваемые платформа JavaScript со стороны клиента, делаются доступными для всех элементов управления настраиваемых отображения со стороны клиента, включая настраиваемые элементы отображения навигации.  Он поддерживает intelligent загрузки шаблонов данных, выделяет сведения о запросах клиент сервер, предоставляет функциональные возможности для сведения к минимуму трафик клиент сервер запросов кэширование данных и улучшает производительность обнаруженных страницы.

Обратитесь к [статье производительности портала](portal-performance.md) для получения дополнительных сведений о уровень доступа к данным со стороны клиента.

## <a name="additional-resources"></a>Дополнительные ресурсы
<a name="bk_additionalResources"> </a>

- [Руководство по производительности портала](portal-performance.md)
- [Параметры навигации для SharePoint Online](https://support.office.com/en-us/article/Navigation-options-for-SharePoint-Online-adb92b80-b342-4ecb-99a1-da2a2b4782eb?ui=en-US&rs=en-US&ad=US)
- [Обзор управляемой навигации в SharePoint Server 2013](https://technet.microsoft.com/en-us/library/dn194311.aspx)
- [Уровень доступа к данным со стороны клиента (DAL) и навигации образца](https://github.com/SharePoint/PnP/tree/master/Samples/Portal.DataAccessLayer)
- [Интрасеть Starter PnP O365 - сведения о навигации](http://thecollaborationcorner.com/2016/08/31/part-4-the-navigation-implementation/#.WNoU5oVOKiM)
- [ASP.Net Web API 2.0 (en)](https://msdn.microsoft.com/en-us/library/dn448365(v=vs.118))
- [Библиотека проверки подлинности Azure AD для JavaScript](https://github.com/AzureAD/azure-activedirectory-library-for-js)