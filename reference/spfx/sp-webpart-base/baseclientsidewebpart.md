# <a name="baseclientsidewebpart-tproperties-class"></a>Класс BaseClientSideWebPart <TProperties>



_Параметры типа: `<TProperties>`_



Этот абстрактный класс реализует основные функции клиентской веб-части. Каждая клиентская веб-часть должна наследоваться от этого класса. Помимо основных функций, этот класс предоставляет некоторые API, которые может использовать веб-часть. Эти API делятся на две категории. API первой категории предоставляют данные и функции. Пример: контекст веб-части (т. е. this.context). Этот API следует использовать для доступа к контекстным данным, относящимся к данному экземпляру веб-части. API второй категории предоставляют базовую реализацию жизненного цикла веб-части. Их можно переопределить для обновления реализации. API render() — это единственный API, который обязательно реализовать или переопределить в веб-части. У всех остальных API жизненного цикла есть базовая реализация. Их можно переопределять в соответствии с потребностями веб-части. Чтобы принять правильное решение, см. документацию по конкретным API.


## <a name="constructor"></a>constructor
Конструктор для класса BaseClientSideWebPart. Если подкласс переопределяет конструктор, он должен вызвать super() как первую строку конструктора. Настоятельно рекомендуем использовать в веб-части API OnInit для специфической инициализации веб-части. Большинство функций веб-частей, таких как this.context и this.properties, невозможно указать до части onInit цикла загрузки веб-части, например "constructor() { super(); …код конструктора для конкретного класса… }".

**Подпись:** _constructor();_

**Что возвращается**: 



#### <a name="parameters"></a>Параметры
Нет


## <a name="properties"></a>Свойства

| Свойство     | Модификатор доступа | Тип | Описание|
|:-------------|:----|:-------|:-----------|
|`accessibleTitle`     | `public` | `string` | Это свойство указывает на доступный заголовок веб-части, с которой могут работать средства чтения с экрана. Базовая реализация возвращает этот используемый по умолчанию заголовок из манифеста. Веб-части, для которых требуется отображение более описательного заголовка (содержащего контекстную информацию), должны переопределять этот API. |
|`canOpenPopupOnRender`     | `public` | `boolean` | _Только для чтения._ Это свойство указывает, может ли веб-часть открывать всплывающее окно при первоначальной отрисовке. В некоторых средах узел часто повторно отрисовывает веб-части, поэтому открытие всплывающих окон во время отрисовки будет неоднократным, что ухудшит впечатления от использования. Например, классические страницы SharePoint выполняют обратную передачу, поэтому страница повторно отрисовывается при каждом нажатии кнопки. Если веб-часть должна открывать всплывающее окно при отрисовке, перед этим действием ей следует использовать данный API. Если этот API возвращает значение false, веб-часть не должна открывать всплывающее окно при первоначальной отрисовке. Некоторые веб-части, открывающие всплывающие окна при отрисовке, служат для внедрения документов или видео. В первом случае они при первоначальной отрисовке открывают средство выбора файлов, во втором — PropertyPane. |
|`context`     | `public` | [`IWebPartContext`](../sp-webpart-base/iwebpartcontext.md) | _Только для чтения._ Это свойство указывает на контекст веб-части. |
|`dataVersion`     | `public` | [`Version`](../sp-core-library/version.md) | _Только для чтения._ Значение этого свойства хранится в сериализованных данных веб-части, что позволяет разработчикам управлять ее версиями. Версия по умолчанию: 1.0. |
|`description`     | `public` | `string` | _Только для чтения._ Описание веб-части. |
|`disableReactivePropertyChanges`     | `public` | `boolean` | _Только для чтения._ Это свойство изменяет взаимодействие PropertyPane веб-части, задавая нереактивное (NonReactive) вместо реактивного (Reactive). Поведение по умолчанию: Reactive. При этом использование Reactive подразумевает, что изменения, внесенные в PropertyPane, передаются в веб-часть сразу же, а пользователь может видеть обновления мгновенно. Это помогает создателю страницы мгновенно получить отзыв и решить, оставлять ли новые изменения конфигурации. Использование NonReactive подразумевает, что изменения конфигурации передаются в веб-часть только после нажатия кнопки применения в PropertyPane. |
|`displayMode`     | `public` | [`DisplayMode`](../sp-core-library/displaymode.md) | _Только для чтения._ Это свойство означает текущий режим отображения веб-части. |
|`domElement`     | `public` | `HTMLElement` | _Только для чтения._ Это свойство указывает на корневой элемент DOM веб-части. Это элемент DIV, содержащий все поддерево DOM веб-части. |
|`isRenderAsync`     | `public` | `boolean` | _Только для чтения._ Указывает, отрисовывается ли веб-часть в асинхронном режиме. Значение по умолчанию — false. Если веб-часть переопределяет это поле, чтобы возвращалось значение true, она должна вызывать API renderCompleted, когда ее отрисовка завершится. |
|`previewImageUrl`     | `public` | `string` | Это свойство указывает на изображение предварительного просмотра для веб-части. В базовой реализации возвращается неопределенное значение. Веб-части, предоставляющие допустимый URL-адрес изображения для предварительного просмотра, должны перезаписывать этот API. Используя URL-адрес изображения предварительного просмотра, можно обеспечить предварительный просмотр веб-части или страницы, на которой находится веб-часть. |
|`properties`     | `public` | `TProperties` | _Только для чтения._ Это свойство указывает на пользовательский контейнер свойств веб-части. |
|`propertiesMetadata`     | `public` | [`IWebPartPropertiesMetadata`](../sp-webpart-base/iwebpartpropertiesmetadata.md) | _Только для чтения._ Это свойство определяет метаданные для контейнера свойств веб-части. С помощью метаданных SharePoint точнее определяет содержимое свойств и обрабатывает данные соответствующим образом. |
|`renderedFromPersistedData`     | `public` | `boolean` | _Только для чтения._ Это свойство указывает, отрисовывается ли веб-часть с использованием сохраненных данных (сериализованное состояние с момента последнего сохранения веб-части). Пример: когда веб-часть добавляется впервые с помощью панели элементов, используется значение false. |
|`renderedOnce`     | `public` | `boolean` | _Только для чтения._ Это свойство указывает, была ли отрисована веб-часть один раз. После первой отрисовки значение этого свойства всегда будет true, пока не произойдет полная повторная отрисовка веб-части. |
|`title`     | `public` | `string` | _Только для чтения._ Заголовок веб-части. |




## <a name="methods"></a>Методы

| Метод       | Модификатор доступа | Что возвращается  | Описание|
|:-------------|:----|:-------|:-----------|
|[`clearError()`](clearerror-baseclientsidewebpart.md)     | `protected` | `void` | Используйте этот API для удаления сообщения об ошибке из области отображения веб-части. |
|[`getPropertyPaneConfiguration()`](getpropertypaneconfiguration-baseclientsidewebpart.md)     | `protected` | [`IPropertyPaneConfiguration`](../sp-webpart-base/ipropertypaneconfiguration.md) | Используйте этот API, чтобы получить конфигурацию для создания области свойств веб-части. Если веб-часть должна использовать для настройки PropertyPane, этот API необходимо переопределить, и веб-часть должна возвращать конфигурацию для PropertyPane. |
|[`onAfterDeserialize(deserializedObject,dataVersion)`](onafterdeserialize-baseclientsidewebpart.md)     | `protected` | `TProperties` | Этот API вызывается после десериализации веб-части в объект, прямо перед заполнением контейнера свойств. Версия по умолчанию: no-op. Разработчик веб-части может переопределить этот API, если десериализованный объект не отражает полностью начальное состояние контейнера свойств. Это позволяет разработчику веб-части заполнить контейнер свойств сразу после десериализации данных в объект. |
|[`onAfterPropertyPaneChangesApplied()`](onafterpropertypanechangesapplied-baseclientsidewebpart.md)     | `protected` | `void` | Этот API вызывается после применения изменений, внесенных в PropertyPane, когда PropertyPane используется в режиме Non-Reactive. Этот API не вызывается, когда PropertyPane используется в режиме Reactive. |
|[`onBeforeSerialize()`](onbeforeserialize-baseclientsidewebpart.md)     | `protected` | `void` | Этот API вызывается перед сериализацией веб-части. Версия по умолчанию: no-op. Разработчик веб-части может переопределить этот API, когда состояние веб-части отражается в контейнере свойств не полностью, т. е. this.properties. Это позволяет разработчику веб-части обновить контейнер свойств прямо перед сериализацией. |
|[`onDisplayModeChanged(oldDisplayMode)`](ondisplaymodechanged-baseclientsidewebpart.md)     | `protected` | `void` | Этот API вызывается при изменении режима отображения веб-части. Версия этого API по умолчанию вызывает метод render, чтобы обновить веб-часть. Если разработчик веб-части не хочет, чтобы после изменения режима отображения происходило полное обновление, он может переопределить этот API и выполнить обновления модели DOM веб-части, чтобы изменить режим отображения. |
|[`onDispose()`](ondispose-baseclientsidewebpart.md)     | `protected` | `void` | Этот API можно использовать, чтобы обновить содержимое PropertyPane. Этот API вызывается в конце работы веб-части на странице. Используйте его, чтобы освободить локальные ресурсы (т. е. элементы DOM), которые удерживает веб-часть. Этот API вызывается, когда пользователь переходит с одной страницы основного приложения на другую, и предыдущая страница освобождается. |
|[`onInit()`](oninit-baseclientsidewebpart.md)     | `protected` | `Promise<void>` | Этот API следует переопределять для выполнения длительных операций, например получения данных от удаленной службы перед начальной отрисовкой веб-части. Во время работы этого метода отображается индикатор загрузки. Этот API вызывается только один раз во время работы веб-части. |
|[`onPropertyPaneConfigurationComplete()`](onpropertypaneconfigurationcomplete-baseclientsidewebpart.md)     | `protected` | `void` | Этот API вызывается после завершения настройки PropertyPane. Он вызывается в следующих случаях: – Когда истекает время CONFIGURATION_COMPLETE_TIMEOUT((текущее значение — 5 секунд) после последнего изменения. – Когда пользователь нажимает кнопку "x" (закрыть) до истечения времени CONFIGURATION_COMPLETE_TIMEOUT. – Когда пользователь нажимает кнопку "Применить" до истечения времени CONFIGURATION_COMPLETE_TIMEOUT. – Когда пользователь открывает другую веб-часть, тогда текущая веб-часть получает это событие. |
|[`onPropertyPaneConfigurationStart()`](onpropertypaneconfigurationstart-baseclientsidewebpart.md)     | `protected` | `void` | Этот API вызывается при запуске настройки PropertyPane. Он вызывается в следующих случаях: – Когда открывается PropertyPane. – Когда пользователь открывает другую веб-часть, тогда новая веб-часть получает это событие. |
|[`onPropertyPaneFieldChanged(propertyPath,oldValue,newValue)`](onpropertypanefieldchanged-baseclientsidewebpart.md)     | `protected` | `void` | Этот API вызывается после обновления нового значения свойства в контейнере свойств, когда PropertyPane используется в режиме Reactive. Базовая версия этого API обновляет веб-часть. |
|[`onPropertyPaneRendered()`](onpropertypanerendered-baseclientsidewebpart.md)     | `protected` | `void` | Этот API вызывается при отрисовке PropertyPane. Мы не рекомендуем разрешать передачу этого обработчика событий и активировать его. Этот API следует объявить устаревшим, а затем удалить в процессе оптимизации. |
|[`render()`](render-baseclientsidewebpart.md)     | `protected` | `void` | Этот API вызывается для отрисовки веб-части. Базовая версия этого API отсутствует, и веб-часть должна переопределять этот API. |
|[`renderCompleted()`](rendercompleted-baseclientsidewebpart.md)     | `protected` | `void` | Этот API должен вызываться веб-частями, которые выполняют асинхронную отрисовку. Эти веб-части должны переопределять API isRenderAsync и возвращать значение true. Пример: веб-части, которые отрисовывают содержимое в окне IFrame. Веб-часть инициирует отрисовку IFrame в API render(), но фактически отрисовка завершается только после загрузки окна iframe. |
|[`renderError(error)`](rendererror-baseclientsidewebpart.md)     | `protected` | `void` | Этот API следует использовать для отображения сообщения об ошибке в области просмотра веб-части. Он также отвечает за запись сообщения об ошибке с помощью средства ведения журнала трассировки. |





