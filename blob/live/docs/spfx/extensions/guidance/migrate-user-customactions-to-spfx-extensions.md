---
title: "Переход с элементов меню ECB и CustomAction на расширения SharePoint Framework"
ms.date: 12/19/2017
ms.prod: sharepoint
ms.openlocfilehash: 50540de75666a8a43697d1f31259713edc06108c
ms.sourcegitcommit: bf4bc1e80c6ef1a0ff479039ef9ae0ee84d5f6b4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/19/2017
---
# <a name="migrating-user-customaction--ecb-menu-items-to-sharepoint-framework-extensions"></a><span data-ttu-id="1521b-102">Переход с элементов меню ECB и CustomAction на расширения SharePoint Framework</span><span class="sxs-lookup"><span data-stu-id="1521b-102">Migrating User CustomAction / ECB menu items to SharePoint Framework Extensions</span></span>

<span data-ttu-id="1521b-103">SharePoint Framework — это новая модель, позволяющая создавать модификации для SharePoint.</span><span class="sxs-lookup"><span data-stu-id="1521b-103">SharePoint Framework is a new model for building SharePoint customizations.</span></span> <span data-ttu-id="1521b-104">Если вы настраивали SharePoint с вовлечением дополнительных действий и меню ECB (Edit Control Block), используя SharePoint Feature Framework, вам может быть интересно узнать о преимуществах их переноса на новую платформу SharePoint Framework.</span><span class="sxs-lookup"><span data-stu-id="1521b-104">If you customized SharePoint with user custom actions and custom ECB (Edit Control Block) menu items using the SharePoint Feature Framework, you might be wondering what are the possible advantages of migrating them to the new SharePoint Framework.</span></span>

<span data-ttu-id="1521b-105">Сначала рассмотрим доступные разработчикам варианты для создания расширений SharePoint Framework.</span><span class="sxs-lookup"><span data-stu-id="1521b-105">First of all, let's introduce the available options when developing SharePoint Framework Extensions:</span></span>

* <span data-ttu-id="1521b-106">**Настройщик приложений**. Расширьте встроенный "современный" пользовательский интерфейс SharePoint Online, добавив пользовательские элементы HTML и клиентский код в заранее определенные заполнители на "современных" страницах.</span><span class="sxs-lookup"><span data-stu-id="1521b-106">**Application Customizer**: extend the native "modern" UI of SharePoint Online by adding custom HTML elements and client-side code to pre-defined placeholders of "modern" pages.</span></span> <span data-ttu-id="1521b-107">На момент написания этой статьи заполнители доступны в верхнем и нижнем колонтитулах каждой "современной" страницы.</span><span class="sxs-lookup"><span data-stu-id="1521b-107">At the time of this writing, the available placeholders are the header and the footer of every "modern" page.</span></span>
* <span data-ttu-id="1521b-108">**Набор команд**. Позволяет добавлять пользовательские пункты меню ECB и настраиваемые кнопки на панель команд или в представление списка или библиотеки.</span><span class="sxs-lookup"><span data-stu-id="1521b-108">**Command Set**: allow to add custom ECB menu items or custom buttons to the command bar of a list view for a list or a library.</span></span> <span data-ttu-id="1521b-109">С этими командами можно связать любое действие JavaScript (TypeScript).</span><span class="sxs-lookup"><span data-stu-id="1521b-109">You can associate any JavaScript (TypeScript) action to these commands.</span></span>
* <span data-ttu-id="1521b-110">**Настройщик полей**. Настройте отображение поля в представлении списка, используя настраиваемые элементы HTML и клиентский код.</span><span class="sxs-lookup"><span data-stu-id="1521b-110">**Field Customizer**: customize the rendering of a field in a list view using custom HTML elements and client-side code.</span></span>

<span data-ttu-id="1521b-111">Выбор варианта зависит от цели настройки.</span><span class="sxs-lookup"><span data-stu-id="1521b-111">Depending on what is the target of your customization, you can leverage any of the above flavors.</span></span>
<span data-ttu-id="1521b-112">Например, **настройщики приложений** могут заменить собой дополнительные действия пользователя.</span><span class="sxs-lookup"><span data-stu-id="1521b-112">For example, the **Application Customizers** are a great replacement for the user custom actions.</span></span>
<span data-ttu-id="1521b-113">Кроме того, **наборы команд** могут заменить собой меню ECB.</span><span class="sxs-lookup"><span data-stu-id="1521b-113">Moreover, the **Command Sets** are an appropriate replacement for the ECB menu items.</span></span>

## <a name="benefit-of-migrating-existing-sharepoint-feature-framework-customizations-to-the-sharepoint-framework"></a><span data-ttu-id="1521b-114">Преимущество переноса в SharePoint Framework уже существующих модификаций SharePoint Feature Framework</span><span class="sxs-lookup"><span data-stu-id="1521b-114">Benefit of migrating existing client-side customizations to the SharePoint Framework</span></span>

<span data-ttu-id="1521b-115">При создании SharePoint Framework учитывались новые "современные" возможности SharePoint, доступные на "современных" сайтах групп и сайтах для общения, на любом устройстве и любой платформе.</span><span class="sxs-lookup"><span data-stu-id="1521b-115">SharePoint Framework have been built thinking about the new SharePoint "modern" experience, which is available in the "modern" team sites and "modern" communication sites, and which targets any device, and any platform.</span></span>

### <a name="the-only-supported-way-of-customizing-no-script-modern-sites"></a><span data-ttu-id="1521b-116">Единственный поддерживаемый способ настройки "современных" сайтов без скриптов</span><span class="sxs-lookup"><span data-stu-id="1521b-116">The only supported way of customizing no-script "modern" sites</span></span> 

<span data-ttu-id="1521b-117">Конечно, одно из основных преимуществ переноса старых модификаций, созданных с помощью SharePoint Feature Framework, в SharePoint Framework — то, что это единственный поддерживаемый способ настройки пользовательского интерфейса современных сайтов.</span><span class="sxs-lookup"><span data-stu-id="1521b-117">For sure, one of the main benefits of migrating an old-school SharePoint Feature Framework customizations to the SharePoint Framework is that it is the only supported technique that you have in modern sites for customizing the UI.</span></span>
<span data-ttu-id="1521b-118">На "современных" сайтах включен флаг no-script, который блокирует выполнение встроенных в страницу скриптов, а также дополнительных действий пользователя, ссылающихся на внешний или встроенный код JavaScript.</span><span class="sxs-lookup"><span data-stu-id="1521b-118">In fact, the "modern" sites have the no-script flag enabled, which avoids executing any scripting embedded into the page, as well as any user custom action, which refers to external JavaScript or to embedded JavaScript.</span></span>
<span data-ttu-id="1521b-119">Таким образом, старые дополнительные действия просто не работают в "современном" пользовательском интерфейсе.</span><span class="sxs-lookup"><span data-stu-id="1521b-119">Thus, the old-school user custom actions simply don't work in the "modern" UI.</span></span> <span data-ttu-id="1521b-120">Кроме того, модификации ECB, созданные с помощью Feature Framework, очень ограничены.</span><span class="sxs-lookup"><span data-stu-id="1521b-120">Moreover, the ECB customizations built using the Feature Framework are really limited.</span></span> <span data-ttu-id="1521b-121">Например, определить можно только элементы ECB, не ссылающиеся на внешний файл JavaScript или не использующие встроенные вызовы JavaScript.</span><span class="sxs-lookup"><span data-stu-id="1521b-121">For example, you can only define ECB items that do not refer to external JavaScript file, or that do not use embedded JavaScript calls.</span></span> <span data-ttu-id="1521b-122">Поэтому, если вы действительно хотите расширить "современный" пользовательский интерфейс, вам необходимо перейти на SharePoint Framework.</span><span class="sxs-lookup"><span data-stu-id="1521b-122">Thus, if you really want to extend the "modern" UI you need to upgrade to the SharePoint Framework.</span></span>

### <a name="easier-access-to-information-in-sharepoint-and-office-365"></a><span data-ttu-id="1521b-123">Удобство доступа к данным в SharePoint и Office 365</span><span class="sxs-lookup"><span data-stu-id="1521b-123">Easier access to information in SharePoint and Office 365</span></span>

<span data-ttu-id="1521b-124">Кроме того, следует учитывать, что в старой модели дополнительных действий пользователя и модификаций ECB было нелегко задействовать контент и данные SharePoint.</span><span class="sxs-lookup"><span data-stu-id="1521b-124">Another really fundamental topic to consider, is that in the old-school model of user custom actions and ECB customizations it was not easy to consume SharePoint content and data.</span></span> <span data-ttu-id="1521b-125">Для этого нужно было использовать JSOM (клиентскую объектную модель SharePoint на JavaScript) или низкоуровневые REST API.</span><span class="sxs-lookup"><span data-stu-id="1521b-125">The only way of doing that was by using JSOM (the JavaScript client-side object model of SharePoint) or low-level REST APIs.</span></span> <span data-ttu-id="1521b-126">Кроме того, полный набор служб Office 365 было практически невозможно задействовать без автономного использования ADAL.JS (библиотеки аутентификации Azure Active Directory для JavaScript) и пользовательского кода JavaScript.</span><span class="sxs-lookup"><span data-stu-id="1521b-126">Moreover, it was almost close to impossible to consume the full set of services of Office 365, unless you autonomously leveraged ADAL.JS (Azure Active Directory Authentication Library for JavaScript) and a bunch of custom JavaScript code.</span></span>
<span data-ttu-id="1521b-127">Сегодня, используя платформу и расширения SharePoint Framework, очень просто задействовать как REST API SharePoint, так и Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="1521b-127">Nowdays, with the SharePoint Framework and  the SharePoint Framework Extensions it is really easy and straightforward to consume both the SharePoint REST API and the Microsoft Graph.</span></span>
<span data-ttu-id="1521b-128">Таким образом, теперь вы можете создавать более мощные решения, которые могут взаимодействовать с полным набором служб Microsoft Office 365.</span><span class="sxs-lookup"><span data-stu-id="1521b-128">Thus, you can now create more powerfull solutions, which can consume and interact with the full ecosystem of services provided by Microsoft Office 365.</span></span>

## <a name="similarities-between-sharepoint-framework-solutions-and-sharepoint-feature-framework-customizations"></a><span data-ttu-id="1521b-129">Сходства решений SharePoint Framework и модификаций SharePoint Feature Framework</span><span class="sxs-lookup"><span data-stu-id="1521b-129">Similarities between SharePoint Framework solutions and SharePoint Feature Framework customizations</span></span>

<span data-ttu-id="1521b-130">Тем не менее, у дополнительных действий пользователя SharePoint Feature Framework, элементов ECB и модификаций SharePoint Feature Framework есть некоторые сходства.</span><span class="sxs-lookup"><span data-stu-id="1521b-130">Nevertheless, both the SharePoint Feature Framework user custom actions and ECB items, and the SharePoint Feature Framework customizations share some similarities.</span></span> 

### <a name="provisioning-model"></a><span data-ttu-id="1521b-131">Модель подготовки</span><span class="sxs-lookup"><span data-stu-id="1521b-131">Provisioning model</span></span>

<span data-ttu-id="1521b-132">Для расширений SharePoint Framework, а также для дополнительных действий пользователя или меню ECB используется XML-файл манифеста, написанный с помощью синтаксиса SharePoint Feature Framework.</span><span class="sxs-lookup"><span data-stu-id="1521b-132">Both SharePoint Framework Extensions and user custom action or ECB menu item solutions leverage an XML manifest file, which is written with the SharePoint Feature Framework syntax, almost.</span></span> <span data-ttu-id="1521b-133">Таким образом, развертывание основано на одинаковых методах.</span><span class="sxs-lookup"><span data-stu-id="1521b-133">Thus, the deployment is based on the same tecniques.</span></span>

### <a name="run-as-a-part-of-the-page"></a><span data-ttu-id="1521b-134">Выполнение как части страницы</span><span class="sxs-lookup"><span data-stu-id="1521b-134">Run as a part of the page</span></span>

<span data-ttu-id="1521b-135">Точно так же, как дополнительные действия пользователя и меню ECB SharePoint Feature Framework, расширения SharePoint Framework являются частью страницы.</span><span class="sxs-lookup"><span data-stu-id="1521b-135">Similarly to user custom actions and ECB of SharePoint Feature Framework, SharePoint Framework Extensions are a part of the page.</span></span> <span data-ttu-id="1521b-136">Благодаря этому у таких решений есть доступ к модели DOM страницы и возможность взаимодействовать с другими компонентами на этой странице.</span><span class="sxs-lookup"><span data-stu-id="1521b-136">This gives these solutions access to the page's DOM and allows them to communicate with other components on the same page.</span></span> <span data-ttu-id="1521b-137">Кроме того, это помогает разработчикам создавать решения, которые адаптируются к различным форм-факторам, в которых может отображаться страница SharePoint, включая мобильное приложение SharePoint.</span><span class="sxs-lookup"><span data-stu-id="1521b-137">Similarly to customizations embedded in and Script Editor Web Parts, SharePoint Framework solutions are a part of the page. This gives these solutions access to the page's DOM and allows them to communicate with other components on the same page. Also, it allows developers to more easily make their solutions responsive to adapt to the different form factors on which a SharePoint page could be displayed, including the SharePoint mobile app.</span></span>
<span data-ttu-id="1521b-138">Так как расширения SharePoint Framework выполняются как часть страницы, другим элементам на странице доступны те же ресурсы, что и модификации.</span><span class="sxs-lookup"><span data-stu-id="1521b-138">Based on the fact that SharePoint Framework Extensions run as part of the page, whatever resources the particular customization has access to, other elements on the page can access as well.</span></span> <span data-ttu-id="1521b-139">Это важно учитывать при создании решений, использующих неявный поток OAuth с маркерами доступа носителя, файлы cookie или хранилище браузера для хранения конфиденциальной информации.</span><span class="sxs-lookup"><span data-stu-id="1521b-139">This is important to keep in mind when building solutions that rely on OAuth implicit flow with bearer access tokens or use cookies or browser storage for storing sensitive information.</span></span> <span data-ttu-id="1521b-140">Так как расширения SharePoint Framework выполняются как часть страницы, другим элементам этой страницы также доступны все эти ресурсы.</span><span class="sxs-lookup"><span data-stu-id="1521b-140">Because SharePoint Framework Extensions run as a part of the page, other elements on that page are able to access all these resources as well.</span></span>

### <a name="use-any-library-to-build-your-extensions"></a><span data-ttu-id="1521b-141">Создание расширений с использованием любой библиотеки</span><span class="sxs-lookup"><span data-stu-id="1521b-141">Use any library to build your web part</span></span>

<span data-ttu-id="1521b-142">При создании модификаций для страниц с вовлечением дополнительных действий вы могли использовать такие библиотеки, как jQuery и Knockout, чтобы модификации были более динамичными и лучше взаимодействовали с пользователем.</span><span class="sxs-lookup"><span data-stu-id="1521b-142">When building pages customizations using user custom actions you might have used libraries such as jQuery or Knockout to make your customization dynamic and better respond to user interaction.</span></span> <span data-ttu-id="1521b-143">При создании расширений SharePoint Framework вы можете совершенствовать свои решения, применяя любую клиентскую библиотеку, как и раньше.</span><span class="sxs-lookup"><span data-stu-id="1521b-143">When building SharePoint Framework Extensions you can use any client-side library to enrich your solution, the same way you would have done it in the past.</span></span> <span data-ttu-id="1521b-144">Еще одно преимущество SharePoint Framework — изоляция скрипта.</span><span class="sxs-lookup"><span data-stu-id="1521b-144">Additional benefit that the SharePoint Framework offers you, is isolation of your script.</span></span> <span data-ttu-id="1521b-145">Несмотря на то что веб-часть выполняется как часть страницы, ее скрипт упаковывается в виде модуля, который, к примеру, позволяет различным расширениям на одной странице использовать разные версии jQuery, не конфликтуя друг с другом.</span><span class="sxs-lookup"><span data-stu-id="1521b-145">Even though the web part is executed as a part of the page, its script is packaged as a module allowing for example different extensions on the same page to use a different version of jQuery without colliding with each other.</span></span> <span data-ttu-id="1521b-146">Благодаря этой полезной функции вы можете сосредоточиться на коммерческой ценности решения, а не на технических особенностях миграции и компромиссах, связанных с функциональностью.</span><span class="sxs-lookup"><span data-stu-id="1521b-146">This is a powerful feature that allows you to focus on delivering business value instead of technical migrations and compromising on functionality.</span></span>

### <a name="run-as-the-current-user"></a><span data-ttu-id="1521b-147">Запуск от имени текущего пользователя</span><span class="sxs-lookup"><span data-stu-id="1521b-147">Run as the current user</span></span>

<span data-ttu-id="1521b-148">В модификациях, созданных с использованием дополнительных действий пользователя и меню ECB, для связи с SharePoint достаточно было вызвать API.</span><span class="sxs-lookup"><span data-stu-id="1521b-148">In customizations built using user custom actions and ECB menu items, whenever you needed to communicate with SharePoint, all you had to do was to call its API.</span></span> <span data-ttu-id="1521b-149">Клиентское решение работало в браузере в контексте текущего пользователя, а благодаря автоматической отправке с запросом файла cookie для аутентификации решение могло подключаться к SharePoint напрямую.</span><span class="sxs-lookup"><span data-stu-id="1521b-149">The client-side solution was running in the browser in the context of the current user, and by automatically sending the authentication cookie along with the request, your solution could directly connect to SharePoint.</span></span> <span data-ttu-id="1521b-150">Для связи с SharePoint не требовалось дополнительной проверки подлинности, как, например, при использовании надстроек SharePoint.</span><span class="sxs-lookup"><span data-stu-id="1521b-150">No additional authentication, like when using SharePoint add-ins, was necessary to communicate with SharePoint.</span></span> <span data-ttu-id="1521b-151">Такой же механизм применяется к модификациям на платформе SharePoint Framework, которые также работают в контексте текущего пользователя, поэтому для связи с SharePoint им не требуется дополнительных операций проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="1521b-151">The same mechanism applies to customizations built on the SharePoint Framework, that also run under the context of the currently authenticated user and also don't require any additional authentication steps in order to communicate with SharePoint.</span></span>

<span data-ttu-id="1521b-152">Конечно, контекст безопасности будет определяться одним из подключенных пользователей, поэтому будьте осторожны при установке расширений SharePoint Framework в целевых семействах веб-сайтов.</span><span class="sxs-lookup"><span data-stu-id="1521b-152">Of course, the security context will be the one of the currently connected user, which implies that from a security perspective you need to be careful when installing any SharePoint Framework Extension in any target site collection.</span></span>

### <a name="use-only-client-side-code"></a><span data-ttu-id="1521b-153">Использование клиентского кода</span><span class="sxs-lookup"><span data-stu-id="1521b-153">Use only client-side code</span></span>

<span data-ttu-id="1521b-154">Как расширения SharePoint Framework, так и дополнительные действия пользователя и меню ECB выполняются в браузере и могут содержать только клиентский код JavaScript.</span><span class="sxs-lookup"><span data-stu-id="1521b-154">Both SharePoint Framework Extensions and user custom action or ECB menu item solutions run in the browser and can contain only client-side JavaScript code.</span></span> <span data-ttu-id="1521b-155">У клиентских решений есть ряд ограничений. Например, они не могут повышать разрешения в SharePoint и подключаться ко внешним API, не поддерживающим связь между источниками (CORS) и аутентификацию с помощью неявного потока OAuth.</span><span class="sxs-lookup"><span data-stu-id="1521b-155">Both SharePoint Framework and Script Editor Web Part solutions run in the browser and can contain only client-side JavaScript code. Client-side solutions have a number of limitations, such as not being able to elevate permissions in SharePoint or reach out to external APIs that don't support cross-origin communication (CORS) or authentication using OAuth implicit flow. In such cases, the client-side solution could leverage a remote server-side API to perform the necessary operation and return the results to the client.</span></span> <span data-ttu-id="1521b-156">В таких случаях клиентское решение может использовать удаленный серверный API, чтобы выполнить необходимую операцию и вернуть результаты клиенту.</span><span class="sxs-lookup"><span data-stu-id="1521b-156">In such cases, the client-side solution could leverage a remote server-side API to perform the necessary operation and return the results to the client.</span></span>

### <a name="hosting-model-self-consistent-and-based-on-office-365"></a><span data-ttu-id="1521b-157">Модель размещения непротиворечива и основана на Office 365</span><span class="sxs-lookup"><span data-stu-id="1521b-157">Hosting model self-consistent and based on Office 365</span></span>

<span data-ttu-id="1521b-158">Как расширения SharePoint Framework, так и дополнительные действия пользователя и меню ECB можно размещать в SharePoint Online, в сети доставки содержимого Office 365 (для этого не нужны внешние службы или среда внешнего размещения).</span><span class="sxs-lookup"><span data-stu-id="1521b-158">Both SharePoint Framework Extensions and user custom action or ECB menu item solutions can be hosted in SharePoint Online, and eventually in the Office 365 CDN service, avoiding any need for external services or hosting environment.</span></span>

<span data-ttu-id="1521b-159">Хотя размещение решений SharePoint Framework в сети CDN имеет ряд преимуществ, оно необязательно, и вы можете разместить код решений в обычной библиотеке документов SharePoint.</span><span class="sxs-lookup"><span data-stu-id="1521b-159">While hosting SharePoint Framework solutions on a CDN offers a number of advantages, it is not required, and you could choose to host their code in a regular SharePoint document library.</span></span> <span data-ttu-id="1521b-160">Пакеты SharePoint Framework (SPPKG-файлы), развернутые в каталоге приложений, задают URL-адрес, по которому SharePoint Framework может найти код решения.</span><span class="sxs-lookup"><span data-stu-id="1521b-160">SharePoint Framework packages (.sppkg files) deployed to the App Catalog specify the URL at which SharePoint Framework can find the solution's code.</span></span> <span data-ttu-id="1521b-161">Этот URL-адрес может быть каким угодно при условии, что пользователь, просматривающий страницу с расширением, может скачать скрипт из указанного расположения.</span><span class="sxs-lookup"><span data-stu-id="1521b-161">There are no restrictions with regards to what that URL must be, as long as the user browsing the page with the extension on it, can download the script from the specified location.</span></span>
<span data-ttu-id="1521b-162">Office 365 позволяет публиковать в сети CDN файлы из определенной библиотеки документов SharePoint.</span><span class="sxs-lookup"><span data-stu-id="1521b-162">Office 365 offers the public CDN capability that allows you to publish files from a specific SharePoint document library to a CDN.</span></span> <span data-ttu-id="1521b-163">Общедоступные сети CDN Office 365 сочетают в себе преимущества использования сетей CDN и простоту размещения файлов с кодом в библиотеке документов SharePoint.</span><span class="sxs-lookup"><span data-stu-id="1521b-163">Office 365 public CDN strikes a nice balance between the benefits of using a CDN and the simplicity of hosting code files in a SharePoint document library.</span></span> <span data-ttu-id="1521b-164">Если общедоступность файлов с кодом не является проблемой для организации, рекомендуем использовать общедоступную сеть CDN Office 365.</span><span class="sxs-lookup"><span data-stu-id="1521b-164">If your organization doesn't mind their code files being publicly available, using the Office 365 public CDN is an option worth considering.</span></span>

## <a name="differences-between-sharepoint-framework-solutions-and-sharepoint-feature-framework-customizations"></a><span data-ttu-id="1521b-165">Различия решений SharePoint Framework и модификаций SharePoint Feature Framework</span><span class="sxs-lookup"><span data-stu-id="1521b-165">Differences between SharePoint Framework solutions and SharePoint Feature Framework customizations</span></span>

<span data-ttu-id="1521b-166">Однако между двумя моделями разработки также существуют различия, которые необходимо учитывать при создании архитектуры решений.</span><span class="sxs-lookup"><span data-stu-id="1521b-166">However, between the two development models there are also some significant differences, which you should take into account when designing the architecture of your solutions.</span></span>

### <a name="run-in-no-script-sites"></a><span data-ttu-id="1521b-167">Работа на сайтах без скриптов</span><span class="sxs-lookup"><span data-stu-id="1521b-167">Run in no-script sites</span></span>

<span data-ttu-id="1521b-168">Решения SharePoint Framework, в том числе расширения, развертываются через каталог приложений с предварительным утверждением, поэтому на них не распространяются ограничения работы без скриптов. Эти решения работают на всех "современных" сайтах.</span><span class="sxs-lookup"><span data-stu-id="1521b-168">Because SharePoint Framework solutions are deployed through the app catalog with a prior approval, they are not subject to the no-script restrictions and work on all sites.</span></span>

### <a name="pre-defined-set-of-extensibility-points"></a><span data-ttu-id="1521b-169">Предопределенный набор точек расширяемости</span><span class="sxs-lookup"><span data-stu-id="1521b-169">Pre-defined set of extensibility points</span></span>

<span data-ttu-id="1521b-170">Дополнительное действие пользователя может внедрять код JavaScript, который может обновлять или изменять модель DOM любой части страницы, а расширение SharePoint Framework, такое как настройщик приложений, может настраивать только верхний и нижний колонтитулы "современной" страницы (на момент написания этой статьи).</span><span class="sxs-lookup"><span data-stu-id="1521b-170">While a user custom action can embed JavaScript code which can update or literally change the DOM of any part of thhe page, a SharePoint Framework Extension like an Application Customizer can only customize, at the time of this writing, the header and/or the footer of any "modern" page.</span></span>

<span data-ttu-id="1521b-171">Теоретически вы можете создать настройщик приложений, который с помощью модели DOM полностью изменит структуру страницы, как было в случае дополнительных действий пользователя.</span><span class="sxs-lookup"><span data-stu-id="1521b-171">Theoretically you could create an Application Customizer that using DOM can completely change the structure of a page, as like as it was with user custom actions.</span></span> <span data-ttu-id="1521b-172">Тем не менее, в SharePoint Framework доступен более структурированный и надежный подход к настройке SharePoint.</span><span class="sxs-lookup"><span data-stu-id="1521b-172">SharePoint Framework encourages a more structured and reliable approach to customizing SharePoint.</span></span> <span data-ttu-id="1521b-173">SharePoint Framework содержит специальные обработчики и заполнители для настройки SharePoint. Используйте их, а не элементы DOM.</span><span class="sxs-lookup"><span data-stu-id="1521b-173">Rather than using specific DOM elements to customize SharePoint, SharePoint Framework provides developers with specific hooks and placeholders for customizations, and you should use them only.</span></span>

### <a name="use-typescript-for-building-more-robust-and-easier-to-maintain-solution"></a><span data-ttu-id="1521b-174">Использование TypeScript для создания надежного и простого в обслуживании решения</span><span class="sxs-lookup"><span data-stu-id="1521b-174">Use TypeScript for building more robust and easier to maintain solution</span></span>

<span data-ttu-id="1521b-175">При создании модификаций с вовлечением дополнительных действий пользователя и меню ECB разработчики часто использовали обычный код JavaScript.</span><span class="sxs-lookup"><span data-stu-id="1521b-175">When building customizations using the user custom actions or the ECB menu items, developers often used plain JavaScript.</span></span> <span data-ttu-id="1521b-176">Зачастую такие решения не предусматривали наличия автоматических проверок, что могло приводить к ошибкам при рефакторинге.</span><span class="sxs-lookup"><span data-stu-id="1521b-176">When building customizations using the Script Editor Web Part, citizen developers often used plain JavaScript. Often such solutions didn't contain any automated tests and refactoring the code was error-prone.</span></span>
<span data-ttu-id="1521b-177">SharePoint Framework позволяет разработчикам использовать систему типов TypeScript при создании решений.</span><span class="sxs-lookup"><span data-stu-id="1521b-177">SharePoint Framework allows developers to benefit of the TypeScript type system when building solutions.</span></span> <span data-ttu-id="1521b-178">Благодаря системе типов вы можете находить ошибки во время разработки, а не во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="1521b-178">Thanks to the type system, errors are caught during development rather than on runtime.</span></span> <span data-ttu-id="1521b-179">Кроме того, рефакторинг стал проще, так как TypeScript защищает изменения кода.</span><span class="sxs-lookup"><span data-stu-id="1521b-179">Also, refactoring code can be done more easily as changes to the code are safeguarded by TypeScript.</span></span> <span data-ttu-id="1521b-180">Так как любой код JavaScript является допустимым кодом TypeScript, переход не вызовет особых затруднений. Вы можете перенести обычный код JavaScript в TypeScript, постепенно расширяя возможности поддержки решений.</span><span class="sxs-lookup"><span data-stu-id="1521b-180">Because all JavaScript is valid TypeScript, the entry barrier is low and you can migrate your plain JavaScript to TypeScript gradually over time, increasing the maintainability of your solutions.</span></span>

### <a name="no-access-to-sharepoint-javascript-object-model-by-default"></a><span data-ttu-id="1521b-181">Отсутствие доступа к объектной модели JavaScript SharePoint по умолчанию</span><span class="sxs-lookup"><span data-stu-id="1521b-181">No access to SharePoint JavaScript Object Model by default</span></span>

<span data-ttu-id="1521b-182">При создании клиентских модификаций для классического пользовательского интерфейса SharePoint многие разработчики применяли объектную модель JavaScript (JSOM) для взаимодействия с SharePoint.</span><span class="sxs-lookup"><span data-stu-id="1521b-182">When building client-side customizations for the classic SharePoint user experience, many developers used the JavaScript Object Model (JSOM) to communicate with SharePoint.</span></span> <span data-ttu-id="1521b-183">Модель JSOM предоставляла функцию IntelliSense и удобный доступ к API SharePoint подобно клиентской объектной модели (CSOM).</span><span class="sxs-lookup"><span data-stu-id="1521b-183">JSOM offered them intellisense and easy access to the SharePoint API in a way similar to the Client-Side Object Model (CSOM).</span></span> <span data-ttu-id="1521b-184">На классических страницах SharePoint основной компонент модели JSOM по умолчанию присутствовал на странице, а разработчики могли загружать дополнительные компоненты, например для взаимодействия со службой поиска SharePoint.</span><span class="sxs-lookup"><span data-stu-id="1521b-184">In classic SharePoint pages, the core piece of JSOM was by default present on the page, and developers could load additional pieces to for example communicate with SharePoint Search.</span></span>
<span data-ttu-id="1521b-185">Современный пользовательский интерфейс SharePoint по умолчанию не включает модель SharePoint JSOM.</span><span class="sxs-lookup"><span data-stu-id="1521b-185">The modern SharePoint user experience doesn't include SharePoint JSOM by default.</span></span> <span data-ttu-id="1521b-186">Хотя разработчики могут загружать ее самостоятельно, рекомендуем использовать REST API или основную библиотеку JavaScript SharePoint PnP (JS PnP), которая использует REST API SharePoint на внутреннем уровне.</span><span class="sxs-lookup"><span data-stu-id="1521b-186">While developers can load it themselves, the recommendation is to use the REST API instead, or the SharePoint Patterns and Practices JavaScript Core Library (PnP JS Library), which internally uses the SharePoint REST API.</span></span> <span data-ttu-id="1521b-187">Модель REST более универсальна и поддерживается в различных клиентских библиотеках, таких как jQuery, Angular и React.</span><span class="sxs-lookup"><span data-stu-id="1521b-187">Using REST is more universal and interchangeable between the different client-side libraries such as jQuery, Angular or React.</span></span>
<span data-ttu-id="1521b-188">Корпорация Майкрософт больше не занимается разработкой модели JSOM.</span><span class="sxs-lookup"><span data-stu-id="1521b-188">Microsoft is not actively investing in JSOM anymore.</span></span> <span data-ttu-id="1521b-189">Если вы предпочитаете работать с API, можете использовать библиотеку JS PnP, которая содержит удобный API и определения типов TypeScript.</span><span class="sxs-lookup"><span data-stu-id="1521b-189">If you prefer working with an API, you could alternatively use the SharePoint Patterns and Practices JavaScript Core Library which offers you a fluent API and TypeScript typings.</span></span>

## <a name="migrate-existing-customization-to-the-sharepoint-framework-extensions"></a><span data-ttu-id="1521b-190">Перенос существующих модификаций в расширения SharePoint Framework</span><span class="sxs-lookup"><span data-stu-id="1521b-190">Migrate existing customization to the SharePoint Framework</span></span>

<span data-ttu-id="1521b-191">Перенос существующих модификаций в расширения SharePoint Framework дает ряд преимуществ как пользователям, так и разработчикам.</span><span class="sxs-lookup"><span data-stu-id="1521b-191">Migrating existing customizations to the SharePoint Framework Extensions offers both end-users and developers a number of benefits.</span></span> <span data-ttu-id="1521b-192">Вы можете либо повторно использовать как можно больше существующих скриптов JavaScript, либо полностью переписать модификацию, используя TypeScript.</span><span class="sxs-lookup"><span data-stu-id="1521b-192">Migrating existing Script Editor Web Part customizations to the SharePoint Framework offers both end-users and developers a number of benefits. When considering migrating existing customizations to the SharePoint Framework you can either choose to reuse as much of the existing scripts as possible or to completely rewrite the customization.</span></span>

### <a name="reuse-existing-scripts"></a><span data-ttu-id="1521b-193">Повторное использование существующих сценариев</span><span class="sxs-lookup"><span data-stu-id="1521b-193">Reuse existing scripts</span></span>

<span data-ttu-id="1521b-194">При переносе существующих модификаций в расширения SharePoint Framework вы можете использовать существующие скрипты.</span><span class="sxs-lookup"><span data-stu-id="1521b-194">When migrating existing customizations to the SharePoint Framework Extensions you can choose to reuse your existing scripts.</span></span> <span data-ttu-id="1521b-195">Несмотря на то что платформа SharePoint Framework ориентирована на TypeScript, вы можете использовать обычный код JavaScript и постепенно преобразовывать его в TypeScript.</span><span class="sxs-lookup"><span data-stu-id="1521b-195">Even though the SharePoint Framework encourages using TypeScript, you can perfectly well use plain JavaScript and gradually transform it to TypeScript.</span></span> <span data-ttu-id="1521b-196">Для краткосрочной поддержки определенного решения или в условиях ограниченного бюджета этого может быть достаточно.</span><span class="sxs-lookup"><span data-stu-id="1521b-196">If you need to support a particular solution for a limited period of time or have a limited budget, this approach might be good enough for you.</span></span>

<span data-ttu-id="1521b-197">Однако в решениях SharePoint Framework не всегда можно повторно использовать существующие скрипты.</span><span class="sxs-lookup"><span data-stu-id="1521b-197">Reusing existing scripts in a SharePoint Framework solution is not always possible.</span></span> <span data-ttu-id="1521b-198">Например, учитывая разнообразие библиотек JavaScript, сложно сказать заранее, можно ли будет использовать существующие скрипты в решении SharePoint Framework или все-таки придется переписывать их.</span><span class="sxs-lookup"><span data-stu-id="1521b-198">Given the variety of JavaScript libraries, there is no easy way to tell upfront if your existing scripts can be reused in a SharePoint Framework solution or if you will need to rewrite it after all. The only way to determine this, is by trying to move the different pieces to a SharePoint Framework solution and see if they work as expected.</span></span> <span data-ttu-id="1521b-199">Единственный способ узнать это — пробовать перемещать разные компоненты в решение SharePoint Framework и проверять их работу.</span><span class="sxs-lookup"><span data-stu-id="1521b-199">Given the variety of JavaScript libraries, there is no easy way to tell upfront if your existing scripts can be reused in a SharePoint Framework solution or if you will need to rewrite it after all. The only way to determine this, is by trying to move the different pieces to a SharePoint Framework solution and see if they work as expected.</span></span>

### <a name="rewrite-the-customization"></a><span data-ttu-id="1521b-200">Повторное создание модификации</span><span class="sxs-lookup"><span data-stu-id="1521b-200">Rewrite the customization</span></span>

<span data-ttu-id="1521b-p119">Если вам нужны дополнительные возможности SharePoint Framework, долгосрочная поддержка решения или существующие скрипты невозможно использовать в SharePoint Framework, необходимо полностью переписать модификацию. Хотя это дороже, чем использовать существующие скрипты, в долгосрочной перспективе это более эффективно. Такое решение будет лучше работать, и его будет проще обслуживать и использовать.</span><span class="sxs-lookup"><span data-stu-id="1521b-p119">If you need to support your solution for a longer period of time, would like to make better use of the SharePoint Framework or if it turns out that your existing scripts cannot be reused with the SharePoint Framework, you might need to completely rewrite your customization. While it's more costly than reusing existing scripts, it offers you better results over a longer period of time: a solution that is better performing, easier to maintain and to use.</span></span>

<span data-ttu-id="1521b-203">Переписывая существующую модификацию для SharePoint Framework, для начала следует задуматься о необходимых функциях.</span><span class="sxs-lookup"><span data-stu-id="1521b-203">When rewriting an existing customization to a SharePoint Framework solution, you should start with the desired functionality in mind.</span></span> <span data-ttu-id="1521b-204">Для реализации пользовательского интерфейса советуем использовать Office UI Fabric, чтобы решение выглядело как неотъемлемая часть SharePoint.</span><span class="sxs-lookup"><span data-stu-id="1521b-204">For implementing the user experience you should consider using the Office UI Fabric so that your solution looks like an integral part of SharePoint.</span></span> 

## <a name="more-information"></a><span data-ttu-id="1521b-205">Дополнительные сведения</span><span class="sxs-lookup"><span data-stu-id="1521b-205">More information</span></span>

<span data-ttu-id="1521b-206">Другие сведения о переходе с дополнительных действий пользователя и меню ECB на расширения SharePoint Framework приведены в следующих руководствах:</span><span class="sxs-lookup"><span data-stu-id="1521b-206">For further information about how to migrate from user custom actions and custom ECB (Edit Control Block) menu items to SharePoint Framework Extensions you can read the following tutorials:</span></span>

* <span data-ttu-id="1521b-207">[Переход с UserCustomAction на расширения SharePoint Framework](./migrate-from-usercustomactions-to-spfx-extensions.md);</span><span class="sxs-lookup"><span data-stu-id="1521b-207">[Migrating from UserCustomAction to SharePoint Framework Extensions](./migrate-from-usercustomactions-to-spfx-extensions.md)</span></span>
* <span data-ttu-id="1521b-208">[Переход с меню Edit Control Block (ECB) на расширения SharePoint Framework](./migrate-from-ecb-to-spfx-extensions.md).</span><span class="sxs-lookup"><span data-stu-id="1521b-208">[Migrating from Edit Control Block (ECB) menu item to SharePoint Framework Extensions](./migrate-from-ecb-to-spfx-extensions.md)</span></span>