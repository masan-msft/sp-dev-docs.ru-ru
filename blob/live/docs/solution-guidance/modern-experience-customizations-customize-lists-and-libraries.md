---
title: "Настройка «современный» списки и библиотеки"
description: "Получите быстрее, интуитивно и быстро SharePoint Online взаимодействия с настройки списков и библиотек «современный» работы, с помощью пользовательских дополнительных действий и настраиваемый фирменный стиль."
ms.date: 11/09/2017
ms.openlocfilehash: 086485e4749fb6adbba5cd252415d5d62fbacc74
ms.sourcegitcommit: f6ea922341c38e700d0697961f8df9a454a03cba
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/15/2017
---
# <a name="customizing-modern-lists-and-libraries"></a><span data-ttu-id="56370-103">Настройка «современный» списки и библиотеки</span><span class="sxs-lookup"><span data-stu-id="56370-103">Customizing "modern" lists and libraries</span></span>

<span data-ttu-id="56370-104">В 2016 группы SharePoint Online выпущен «современный» документ списки и библиотеки, которые свести удобство работы пользователей, быстрее, интуитивно и быстро.</span><span class="sxs-lookup"><span data-stu-id="56370-104">In 2016, the SharePoint Online team released "modern" document lists and libraries, which bring a better user experience that is faster, more intuitive, and responsive.</span></span> <span data-ttu-id="56370-105">**«Современный» каждый раз имеют много преимуществ, и мы настоятельно рекомендуем их использования**.</span><span class="sxs-lookup"><span data-stu-id="56370-105">**The "modern" experiences have many benefits, and we highly recommend using them**.</span></span> <span data-ttu-id="56370-106">Если текущих настроек еще не работают с «современный» качества, будет вернуться к этой теме те, поэтому пользователи могут воспользоваться преимуществами следующие усовершенствования:</span><span class="sxs-lookup"><span data-stu-id="56370-106">If your current customizations do not yet work with the "modern" experience, it's time to revisit those so your users can benefit from these great improvements:</span></span>

 - <span data-ttu-id="56370-107">«Современный» библиотеки документов имеют обновленный пользовательский интерфейс, который предоставляет обеспечения взаимодействия, аналогичную OneDrive, чтобы сделать его более интуитивного, чтобы создать новую папку и загрузки файлов в браузере.</span><span class="sxs-lookup"><span data-stu-id="56370-107">"Modern" document libraries have an updated user interface that offers an experience similar to OneDrive, so it’s more intuitive to create a new folder and upload files in the browser.</span></span>
 
 - <span data-ttu-id="56370-108">Вы можете выбрать **ПИН-код в начало** Добавление документов «выше за рамкой окна» в любом представлении, на экране.</span><span class="sxs-lookup"><span data-stu-id="56370-108">You can select **Pin to top** to add documents “above the fold” in any onscreen view.</span></span>
 
 - <span data-ttu-id="56370-109">Копирование не новый, но жесты копирование и перемещение intelligent об отображении информационной архитектуры и предоставляя возможность создавать новые папки во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="56370-109">Copying isn’t new, but the copy and move gestures are intelligent about displaying your information architecture and letting you create new folders on the fly.</span></span>
 
 - <span data-ttu-id="56370-110">Не может потребоваться больше делать столько копий.</span><span class="sxs-lookup"><span data-stu-id="56370-110">You may not have to make as many copies anymore.</span></span> <span data-ttu-id="56370-111">Библиотеки документов, intelligent запомнить другие файлы, которые использовались в SharePoint, поэтому можно импортировать другие файлы из других библиотек как ссылки, без необходимости для копирования файлов между несколькими сайтами.</span><span class="sxs-lookup"><span data-stu-id="56370-111">Document libraries are intelligent about remembering other files you’ve been using in SharePoint, so you can import other files from other libraries as links, without having to duplicate files between multiple sites.</span></span>
 
 - <span data-ttu-id="56370-112">Новые библиотеки документов позволяют группировать файлы непосредственно в главной странице без выбора отдельных admin экрана.</span><span class="sxs-lookup"><span data-stu-id="56370-112">The new document libraries let you group files directly in the main page without selecting a separate admin screen.</span></span> <span data-ttu-id="56370-113">Также можно перетащить изменить размер столбцов, а также сортировка, фильтр и группы из любой заголовок столбца.</span><span class="sxs-lookup"><span data-stu-id="56370-113">You can also drag to change the size of your columns, as well as sort, filter, and group from any column header.</span></span>
 
 - <span data-ttu-id="56370-114">Браузеры мобильных устройств имеют те же функции, как рабочий стол, что SharePoint производительность пользователей для каждого пользователя взаимодействием с помощью мыши, клавиатуры, сенсорного ввода или чтения с экрана.</span><span class="sxs-lookup"><span data-stu-id="56370-114">Mobile browsers have the same features as the desktop, making SharePoint productive for every user, whether they interact via mouse, keyboard, touch, or screen reader.</span></span>
 
 - <span data-ttu-id="56370-115">Теперь можно редактировать метаданные непосредственно из основного представления в области сведений о документах.</span><span class="sxs-lookup"><span data-stu-id="56370-115">You can now edit metadata directly from the main view in the information panel.</span></span> <span data-ttu-id="56370-116">Не более, щелкнув в несколько экранов для применения обновления к!</span><span class="sxs-lookup"><span data-stu-id="56370-116">No more clicking into multiple screens to apply an update!</span></span>
 
 - <span data-ttu-id="56370-117">Благодаря интеграции с Office Online можно перейти preview весь документ в верхней части области сведений о документах.</span><span class="sxs-lookup"><span data-stu-id="56370-117">Thanks to Office Online integration, you can navigate a complete document preview at the top of the information panel.</span></span> <span data-ttu-id="56370-118">Панель предлагает метаданные, включая журнал последнее действие обновляет в файл, а кто полученных совместный доступ к файлу.</span><span class="sxs-lookup"><span data-stu-id="56370-118">The panel offers metadata, including the history of recent activity, updates to the file, and who received a share to the file.</span></span>

<span data-ttu-id="56370-119">Эта статья посвящена вариантов расширения «современный» библиотеки и списка среды взаимодействия с пользователем.</span><span class="sxs-lookup"><span data-stu-id="56370-119">This article focuses on the extensibility options within the "modern" library and list experiences.</span></span> <span data-ttu-id="56370-120">Тем не менее если вы хотите узнать больше о функциональных возможностей, предоставляемых «современный» каждый раз, можно найти в следующих ресурсах:</span><span class="sxs-lookup"><span data-stu-id="56370-120">However, if you want to learn more about the functionalities offered by the "modern" experiences, see the following resources:</span></span>

- [<span data-ttu-id="56370-121">Современный библиотек в SharePoint</span><span class="sxs-lookup"><span data-stu-id="56370-121">Modern document libraries in SharePoint</span></span>](https://blogs.office.com/2016/06/07/modern-document-libraries-in-sharepoint)
- [<span data-ttu-id="56370-122">Здесь вы современных списки SharePoint, включая интеграцию с Microsoft потока и PowerApps</span><span class="sxs-lookup"><span data-stu-id="56370-122">Modern SharePoint lists are here—including integration with Microsoft Flow and PowerApps</span></span>](https://blogs.office.com/2016/07/25/modern-sharepoint-lists-are-here-including-integration-with-microsoft-flow-and-powerapps)
- [<span data-ttu-id="56370-123">Различия между каждый раз новые и классический для списков и библиотек</span><span class="sxs-lookup"><span data-stu-id="56370-123">Differences between the new and classic experiences for lists and libraries</span></span>](https://support.office.com/en-us/article/Differences-between-classic-and-new-experiences-for-lists-and-document-libraries-30e1aab0-a5cc-4363-b7f2-09e2ae07d4dc?ui=en-US&rs=en-US&ad=US)

<span data-ttu-id="56370-124">В оставшейся части этой статьи мы будем использовать «современный» для нового пользовательского интерфейса и «классический» для прежних версий пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="56370-124">In the remainder of this article, we'll use "modern" for the new user experience and "classic" for the legacy user experience.</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="56370-125">Мы в случае неподдерживаемые взаимодействия «классический»; будет сосуществовать «классический» и «современный».</span><span class="sxs-lookup"><span data-stu-id="56370-125">We're not deprecating the "classic" experience; both "classic" and "modern" will coexist.</span></span>


<span data-ttu-id="56370-126"><a name="customizationoptions"> </a></span><span class="sxs-lookup"><span data-stu-id="56370-126"></span></span>
## <a name="overview-of-customization-options"></a><span data-ttu-id="56370-127">Обзор параметров настройки</span><span class="sxs-lookup"><span data-stu-id="56370-127">Overview of customization options</span></span>

<span data-ttu-id="56370-128">«Современный» списки и библиотеки не поддерживают столько параметры настройки в качестве «классический» списки и библиотеки.</span><span class="sxs-lookup"><span data-stu-id="56370-128">"Modern" lists and libraries do not support as many customization options as "classic" lists and libraries.</span></span> <span data-ttu-id="56370-129">В этой статье предоставляются сведения и примеры поддерживаемые параметры.</span><span class="sxs-lookup"><span data-stu-id="56370-129">In this article, we provide details and examples of the supported options.</span></span> <span data-ttu-id="56370-130">Группы разработчиков SharePoint работает на другие варианты технической поддержки в будущем.</span><span class="sxs-lookup"><span data-stu-id="56370-130">The SharePoint team is working to support more options in the future.</span></span> <span data-ttu-id="56370-131">В следующем списке приведено краткий обзор поддерживаемые возможности для «современный» списков и библиотек:</span><span class="sxs-lookup"><span data-stu-id="56370-131">The following list gives a quick overview of the supported capabilities for "modern" lists and libraries:</span></span>
 
 - <span data-ttu-id="56370-132">Подмножество пользовательских дополнительных действий</span><span class="sxs-lookup"><span data-stu-id="56370-132">Subset of user custom actions</span></span>
 - <span data-ttu-id="56370-133">Настраиваемый фирменный стиль</span><span class="sxs-lookup"><span data-stu-id="56370-133">Custom branding</span></span>
 - <span data-ttu-id="56370-134">Интеграция с PowerApps и поток</span><span class="sxs-lookup"><span data-stu-id="56370-134">PowerApps and Flow integration</span></span>

<span data-ttu-id="56370-135">Эти настройки в настоящее время не поддерживается для «современный» списков и библиотек:</span><span class="sxs-lookup"><span data-stu-id="56370-135">These customizations are currently not supported for "modern" lists and libraries:</span></span>
 
 - <span data-ttu-id="56370-136">Настройки на основе JSLink поля (Примечание на *Расширения Framework SharePoint*)</span><span class="sxs-lookup"><span data-stu-id="56370-136">JSLink-based field customizations (see Note on *SharePoint Framework Extensions*)</span></span>
 - <span data-ttu-id="56370-137">Представление на основе JSLink настроек (Примечание на *Расширения Framework SharePoint*)</span><span class="sxs-lookup"><span data-stu-id="56370-137">JSLink-based view customizations (see Note on *SharePoint Framework Extensions*)</span></span>
 - <span data-ttu-id="56370-138">Настраиваемые CSS с помощью свойства web AlternateCSSUrl</span><span class="sxs-lookup"><span data-stu-id="56370-138">Custom CSS via AlternateCSSUrl web property</span></span>
 - <span data-ttu-id="56370-139">Настраиваемый JavaScript, внедренные с помощью пользовательских дополнительных действий (Примечание на *Расширения Framework SharePoint*)</span><span class="sxs-lookup"><span data-stu-id="56370-139">Custom JavaScript embedded via user custom actions (see Note on *SharePoint Framework Extensions*)</span></span>
 - <span data-ttu-id="56370-140">Настраиваемые главные страницы (расширенный фирменной символики будет поддерживаться более поздней версии с помощью альтернативных параметров)</span><span class="sxs-lookup"><span data-stu-id="56370-140">Custom master pages (more extensive branding will be supported later using alternative options)</span></span>
 - <span data-ttu-id="56370-141">Настройка с помощью InfoPath</span><span class="sxs-lookup"><span data-stu-id="56370-141">Customization via InfoPath</span></span>
 - <span data-ttu-id="56370-142">Стратегия минимальной загрузки (MDS)</span><span class="sxs-lookup"><span data-stu-id="56370-142">Minimal Download Strategy (MDS)</span></span>
 - <span data-ttu-id="56370-143">Публикация SharePoint server</span><span class="sxs-lookup"><span data-stu-id="56370-143">SharePoint server publishing</span></span>

> [!NOTE]
> <span data-ttu-id="56370-144">В 2017 июня [расширения Framework SharePoint занялся preview для разработчиков](https://dev.office.com/blogs/announcing-availability-of-sharepoint-framework-extensions-developer-preview).</span><span class="sxs-lookup"><span data-stu-id="56370-144">In June 2017, [SharePoint Framework Extensions went into developer preview](https://dev.office.com/blogs/announcing-availability-of-sharepoint-framework-extensions-developer-preview).</span></span> <span data-ttu-id="56370-145">Использование этих расширений Framework SharePoint, можно управлять визуализации поля с помощью пользовательского кода и создание пользователя настраиваемых действий, выполняемых пользовательского кода.</span><span class="sxs-lookup"><span data-stu-id="56370-145">Using these SharePoint Framework Extensions, you can control the rendering of a field via custom code, and you can create user custom actions that execute your custom code.</span></span> <span data-ttu-id="56370-146">Для получения дополнительных сведений см [Overview of Framework расширения SharePoint](http://aka.ms/spfx-extensions).</span><span class="sxs-lookup"><span data-stu-id="56370-146">To learn more, see [Overview of SharePoint Framework Extensions](http://aka.ms/spfx-extensions).</span></span> 

<span data-ttu-id="56370-147"><a name="supportedcustomactions"> </a></span><span class="sxs-lookup"><span data-stu-id="56370-147"></span></span>
## <a name="user-custom-actions"></a><span data-ttu-id="56370-148">Настраиваемые действия пользователя</span><span class="sxs-lookup"><span data-stu-id="56370-148">User custom actions</span></span>

<span data-ttu-id="56370-149">Разрешить определенные пользователя настраиваемые действия, доступные в новый пользовательский интерфейс «современный» каждый раз, но не все конфигурации действие пользователя, поддерживаемых приложением «классический» режим поддерживаются «современный» сайтами.</span><span class="sxs-lookup"><span data-stu-id="56370-149">The "modern" experiences allow certain user custom actions to be surfaced in the new user interface, but not all user action configurations that are supported by "classic" mode are supported in the "modern" experience.</span></span> <span data-ttu-id="56370-150">В следующей таблице приведено подробное описание расположений поддерживаемые пользовательских действий и способы их в случае предоставления в пользовательском Интерфейсе «современный»:</span><span class="sxs-lookup"><span data-stu-id="56370-150">The following table gives a high level overview of the supported custom action locations and how they're surfaced in the "modern" UI:</span></span>

|<span data-ttu-id="56370-151">**Расположение дополнительного действия пользователя**</span><span class="sxs-lookup"><span data-stu-id="56370-151">**User custom action location**</span></span>|<span data-ttu-id="56370-152">**Видимы в «новый» пользовательский Интерфейс**</span><span class="sxs-lookup"><span data-stu-id="56370-152">**Visible in "modern" UI**</span></span>|
|:-----|:-----|
| `EditControlBlock` | <span data-ttu-id="56370-153">Да, эти записи отображаться в качестве настраиваемых элементов меню.</span><span class="sxs-lookup"><span data-stu-id="56370-153">Yes, these entries show up as custom menu items.</span></span>|
| `CommandUI.Ribbon` | <span data-ttu-id="56370-154">Да, эти записи отображаются как элементы панели инструментов.</span><span class="sxs-lookup"><span data-stu-id="56370-154">Yes, these entries show up as toolbar items.</span></span> |
| <span data-ttu-id="56370-155">Все другие расположения (например `scriptlink`)</span><span class="sxs-lookup"><span data-stu-id="56370-155">All other locations (for example `scriptlink`)</span></span> | <span data-ttu-id="56370-156">К сожалению, настраиваемые действия пользователя, не будут работать.</span><span class="sxs-lookup"><span data-stu-id="56370-156">Sorry, these user custom actions won't work.</span></span> |

> [!NOTE]
> <span data-ttu-id="56370-157">Эти настраиваемые действия отображаются в «современный» списки и библиотеки только в том случае, если пользователь находится в «классический» сайты с поддержкой «новый» пользовательский Интерфейс.</span><span class="sxs-lookup"><span data-stu-id="56370-157">These custom actions show up in "modern" lists and libraries only when you are on "classic" sites with "modern" UI enabled.</span></span> <span data-ttu-id="56370-158">По умолчанию они не отображаются на «современный» веб-сайтах, так как невозможно добавить настраиваемые действия пользователя «современный» сайты, поскольку они имеют включен параметр NoScript.</span><span class="sxs-lookup"><span data-stu-id="56370-158">By default, they don't show up on "modern" sites because it's not possible to add user custom actions to "modern" sites because they have the NoScript option enabled.</span></span> <span data-ttu-id="56370-159">Тем не менее можно отключить NoScript на «современный» веб-сайтах для достижения это поведение для «современный» списков и библиотек между сайтами «классический» и «современный».</span><span class="sxs-lookup"><span data-stu-id="56370-159">However, you can disable NoScript on "modern" sites to achieve the same behavior for "modern" lists and libraries across "classic" and "modern" sites.</span></span>

<span data-ttu-id="56370-160"><a name="editcontrolblockcustomactions"> </a></span><span class="sxs-lookup"><span data-stu-id="56370-160"></span></span>
### <a name="editcontrolblock-user-custom-actions"></a><span data-ttu-id="56370-161">EditControlBlock пользовательских дополнительных действий</span><span class="sxs-lookup"><span data-stu-id="56370-161">EditControlBlock user custom actions</span></span> 

<span data-ttu-id="56370-162">Добавление пользовательских ссылок в контекстном меню можно выполнить с помощью `EditControlBlock` по для дополнительного действия.</span><span class="sxs-lookup"><span data-stu-id="56370-162">Adding custom links to the context menu can be done by using the `EditControlBlock` as the location for your custom action.</span></span> <span data-ttu-id="56370-163">Следующий PnP подготовки XML-код создает два настраиваемых записей.</span><span class="sxs-lookup"><span data-stu-id="56370-163">The following PnP provisioning XML creates two custom entries.</span></span> 

```XML
<pnp:ProvisioningTemplate ID="EditControlBlockSamples" Version="1" xmlns:pnp="http://schemas.dev.office.com/PnP/2015/12/ProvisioningSchema">
  <pnp:CustomActions>
    <pnp:SiteCustomActions>
      <pnp:CustomAction Name="CA_1" Description="ca 1" Location="EditControlBlock" RegistrationType="List" RegistrationId="101" Title="CA 1 Title" Sequence="3000" Url="https://contoso.azurewebsites.net/pages/index.aspx" Enabled="true"/>
      <pnp:CustomAction Name="CA_2" Description="ca 2" Location="EditControlBlock" RegistrationType="ContentType" RegistrationId="0x0101" Title="CA 2 Title" Sequence="4000" Url="https://contoso.azurewebsites.net/pages/index.aspx" Enabled="true"/>
    </pnp:SiteCustomActions>
  </pnp:CustomActions>
</pnp:ProvisioningTemplate>
```

<span data-ttu-id="56370-164">Можно применить этот [PnP подготовки шаблона](https://msdn.microsoft.com/en-us/pnp_articles/pnp-provisioning-engine-and-the-core-library) на сайт с помощью PnP основной библиотеки или [PnP PowerShell](http://aka.ms/sppnp-powershell).</span><span class="sxs-lookup"><span data-stu-id="56370-164">You can apply this [PnP provisioning template](https://msdn.microsoft.com/en-us/pnp_articles/pnp-provisioning-engine-and-the-core-library) to a site using the PnP Core library or [PnP PowerShell](http://aka.ms/sppnp-powershell).</span></span> <span data-ttu-id="56370-165">Мы удалили Показать подход PowerShell в данной статье.</span><span class="sxs-lookup"><span data-stu-id="56370-165">We've opted to show the PowerShell approach in this article.</span></span> <span data-ttu-id="56370-166">Первым шагом является [Установка модуля PnP PowerShell](https://github.com/SharePoint/PnP-PowerShell).</span><span class="sxs-lookup"><span data-stu-id="56370-166">A first step is to [install the PnP PowerShell module](https://github.com/SharePoint/PnP-PowerShell).</span></span> <span data-ttu-id="56370-167">После этого сохраните PnP подготовки XML в файл и две простой строки PnP PowerShell являются достаточно, чтобы применить шаблон:</span><span class="sxs-lookup"><span data-stu-id="56370-167">After that's done, save the PnP provisioning XML to a file, and the two simple lines of PnP PowerShell are enough to apply the template:</span></span>

```PowerShell

# Connect to a previously created Modern Site
$cred = Get-Credential
Connect-PnPOnline -Url https://[tenant].sharepoint.com/sites/siteurl -Credentials $cred

# Apply the PnP provisioning template
Apply-PnPProvisioningTemplate -Path c:\customaction_modern_editcontrolblock.xml -Handlers CustomActions

```

<span data-ttu-id="56370-168">Если обновить представление «современный» библиотеки документов на сайте, вы увидите новых записей отображаются.</span><span class="sxs-lookup"><span data-stu-id="56370-168">If you refresh the "modern" view of a document library on your site, you'll see the new entries appear.</span></span>

<span data-ttu-id="56370-169">*На рисунке 1. Настраиваемые действия EditControlBlock, отображается в меню*</span><span class="sxs-lookup"><span data-stu-id="56370-169">*Figure 1. Custom EditControlBlock actions visible in the menu*</span></span>

<img src="media/modern-experiences/custom-editcontrolblock-actions.png" alt="Custom EditControlBlock actions visible in the menu" width="700">


> [!NOTE]
> - <span data-ttu-id="56370-170">Если вы пытаетесь на [сайт группы «современный»](modern-experience-customizations-customize-sites.md) , где вы отключили параметр NoScript, используйте апрель, 2017 или более поздней версии из PnP PowerShell.</span><span class="sxs-lookup"><span data-stu-id="56370-170">If you're trying this on a ["modern" team site](modern-experience-customizations-customize-sites.md) where you disabled the NoScript option, use the April 2017 or later version from PnP-PowerShell.</span></span> <span data-ttu-id="56370-171">Кроме того используйте текущую версию разработчиков.</span><span class="sxs-lookup"><span data-stu-id="56370-171">Alternatively, use the current dev version.</span></span>
> - <span data-ttu-id="56370-172">Если вы хотите использовать в этом примере для списка, необходимо задать `RegistrationId` атрибут до 100.</span><span class="sxs-lookup"><span data-stu-id="56370-172">If you want to use this sample for a list, set the `RegistrationId` attribute to 100.</span></span>

<span data-ttu-id="56370-173"><a name="ribboncustomactions"> </a></span><span class="sxs-lookup"><span data-stu-id="56370-173"></span></span>
### <a name="commanduiribbon-user-custom-actions"></a><span data-ttu-id="56370-174">Значение CommandUI.Ribbon пользовательских дополнительных действий</span><span class="sxs-lookup"><span data-stu-id="56370-174">CommandUI.Ribbon user custom actions</span></span> 

<span data-ttu-id="56370-175">Если необходимо расширить панели инструментов «современный» каждый раз списков и библиотек, вы можете Добавление пользовательского настраиваемого действия целевого расположения значение CommandUI.Ribbon, как показано в этом PnP подготовки образец XML.</span><span class="sxs-lookup"><span data-stu-id="56370-175">If you want to extend the toolbar in the "modern" list and library experiences, you can do so by adding a user custom action targeting the CommandUI.Ribbon location as shown in this PnP provisioning XML sample.</span></span>

```XML
<pnp:ProvisioningTemplate ID="CommandUIRibbonSamples" Version="1" xmlns:pnp="http://schemas.dev.office.com/PnP/2015/12/ProvisioningSchema">
  <pnp:CustomActions>
    <pnp:SiteCustomActions>
      <pnp:CustomAction Name="CA_4" Description="ca 4" Location="CommandUI.Ribbon" RegistrationType="List" RegistrationId="101" Title="CA 4 Title" Sequence="6000" Enabled="true">
        <pnp:CommandUIExtension>
          <CommandUIDefinitions>
            <CommandUIDefinition Location="Ribbon.Documents.Copies.Controls._children">
              <Button
                Id="Ribbon.Documents.Copies.OfficeDevPnPDownloadAll"
                Command="OfficeDevPnP.Cmd.DownloadAll"
                Image16by16="/_layouts/15/images/sharepointfoundation16.png"
                LabelText="Download All"
                Description="Download all files separately"
                ToolTipTitle="Download All"
                ToolTipDescription="Download all files separately"
                TemplateAlias="o1"
                Sequence="15"/>
            </CommandUIDefinition>
          </CommandUIDefinitions>
          <CommandUIHandlers>
            <CommandUIHandler
              Command="OfficeDevPnP.Cmd.DownloadAll"
              CommandAction="https://contoso.azurewebsites.net/pages/index.aspx" />
          </CommandUIHandlers>
        </pnp:CommandUIExtension>
      </pnp:CustomAction>
      <pnp:CustomAction Name="CA_6" Description="ca 6" Location="CommandUI.Ribbon" RegistrationType="ContentType" RegistrationId="0x0101" Title="CA 6 Title" Sequence="5000" Enabled="true">
        <pnp:CommandUIExtension>
            <CommandUIDefinitions>
              <CommandUIDefinition Location="Ribbon.Tabs._children">
                <Tab Id="Custom Tab" Title="Custom Tab" Description="Custom Tab">
                  <Scaling Id="Custom Tab.Scaling">
                    <MaxSize Id="Custom Group.Scaling.MaxSize" GroupId="Custom Group" Size="TwoLarge" />
                    <MaxSize Id="Custom Group 2.Scaling.MaxSize" GroupId="Custom Group 2" Size="OneLarge" />
                    <Scale Id="Custom Group.Scaling.Scale" GroupId="Custom Group" Size="TwoLarge" />
                    <Scale Id="Custom Group 2.Scaling.Scale" GroupId="Custom Group 2" Size="OneLarge" />
                  </Scaling>
                  <Groups Id="Custom Tab.Groups">
                    <Group Id="Custom Group 2" Title="Custom Group 2" Description="Custom Group 2" Sequence="7888" Template="Ribbon.Templates.OneLarge">
                      <Controls Id="Custom Group 2.Controls">
                        <Button Id="CustomButton3" LabelText="Custom Button 3" Image16by16="/_layouts/15/images/attach16.png" Image32by32="/_layouts/15/images/attach16.png" ToolTipTitle="Custom Button 3" ToolTipDescription="Custom Button 3" Command="CustomButton3.Command" TemplateAlias="c3" />
                      </Controls>
                    </Group>
                    <Group Id="Custom Group" Title="Custom Group 1" Description="Custom Group 1" Sequence="10000" Template="Ribbon.Templates.TwoLarge">
                      <Controls Id="Custom Group 1.Controls">
                        <Button Id="CustomButton1" LabelText="Custom Button 1" Image16by16="/_layouts/15/images/itslidelibrary.png" Image32by32="/_layouts/15/images/itslidelibrary.png" ToolTipTitle="Custom Button 1" ToolTipDescription="Custom Button 1" Command="CustomButton1.Command" TemplateAlias="c1" />
                        <Button Id="CustomButton2" LabelText="Custom Button 2" Image16by16="/_layouts/15/images/dldsln16.png" Image32by32="/_layouts/15/images/dldsln16.png" ToolTipTitle="Custom Button 2" ToolTipDescription="Custom Button 2" Command="CustomButton2.Command" TemplateAlias="c2" />
                      </Controls>
                    </Group>
                  </Groups>
                </Tab>
              </CommandUIDefinition>
              <CommandUIDefinition Location="Ribbon.Templates._children">
                <GroupTemplate Id="Ribbon.Templates.TwoLarge">
                  <Layout Title="TwoLarge" LayoutTitle="TwoLarge"> 
                    <Section Alignment="Top" Type="OneRow"> 
                      <Row> 
                        <ControlRef DisplayMode="Large" TemplateAlias="c1" /> 
                        <ControlRef DisplayMode="Large" TemplateAlias="c2" /> 
                      </Row> 
                    </Section> 
                  </Layout> 
                </GroupTemplate>
              </CommandUIDefinition>
              <CommandUIDefinition Location="Ribbon.Templates._children">
                <GroupTemplate Id="Ribbon.Templates.OneLarge">
                  <Layout Title="OneLarge" LayoutTitle="OneLarge"> 
                    <Section Alignment="Top" Type="OneRow"> 
                      <Row> 
                        <ControlRef DisplayMode="Large" TemplateAlias="c3" /> 
                      </Row> 
                    </Section> 
                  </Layout> 
                </GroupTemplate>
              </CommandUIDefinition>
            </CommandUIDefinitions>
            <CommandUIHandlers>
              <CommandUIHandler Command="CustomButton1.Command" CommandAction="https://contoso.azurewebsites.net/pages/index.aspx" />
              <CommandUIHandler Command="CustomButton2.Command" CommandAction="http://www.bing.com" />
              <CommandUIHandler Command="CustomButton3.Command" CommandAction="http://dev.office.com/sharepoint" />
            </CommandUIHandlers>
        </pnp:CommandUIExtension>
      </pnp:CustomAction>
    </pnp:SiteCustomActions>
  </pnp:CustomActions>
</pnp:ProvisioningTemplate>
```

<br/>

<span data-ttu-id="56370-176">После добавления этих пользовательских дополнительных действий, чтобы увидеть их на панели инструментов.</span><span class="sxs-lookup"><span data-stu-id="56370-176">After adding these user custom actions, you'll see them appear on the toolbar.</span></span> <span data-ttu-id="56370-177">Обратите внимание на то, что пользовательские вкладки преобразуются в раскрывающемся меню.</span><span class="sxs-lookup"><span data-stu-id="56370-177">Notice that custom tabs are transformed into a drop-down menu.</span></span>

<span data-ttu-id="56370-178">*На рисунке 2. Настраиваемое действие отображается на панели инструментов*</span><span class="sxs-lookup"><span data-stu-id="56370-178">*Figure 2. Custom action visible on the toolbar*</span></span>

![Настраиваемое действие отображается на панели инструментов](media/modern-experiences/custom-actions-toolbar.png)

<br/>

> [!NOTE]
> - <span data-ttu-id="56370-180">Если вы пытаетесь на [сайт группы «современный»](modern-experience-customizations-customize-sites.md) , где вы отключили параметр NoScript, используйте апрель, 2017 или более поздней версии из PnP PowerShell.</span><span class="sxs-lookup"><span data-stu-id="56370-180">If you're trying this on a ["modern" team site](modern-experience-customizations-customize-sites.md) where you disabled the NoScript option, use the April 2017 or later version from PnP-PowerShell.</span></span> <span data-ttu-id="56370-181">Или же используйте текущую версию разработчиков.</span><span class="sxs-lookup"><span data-stu-id="56370-181">Alternatively use the current dev version.</span></span>
> - <span data-ttu-id="56370-182">Если вы хотите использовать в этом примере для списка, необходимо задать `RegistrationId` атрибуты 100 и используйте следующий XML-код настраиваемого действия пользователя CA_4.</span><span class="sxs-lookup"><span data-stu-id="56370-182">If you want to use this sample for a list, set the `RegistrationId` attributes to 100, and use the following XML for the CA_4 user custom action.</span></span>
>
   ```XML
    <CommandUIDefinition Location="Ribbon.Templates._children">
      <Button
        Id="Ribbon.Templates.OfficeDevPnPDownloadAll"
        Command="OfficeDevPnP.Cmd.DownloadAll"
        Image16by16="/_layouts/15/images/sharepointfoundation16.png"
        LabelText="Download All"
        Description="Download all files separately"
        ToolTipTitle="Download All"
        ToolTipDescription="Download all files separately"
        TemplateAlias="o1"
        Sequence="15"/>
    </CommandUIDefinition>
   ```

<span data-ttu-id="56370-183"><a name="customactionlimitations"> </a></span><span class="sxs-lookup"><span data-stu-id="56370-183"></span></span>
### <a name="user-custom-action-limitations"></a><span data-ttu-id="56370-184">Ограничения дополнительного действия пользователя</span><span class="sxs-lookup"><span data-stu-id="56370-184">User custom action limitations</span></span> 

<span data-ttu-id="56370-185">При разработке пользовательских дополнительных действий, которые необходимы для работы в «современный» каждый раз, необходимо учитывайте следующие ограничения:</span><span class="sxs-lookup"><span data-stu-id="56370-185">When developing user custom actions that need to work in "modern" experiences, consider the following limitations:</span></span>
 
 - <span data-ttu-id="56370-186">Вы не можете определять полностью порядке, в котором пользовательских дополнительных действий отображаться; Настраиваемые действия пользователя добавляются в том порядке, `_api/web/Lists(guid'listid')/CustomActionElements` возвращает пользовательских дополнительных действий, а в настоящее время этот интерфейс API не учитывать последовательность атрибутов.</span><span class="sxs-lookup"><span data-stu-id="56370-186">You can't completely control the order in which the user custom actions show up; the user custom actions are added in the order the `_api/web/Lists(guid'listid')/CustomActionElements` returns the user custom actions, and this API currently does not take into account the sequence attributes.</span></span> <span data-ttu-id="56370-187">Кнопки, определенного в пользовательской вкладки могут быть упорядочены путем добавления их в правильном порядке в XML-коде CommandUIDefinition.</span><span class="sxs-lookup"><span data-stu-id="56370-187">Buttons defined inside a custom tab can be ordered by adding them in the correct order in the CommandUIDefinition xml.</span></span> <span data-ttu-id="56370-188">Наш пример отображается кнопка 3 как первый и, из-за порядок, в XML-код.</span><span class="sxs-lookup"><span data-stu-id="56370-188">Our sample shows Button 3 as first and that's because of the order in the XML.</span></span>
 
 - <span data-ttu-id="56370-189">Группирования пользовательских дополнительных действий внутри настраиваемой вкладки определяется наличие `Button` элементов при наличии любого из нескольких `Tab` или `Group` элементов в элемент xml возвращенные пользователя дополнительного действия.</span><span class="sxs-lookup"><span data-stu-id="56370-189">Grouping of user custom actions inside a custom tab is driven by the presence of `Button` elements whenever there's either multiple `Tab` or `Group` elements in the returned user custom action element xml.</span></span>
 
 - <span data-ttu-id="56370-190">Команда действия не может содержать JavaScript.</span><span class="sxs-lookup"><span data-stu-id="56370-190">Command actions cannot contain JavaScript.</span></span> <span data-ttu-id="56370-191">Например, с помощью `CommandAction="javascript:alert('My custom Action');"` означает, что настраиваемое действие пользователя не будет отображаться.</span><span class="sxs-lookup"><span data-stu-id="56370-191">For example, using `CommandAction="javascript:alert('My custom Action');"` means that the user custom action will not show up.</span></span>
 
 - <span data-ttu-id="56370-192">С помощью `ScriptLink` или `ScriptBlock` свойства невозможен, так как они могут использоваться только с расположение дополнительного действия пользователя `ScriptLink`, который не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="56370-192">Using the `ScriptLink` or `ScriptBlock` properties is not possible because they can only be used with the user custom action location `ScriptLink`, which is not supported.</span></span>
 
 - <span data-ttu-id="56370-193">С помощью гиперкарты (например, `Image16by16="/_layouts/15/1033/images/formatmap16x16.png?rev=33" Image16by16Left="-144" Image16by16Top="-107"`) не работает; необходимо указать отдельные изображения.</span><span class="sxs-lookup"><span data-stu-id="56370-193">Using image maps (for example, `Image16by16="/_layouts/15/1033/images/formatmap16x16.png?rev=33" Image16by16Left="-144" Image16by16Top="-107"`) does not work; you'll need to specify individual images.</span></span> <span data-ttu-id="56370-194">Обратите внимание, что относятся только 16 x 16 изображений.</span><span class="sxs-lookup"><span data-stu-id="56370-194">Also note that only 16 x 16 images are relevant.</span></span>

<span data-ttu-id="56370-195"><a name="themingimpact"> </a></span><span class="sxs-lookup"><span data-stu-id="56370-195"></span></span>
## <a name="custom-branding"></a><span data-ttu-id="56370-196">Настраиваемый фирменный стиль</span><span class="sxs-lookup"><span data-stu-id="56370-196">Custom branding</span></span>

<span data-ttu-id="56370-197">Если использовать пользовательскую тему веб-узла, учитываемые этой пользовательской темы в списке «современный» и библиотека процедуры, как показано в следующем примере.</span><span class="sxs-lookup"><span data-stu-id="56370-197">If your site happens to use a custom theme, this custom theme is respected in the "modern" list and library experiences as shown in the following sample.</span></span>

<span data-ttu-id="56370-198">*На рисунке 3. Современный список с настраиваемой фирменной настройки поступающих от пользовательской темы*</span><span class="sxs-lookup"><span data-stu-id="56370-198">*Figure 3. Modern list with custom branding coming from custom theme*</span></span>

<img src="media/modern-experiences/modern-list-with-custom-theme.png" alt="Modern list with custom branding coming from custom theme" width="700">

<span data-ttu-id="56370-199"><a name="configuremodernlibrariesandlists"> </a></span><span class="sxs-lookup"><span data-stu-id="56370-199"></span></span>
## <a name="configure-the-end-user-experience"></a><span data-ttu-id="56370-200">Настройка конечных пользователей</span><span class="sxs-lookup"><span data-stu-id="56370-200">Configure the end user experience</span></span>

<span data-ttu-id="56370-201">Имеется несколько возможностей для элемента управления «современный» или «классический» библиотеки и списка работу в используется ли.</span><span class="sxs-lookup"><span data-stu-id="56370-201">You have multiple options to control whether the "modern" or "classic" library and list experience is used.</span></span> 

### <a name="tenant-level-configuration"></a><span data-ttu-id="56370-202">Конфигурирование на уровне клиента</span><span class="sxs-lookup"><span data-stu-id="56370-202">Tenant level configuration</span></span>
<span data-ttu-id="56370-203">Если необходимо полностью отключить «современный» качества, рекомендуется использовать параметр базы данных для клиента.</span><span class="sxs-lookup"><span data-stu-id="56370-203">If you want to completely disable the "modern" experience, it's best to use the tenant setting for this.</span></span> <span data-ttu-id="56370-204">Перейдите в центр администрирования клиента (например, contoso-admin.sharepoint.com), перейдите в раздел Параметры и выберите «классический» качества.</span><span class="sxs-lookup"><span data-stu-id="56370-204">Go to your tenant admin center (for example, contoso-admin.sharepoint.com), go to Settings, and select the "classic" experience.</span></span>

<span data-ttu-id="56370-205">*На рисунке 4. Списки и библиотеки SharePoint взаимодействия параметры в пользовательском Интерфейсе администрирования SharePoint*</span><span class="sxs-lookup"><span data-stu-id="56370-205">*Figure 4. SharePoint lists and libraries experience settings in the SharePoint Admin UI*</span></span>

![Списки и библиотеки SharePoint взаимодействия параметры в пользовательском Интерфейсе администрирования SharePoint](media/modern-experiences/lists-libraries-tenant-settings.png)

> [!NOTE]
> - <span data-ttu-id="56370-207">При переключении между **новой версии интерфейса (автоматическое обнаружение)** и **классическом взаимодействия**, изменения не видны непосредственно.</span><span class="sxs-lookup"><span data-stu-id="56370-207">When you switch between **New experience (auto detect)** and **Classic experience**, the change is not immediately visible.</span></span>
> - <span data-ttu-id="56370-208">При выборе **новой версии интерфейса (автоматическое обнаружение)**, параметр **вернуться к классической SharePoint** всегда отображается.</span><span class="sxs-lookup"><span data-stu-id="56370-208">When you select **New experience (auto detect)**, you always see the **Return to classic SharePoint** option.</span></span> <span data-ttu-id="56370-209">Это предусмотрено при проектировании, реализации сегодня не все функциональные возможности «классический» списков и библиотек «современный» списков и библиотек.</span><span class="sxs-lookup"><span data-stu-id="56370-209">This is by design given that today not all functionalities of "classic" lists and libraries are implemented in the "modern" lists and libraries.</span></span> <span data-ttu-id="56370-210">Нет, невозможно изменить это поведение.</span><span class="sxs-lookup"><span data-stu-id="56370-210">There's no option to change this behavior.</span></span>

### <a name="siteweb-level-configuration"></a><span data-ttu-id="56370-211">Конфигурации уровня сайта и веб-</span><span class="sxs-lookup"><span data-stu-id="56370-211">Site/Web level configuration</span></span>
<span data-ttu-id="56370-212">Вы можете запретить семейства веб-сайтов или веб-использования «современный» интерфейса посредством включения компонента:</span><span class="sxs-lookup"><span data-stu-id="56370-212">You can prevent a site collection or web from using the "modern" experience by enabling a feature:</span></span>

- <span data-ttu-id="56370-213">Для управления семейства сайтов используйте функцию семейства одним сайта с Идентификатором **E3540C7D-6BEA-403C-A224-1A12EAFEE4C4**.</span><span class="sxs-lookup"><span data-stu-id="56370-213">For site collection control, use the site collection scoped feature with ID **E3540C7D-6BEA-403C-A224-1A12EAFEE4C4**.</span></span> 
- <span data-ttu-id="56370-214">Для веб-элемент управления используйте функцию уровня веб-сайта с Идентификатором **52E14B6F-B1BB-4969-B89B-C4FAA56745EF**.</span><span class="sxs-lookup"><span data-stu-id="56370-214">For web control, use the web scoped feature with ID **52E14B6F-B1BB-4969-B89B-C4FAA56745EF**.</span></span> 

<span data-ttu-id="56370-215">Чтобы включить или отключить необходимых компонентов с помощью следующих [PnP PowerShell](http://aka.ms/sppnp-powershell) :</span><span class="sxs-lookup"><span data-stu-id="56370-215">Use the following [PnP PowerShell](http://aka.ms/sppnp-powershell) to enable/disable the needed features:</span></span>

```PowerShell
# Connect to a site
$cred = Get-Credential
Connect-PnPOnline -Url https://[tenant].sharepoint.com/sites/siteurl -Credentials $cred

# Prevent modern lists and libraries at site collection level
Enable-PnPFeature -Identity E3540C7D-6BEA-403C-A224-1A12EAFEE4C4 -Scope Site 
# And again enable modern lists and libraries at site collection level
#Disable-PnPFeature -Identity E3540C7D-6BEA-403C-A224-1A12EAFEE4C4 -Scope Site 

# Prevent modern lists and libraries at web level
#Enable-PnPFeature -Identity 52E14B6F-B1BB-4969-B89B-C4FAA56745EF  -Scope Web 
# And again enable modern lists and libraries at web
#Disable-PnPFeature -Identity 52E14B6F-B1BB-4969-B89B-C4FAA56745EF  -Scope Web 
```

### <a name="listlibrary-configuration"></a><span data-ttu-id="56370-216">Конфигурация списка/библиотеки</span><span class="sxs-lookup"><span data-stu-id="56370-216">List/Library configuration</span></span>
<span data-ttu-id="56370-217">Если вы хотите управлять интерфейса на уровне библиотеки, вы сможете **Параметры списка** > **Дополнительные параметры**и изменить поведение.</span><span class="sxs-lookup"><span data-stu-id="56370-217">If you want to control the experience at the library level, you can go to **List settings** > **Advanced settings**, and change the behavior.</span></span>

<span data-ttu-id="56370-218">*На рисунке 5. Конфигурация качества списка параметров уровня клиента SharePoint в пользовательский Интерфейс администрирования*</span><span class="sxs-lookup"><span data-stu-id="56370-218">*Figure 5. List experience configuration in the SharePoint tenant level settings in Admin UI*</span></span>

![Конфигурация качества списка параметров уровня клиента SharePoint в пользовательский Интерфейс администрирования](media/modern-experiences/list-experience-setting.png)

<span data-ttu-id="56370-220">То же самое можно выполнить с помощью CSOM, как показано в этом фрагменте:</span><span class="sxs-lookup"><span data-stu-id="56370-220">The same can also be done by using CSOM as shown in this snippet:</span></span>

```C#
// Load the list you want to update
var list = context.Web.Lists.GetByTitle(title);
context.Load(list);
context.ExecuteQuery();

// Possible options are Auto (= what it's defined at tenant level), NewExperience (= "modern") and ClassicExperience
list.ListExperienceOptions = ListExperience.ClassicExperience;

// Persist the changes
list.Update();
context.ExecuteQuery();
```

> [!NOTE]
> - <span data-ttu-id="56370-221">Параметры библиотеки на уровне *переопределить* параметры на уровне клиента, сайта или web.</span><span class="sxs-lookup"><span data-stu-id="56370-221">The settings at the library level *override* the settings at the web, site, or tenant level.</span></span> <span data-ttu-id="56370-222">Это также означает, что может пилотный проект «современный» качества списков и библиотек на дочерний сайт сайтов благодаря использованию «современный» качества отключено на уровне клиента, но включен на уровне списка на пилотных сайтов.</span><span class="sxs-lookup"><span data-stu-id="56370-222">This also implies that you could pilot the "modern" list and library experience to a subsite of sites by having the "modern" experience turned off at the tenant level but enabled at the list level on the pilot sites.</span></span>
> - <span data-ttu-id="56370-223">Когда вы вручную выбрал «классический» (то есть не из-за списка, веб-сайтов, веб-сайта или клиентов «классический» принудительное применение), вы увидите, **Exit классический качества** связи, отображаемым в поле левой панели навигации (по состоянию на июля 2017).</span><span class="sxs-lookup"><span data-stu-id="56370-223">When you've manually chosen "classic" (that is, not due to list, site, web, or tenant "classic" enforcement), you'll see the link **Exit classic experience** appearing under the left navigation (as of July 2017).</span></span> <span data-ttu-id="56370-224">Выбор этого приводит «современный» качества.</span><span class="sxs-lookup"><span data-stu-id="56370-224">Selecting this brings you back to the "modern" experience.</span></span>
> - <span data-ttu-id="56370-225">Если вы не приобретать «современный» интерфейса должна отображаться, проверьте файлы cookie, переданного в SharePoint, так как по-прежнему остается, что явного масштабирование файла cookie «современный» каждый раз (splnu с установлено значение 0).</span><span class="sxs-lookup"><span data-stu-id="56370-225">If you're not able to get the "modern" experience to appear, inspect the cookies being passed to SharePoint because it is possible that the opt out of "modern" experiences cookie (splnu with value set to 0) is still present.</span></span> <span data-ttu-id="56370-226">Очистка файлов cookie браузера необходимо устранить эту неполадку.</span><span class="sxs-lookup"><span data-stu-id="56370-226">Clearing the browser cookies should fix this.</span></span>

<span data-ttu-id="56370-227"><a name="autodetect"> </a></span><span class="sxs-lookup"><span data-stu-id="56370-227"></span></span>
## <a name="when-does-the-built-in-auto-detect-automatically-switch-rendering-back-to-classic"></a><span data-ttu-id="56370-228">Когда встроенных auto определит, автоматически визуализации переключатель обратно в «классический»?</span><span class="sxs-lookup"><span data-stu-id="56370-228">When does the built-in auto-detect automatically switch rendering back to "classic"?</span></span>

<span data-ttu-id="56370-229">SharePoint использует автоматическое обнаружение системы для автоматического перехода с отображением списка «Классическая», при условии, что вы не отключайте «современный» взаимодействия для списка с помощью сайта, web или областью действия списка переопределений описано в предыдущем разделе.</span><span class="sxs-lookup"><span data-stu-id="56370-229">SharePoint uses an auto-detect system to automatically switch the rendering of a list to "classic", assuming that you do not disable the "modern" experience for your list by using the site, web, or list scoped overrides explained in the previous section.</span></span> <span data-ttu-id="56370-230">Это автоматическое обнаружение, система автоматически вы перейдет в режим «классический» каждый раз, когда SharePoint обнаруживает, что список функции (еще не) поддерживается в «современный».</span><span class="sxs-lookup"><span data-stu-id="56370-230">This auto-detect system automatically switches you back to "classic" whenever SharePoint detects that your list is using features that are not (yet) supported in "modern".</span></span>

<span data-ttu-id="56370-231">Ниже перечислены параметры, которые будут оцениваться как часть Автовыбор системы, а какие сделать список воспроизведения в режиме «классический»:</span><span class="sxs-lookup"><span data-stu-id="56370-231">Following are the settings that are evaluated as part of the auto-detect system and which make the list render in "classic" mode:</span></span>

- <span data-ttu-id="56370-232">Если страница формы запрошенный список содержит ноль или более одного веб-части.</span><span class="sxs-lookup"><span data-stu-id="56370-232">If the requested list form page has zero or more than one web part on it.</span></span>

- <span data-ttu-id="56370-233">(**До июля 2017**) Если веб-сайта, областью действия компонента «Навигация и фильтрация метаданных» включено.</span><span class="sxs-lookup"><span data-stu-id="56370-233">(**Until July 2017**) If the web scoped feature "Metadata Navigation and Filtering" is enabled.</span></span> <span data-ttu-id="56370-234">Мы [развертывание управляемых метаданных навигации поддержка «современный» списки и библиотеки](https://techcommunity.microsoft.com/t5/SharePoint-Blog/SharePoint-filters-pane-updates-filtering-and-metadata/ba-p/74162).</span><span class="sxs-lookup"><span data-stu-id="56370-234">We're [rolling out managed metadata navigation support for "modern" lists and libraries](https://techcommunity.microsoft.com/t5/SharePoint-Blog/SharePoint-filters-pane-updates-filtering-and-metadata/ba-p/74162).</span></span>

- <span data-ttu-id="56370-235">Если доступные веб-часть будет **XSLTListViewWebPart** (вариант по умолчанию для отображения в списке) и:</span><span class="sxs-lookup"><span data-stu-id="56370-235">If the available web part is an **XSLTListViewWebPart** (default way to render the list) and:</span></span>
    - <span data-ttu-id="56370-236">Существует нестандартный набор JSLink или XslLink значение для свойства веб-части.</span><span class="sxs-lookup"><span data-stu-id="56370-236">There's a non-standard JSLink or XslLink value set for the web part properties.</span></span>
    - <span data-ttu-id="56370-237">Страница будет отображена в диалоговом окне (IsDlg = 1).</span><span class="sxs-lookup"><span data-stu-id="56370-237">The page is shown in a dialog (IsDlg=1).</span></span>
    - <span data-ttu-id="56370-238">Список не основан на одном из следующих типов: документов библиотеки (101), библиотеки (109) изображения, библиотеки веб-страниц (119) или общий список (100).</span><span class="sxs-lookup"><span data-stu-id="56370-238">The list is not based on one of the following types: Document library (101), Picture library (109), Web page library (119), or Generic list (100).</span></span> <span data-ttu-id="56370-239">**По состоянию на август 2017**, извещений (104), а затем ссылки (103) выполните отображения с помощью «новый» пользовательский Интерфейс.</span><span class="sxs-lookup"><span data-stu-id="56370-239">**As of August 2017**, Announcements (104) and Links (103) do render using the "modern" UI.</span></span>
    - <span data-ttu-id="56370-240">Свойство JSLink устанавливается для одного из полей для отображения.</span><span class="sxs-lookup"><span data-stu-id="56370-240">The JSLink property is set on one of the fields to render.</span></span>
    - <span data-ttu-id="56370-241">Одно из полей для отображения типу **BCS внешних данных**, **географическое положение** **OutcomeChoice**или один из этих публикации поля типов **изображения**, **Html**или **Сводные ссылки**.</span><span class="sxs-lookup"><span data-stu-id="56370-241">One of the fields to render is of type **BCS external data**, **Geolocation**, **OutcomeChoice**, or one of these publishing field types **Image**, **Html**, or **SummaryLinks**.</span></span>
    - <span data-ttu-id="56370-242">Существует областью действия список пользовательских дополнительных действий, которые их ScriptSrc свойство должно быть указано.</span><span class="sxs-lookup"><span data-stu-id="56370-242">There are list scoped user custom actions that have their ScriptSrc property set.</span></span>

- <span data-ttu-id="56370-243">Если доступные веб-часть будет **ListFormWebPart** и:</span><span class="sxs-lookup"><span data-stu-id="56370-243">If the available web part is a **ListFormWebPart** and:</span></span> 
    - <span data-ttu-id="56370-244">Страница будет отображена в диалоговом окне (IsDlg = 1).</span><span class="sxs-lookup"><span data-stu-id="56370-244">The page is shown in a dialog (IsDlg=1).</span></span> 
    - <span data-ttu-id="56370-245">Это страница формы «Новый» для библиотеки документов.</span><span class="sxs-lookup"><span data-stu-id="56370-245">It's a "New" form page for a document library.</span></span>  
    - <span data-ttu-id="56370-246">Поля для отображения не любого из следующих поддерживаемых типов: **вложения**, **TaxonomyField**, **Boolean**, **Выбор**, **валюты**, **даты и времени**, **файла**, **подстановки**, **MultiChoice** **MultiLine **за исключением при Append с управлением версиями на, **число**, **текст**, **пользователя**или **URL-адрес**.</span><span class="sxs-lookup"><span data-stu-id="56370-246">The fields to render are not any of these supported types: **Attachments**, **TaxonomyField**, **Boolean**, **Choice**, **Currency**, **DateTime**, **File**, **Lookup**, **MultiChoice**, **MultiLine** except when Append with versioning is on, **Number**, **Text**, **User**, or **Url**.</span></span>

### <a name="programmatically-detect-if-your-librarylist-will-be-shown-using-modern-or-classic"></a><span data-ttu-id="56370-247">Программная обнаруживать если библиотеки или списка будут отображаться с помощью «современный» или «классический»</span><span class="sxs-lookup"><span data-stu-id="56370-247">Programmatically detect if your library/list will be shown using "modern" or "classic"</span></span> 

<span data-ttu-id="56370-248">Предыдущем разделе описано в статье также приводится обоснование наших Автовыбор механизм, но к счастью существует простой способ для вас как разработчику понять, как будут отображаться библиотеки или списка.</span><span class="sxs-lookup"><span data-stu-id="56370-248">The previous section explained the reasoning behind our auto-detect mechanism, but luckily there's an easy way for you as a developer to understand how a library/list will be rendered.</span></span> <span data-ttu-id="56370-249">Получение сведений о этот сложнее, как получение значения свойства файла **PageRenderType** , который можно получить с помощью REST или CSOM.</span><span class="sxs-lookup"><span data-stu-id="56370-249">Getting this information is as simple as getting the value of the **PageRenderType** file property, which you can obtain by using CSOM or REST.</span></span> <span data-ttu-id="56370-250">Следующие примеры показывают, как загрузить страницу, отображение списка, а затем **PageRenderType**:</span><span class="sxs-lookup"><span data-stu-id="56370-250">The following samples show how to first load the page that is rendering the list, and then get the **PageRenderType**:</span></span>

#### <a name="csom-sample"></a><span data-ttu-id="56370-251">Пример CSOM</span><span class="sxs-lookup"><span data-stu-id="56370-251">CSOM sample</span></span>

```C#
using (var cc = new ClientContext(siteUrl))
{
    cc.Credentials = new SharePointOnlineCredentials(userName, password);
    
    // Load the AllItems.aspx file from the list
    File file = cc.Web.GetFileByServerRelativeUrl("/sites/dev/ECMTest/Forms/AllItems.aspx");
    cc.Load(file, f => f.PageRenderType);
    cc.ExecuteQuery();

    // Check page render type
    Console.WriteLine($"Status = {file.PageRenderType}");
}
```

<br/>

> [!NOTE]
> <span data-ttu-id="56370-252">Свойство PageRenderType была введена в [2017 января CSOM выпуска (16.1.6112.1200)](https://dev.office.com/blogs/new-sharepoint-csom-version-released-for-Office-365-january-2017).</span><span class="sxs-lookup"><span data-stu-id="56370-252">The PageRenderType property was introduced in [January 2017 CSOM release (16.1.6112.1200)](https://dev.office.com/blogs/new-sharepoint-csom-version-released-for-Office-365-january-2017).</span></span>

<br/>

#### <a name="rest-request"></a><span data-ttu-id="56370-253">Запрос REST</span><span class="sxs-lookup"><span data-stu-id="56370-253">REST request</span></span>

```Html
GET _api/web/getfilebyserverrelativeurl('/sites/dev/ECMTest/Forms/AllItems.aspx')/pageRenderType
```

<span data-ttu-id="56370-254">Вызовов REST возвращает целое значение, которое описывается в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="56370-254">The REST call gets you the integer value, which is explained in the following table.</span></span>

<span data-ttu-id="56370-255">Значение</span><span class="sxs-lookup"><span data-stu-id="56370-255">Value</span></span> | <span data-ttu-id="56370-256">Причина</span><span class="sxs-lookup"><span data-stu-id="56370-256">Reason</span></span>
:------:|-------
<span data-ttu-id="56370-257">0</span><span class="sxs-lookup"><span data-stu-id="56370-257">0</span></span> | <span data-ttu-id="56370-258">Значение undefined = 0, (не достаточно сведений, чтобы знать режима отображения)</span><span class="sxs-lookup"><span data-stu-id="56370-258">Undefined = 0, (there's not enough information to know the render mode)</span></span>
<span data-ttu-id="56370-259">1</span><span class="sxs-lookup"><span data-stu-id="56370-259">1</span></span> | <span data-ttu-id="56370-260">MultipeWePart</span><span class="sxs-lookup"><span data-stu-id="56370-260">MultipeWePart</span></span>
<span data-ttu-id="56370-261">2</span><span class="sxs-lookup"><span data-stu-id="56370-261">2</span></span> | <span data-ttu-id="56370-262">JSLinkCustomization</span><span class="sxs-lookup"><span data-stu-id="56370-262">JSLinkCustomization</span></span>
<span data-ttu-id="56370-263">3</span><span class="sxs-lookup"><span data-stu-id="56370-263">3</span></span> | <span data-ttu-id="56370-264">XslLinkCustomization</span><span class="sxs-lookup"><span data-stu-id="56370-264">XslLinkCustomization</span></span>
<span data-ttu-id="56370-265">4</span><span class="sxs-lookup"><span data-stu-id="56370-265">4</span></span> | <span data-ttu-id="56370-266">NoSPList</span><span class="sxs-lookup"><span data-stu-id="56370-266">NoSPList</span></span>
<span data-ttu-id="56370-267">5</span><span class="sxs-lookup"><span data-stu-id="56370-267">5</span></span> | <span data-ttu-id="56370-268">HasBusinessDataField</span><span class="sxs-lookup"><span data-stu-id="56370-268">HasBusinessDataField</span></span>
<span data-ttu-id="56370-269">6</span><span class="sxs-lookup"><span data-stu-id="56370-269">6</span></span> | <span data-ttu-id="56370-270">HasTaskOutcomeField</span><span class="sxs-lookup"><span data-stu-id="56370-270">HasTaskOutcomeField</span></span>
<span data-ttu-id="56370-271">7</span><span class="sxs-lookup"><span data-stu-id="56370-271">7</span></span> | <span data-ttu-id="56370-272">HasPublishingField</span><span class="sxs-lookup"><span data-stu-id="56370-272">HasPublishingField</span></span>
<span data-ttu-id="56370-273">8</span><span class="sxs-lookup"><span data-stu-id="56370-273">8</span></span> | <span data-ttu-id="56370-274">HasGeolocationField</span><span class="sxs-lookup"><span data-stu-id="56370-274">HasGeolocationField</span></span>
<span data-ttu-id="56370-275">9</span><span class="sxs-lookup"><span data-stu-id="56370-275">9</span></span> | <span data-ttu-id="56370-276">HasCustomActionWithCode</span><span class="sxs-lookup"><span data-stu-id="56370-276">HasCustomActionWithCode</span></span>
<span data-ttu-id="56370-277">10</span><span class="sxs-lookup"><span data-stu-id="56370-277">10</span></span> | <span data-ttu-id="56370-278">HasMetadataNavFeature</span><span class="sxs-lookup"><span data-stu-id="56370-278">HasMetadataNavFeature</span></span> 
<span data-ttu-id="56370-279">11</span><span class="sxs-lookup"><span data-stu-id="56370-279">11</span></span> | <span data-ttu-id="56370-280">SpecialViewType</span><span class="sxs-lookup"><span data-stu-id="56370-280">SpecialViewType</span></span>
<span data-ttu-id="56370-281">12</span><span class="sxs-lookup"><span data-stu-id="56370-281">12</span></span> | <span data-ttu-id="56370-282">ListTypeNoSupportForModernMode</span><span class="sxs-lookup"><span data-stu-id="56370-282">ListTypeNoSupportForModernMode</span></span>
<span data-ttu-id="56370-283">13</span><span class="sxs-lookup"><span data-stu-id="56370-283">13</span></span> | <span data-ttu-id="56370-284">Анонимных пользователей</span><span class="sxs-lookup"><span data-stu-id="56370-284">AnonymousUser</span></span>
<span data-ttu-id="56370-285">14</span><span class="sxs-lookup"><span data-stu-id="56370-285">14</span></span> | <span data-ttu-id="56370-286">ListSettingOff</span><span class="sxs-lookup"><span data-stu-id="56370-286">ListSettingOff</span></span>
<span data-ttu-id="56370-287">15</span><span class="sxs-lookup"><span data-stu-id="56370-287">15</span></span> | <span data-ttu-id="56370-288">SiteSettingOff</span><span class="sxs-lookup"><span data-stu-id="56370-288">SiteSettingOff</span></span>
<span data-ttu-id="56370-289">16</span><span class="sxs-lookup"><span data-stu-id="56370-289">16</span></span> | <span data-ttu-id="56370-290">WebSettingOff</span><span class="sxs-lookup"><span data-stu-id="56370-290">WebSettingOff</span></span>
<span data-ttu-id="56370-291">17</span><span class="sxs-lookup"><span data-stu-id="56370-291">17</span></span> | <span data-ttu-id="56370-292">TenantSettingOff</span><span class="sxs-lookup"><span data-stu-id="56370-292">TenantSettingOff</span></span>
<span data-ttu-id="56370-293">18</span><span class="sxs-lookup"><span data-stu-id="56370-293">18</span></span> | <span data-ttu-id="56370-294">CustomizedForm</span><span class="sxs-lookup"><span data-stu-id="56370-294">CustomizedForm</span></span>
<span data-ttu-id="56370-295">19</span><span class="sxs-lookup"><span data-stu-id="56370-295">19</span></span> | <span data-ttu-id="56370-296">DocLibNewForm</span><span class="sxs-lookup"><span data-stu-id="56370-296">DocLibNewForm</span></span>
<span data-ttu-id="56370-297">20</span><span class="sxs-lookup"><span data-stu-id="56370-297">20</span></span> | <span data-ttu-id="56370-298">UnsupportedFieldTypeInForm</span><span class="sxs-lookup"><span data-stu-id="56370-298">UnsupportedFieldTypeInForm</span></span>
<span data-ttu-id="56370-299">21</span><span class="sxs-lookup"><span data-stu-id="56370-299">21</span></span> | <span data-ttu-id="56370-300">InvalidFieldTypeInForm</span><span class="sxs-lookup"><span data-stu-id="56370-300">InvalidFieldTypeInForm</span></span> 
<span data-ttu-id="56370-301">22</span><span class="sxs-lookup"><span data-stu-id="56370-301">22</span></span> | <span data-ttu-id="56370-302">InvalidControModeInForm</span><span class="sxs-lookup"><span data-stu-id="56370-302">InvalidControModeInForm</span></span>
<span data-ttu-id="56370-303">23</span><span class="sxs-lookup"><span data-stu-id="56370-303">23</span></span> | <span data-ttu-id="56370-304">CustomizedPage</span><span class="sxs-lookup"><span data-stu-id="56370-304">CustomizedPage</span></span>
<span data-ttu-id="56370-305">24</span><span class="sxs-lookup"><span data-stu-id="56370-305">24</span></span> | <span data-ttu-id="56370-306">ListTemplateNotSupported</span><span class="sxs-lookup"><span data-stu-id="56370-306">ListTemplateNotSupported</span></span>
<span data-ttu-id="56370-307">100</span><span class="sxs-lookup"><span data-stu-id="56370-307">100</span></span> | <span data-ttu-id="56370-308">Современный</span><span class="sxs-lookup"><span data-stu-id="56370-308">Modern</span></span>


## <a name="additional-considerations"></a><span data-ttu-id="56370-309">Дополнительные сведения о выполнении</span><span class="sxs-lookup"><span data-stu-id="56370-309">Additional considerations</span></span>

<span data-ttu-id="56370-310">Постепенно описываются дополнительные параметры настройки для «современный» списка и библиотеки среды взаимодействия с пользователем.</span><span class="sxs-lookup"><span data-stu-id="56370-310">We'll gradually introduce more customization options for "modern" list and library experiences.</span></span> <span data-ttu-id="56370-311">Эти способ выравнивания в выпуске дополнительные возможности среды SharePoint.</span><span class="sxs-lookup"><span data-stu-id="56370-311">These will be aligned with the release of additional SharePoint Framework capabilities.</span></span> <span data-ttu-id="56370-312">На данный момент нет расписание не точное, но при выпуске новых возможностей взаимодействия «современный» статьи будут обновляться.</span><span class="sxs-lookup"><span data-stu-id="56370-312">Currently, there's no exact schedule available, but we'll update the "modern" experience articles whenever new capabilities are released.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="56370-313">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="56370-313">Additional resources</span></span>

- [<span data-ttu-id="56370-314">Настройка "современных" интерфейсов в SharePoint Online</span><span class="sxs-lookup"><span data-stu-id="56370-314">Customizing the "modern" experiences in SharePoint Online</span></span>](modern-experience-customizations.md)
- [<span data-ttu-id="56370-315">Переключение интерфейса по умолчанию для списков или библиотек документов из новых или классический</span><span class="sxs-lookup"><span data-stu-id="56370-315">Switch the default experience for lists or document libraries from new or classic</span></span>](https://support.office.com/en-us/article/Switch-the-default-experience-for-lists-or-document-libraries-from-new-or-classic-66dac24b-4177-4775-bf50-3d267318caa9)
- [<span data-ttu-id="56370-316">Современный библиотек в SharePoint</span><span class="sxs-lookup"><span data-stu-id="56370-316">Modern document libraries in SharePoint</span></span>](https://blogs.office.com/2016/06/07/modern-document-libraries-in-sharepoint)
- [<span data-ttu-id="56370-317">Здесь вы современных списки SharePoint, включая интеграцию с Microsoft потока и PowerApps</span><span class="sxs-lookup"><span data-stu-id="56370-317">Modern SharePoint lists are here—including integration with Microsoft Flow and PowerApps</span></span>](https://blogs.office.com/2016/07/25/modern-sharepoint-lists-are-here-including-integration-with-microsoft-flow-and-powerapps) 
- [<span data-ttu-id="56370-318">Различия между каждый раз новые и классический для списков и библиотек</span><span class="sxs-lookup"><span data-stu-id="56370-318">Differences between the new and classic experiences for lists and libraries</span></span>](https://support.office.com/en-us/article/Differences-between-the-new-and-classic-experiences-for-lists-and-libraries-30e1aab0-a5cc-4363-b7f2-09e2ae07d4dc?ui=en-US&rs=en-US&ad=US)
