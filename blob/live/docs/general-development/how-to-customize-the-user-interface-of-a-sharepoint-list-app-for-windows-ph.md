---
title: "Настройка пользовательского интерфейса приложения списка SharePoint для Windows Phone"
ms.date: 09/25/2017
ms.prod: sharepoint
ms.assetid: 09ed59af-5e2b-4716-a9e4-a015e4793d85
ms.openlocfilehash: 81e6202027a0c94af385bb5c586521995ba6c182
ms.sourcegitcommit: 1cae27d85ee691d976e2c085986466de088f526c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/13/2017
---
# <a name="how-to-customize-the-user-interface-of-a-sharepoint-list-app-for-windows-phone"></a><span data-ttu-id="dbd93-102">Как: Настройка пользовательского интерфейса приложения списка SharePoint для Windows Phone</span><span class="sxs-lookup"><span data-stu-id="dbd93-102">How to: Customize the user interface of a SharePoint list app for Windows Phone</span></span>
<span data-ttu-id="dbd93-p101">Настройте пользовательский интерфейс Windows Phone, созданный с помощью шаблона приложения списка SharePoint для Windows. Приложения списка SharePoint из шаблона приложения списка SharePoint для Windows Phone основаны на платформе Silverlight для Windows Phone. Все возможности, предоставляемые платформы Silverlight на ОС Windows Phone, доступны для разработчиков по настройке пользовательского интерфейса (UI) приложения списка SharePoint, предназначенной для Windows Phone.</span><span class="sxs-lookup"><span data-stu-id="dbd93-p101">Customize the Windows Phone user interface generated by the Windows Phone SharePoint List Application template. SharePoint list apps created from the Windows Phone SharePoint List Application template are based on the Silverlight for Windows Phone framework. All of the capabilities provided by the Silverlight platform on a Windows Phone are available to developers for customizing the user interface (UI) of a SharePoint list app designed for a Windows Phone.</span></span>
  
    
    


> <span data-ttu-id="dbd93-106">**Важные:** При разработке приложения для Windows Phone 8, должны использовать Visual Studio Express 2012 г., а не в Visual Studio 2010 Express.</span><span class="sxs-lookup"><span data-stu-id="dbd93-106">**Important:** If you are developing an app for Windows Phone 8, you must use Visual Studio Express 2012 instead of Visual Studio 2010 Express.</span></span> <span data-ttu-id="dbd93-107">За исключением среды разработки все сведения в этой статье применимы к созданию приложений для Windows Phone 8 и Windows Phone 7.</span><span class="sxs-lookup"><span data-stu-id="dbd93-107">Except for the development environment, all information in this article applies to creating apps for both Windows Phone 8 and Windows Phone 7.</span></span> <span data-ttu-id="dbd93-108">> Для получения дополнительных сведений см [как: Настройка среды разработки мобильных приложений для SharePoint](how-to-set-up-an-environment-for-developing-mobile-apps-for-sharepoint.md).</span><span class="sxs-lookup"><span data-stu-id="dbd93-108">> For more information, see  [How to: Set up an environment for developing mobile apps for SharePoint](how-to-set-up-an-environment-for-developing-mobile-apps-for-sharepoint.md).</span></span> 
  
    
    


## <a name="create-a-sharepoint-list-app-for-user-interface-customizations"></a><span data-ttu-id="dbd93-109">Создание приложения списка SharePoint для настройки интерфейса пользователя</span><span class="sxs-lookup"><span data-stu-id="dbd93-109">Create a SharePoint list app for user interface customizations</span></span>
<span data-ttu-id="dbd93-110"><a name="BKMK_CreatingSPListApp"> </a></span><span class="sxs-lookup"><span data-stu-id="dbd93-110"></span></span>

<span data-ttu-id="dbd93-111">Для выполнения следующих процедур предполагается на сервер SharePoint Server содержит список заказов продукта из шаблона настраиваемый список, аналогичную образца списка заказов на продукт, как используется в [для: реализация бизнес-логики и данных проверок в приложении Windows Phone для SharePoint](how-to-implement-business-logic-and-data-validation-in-a-windows-phone-app-for-s.md).</span><span class="sxs-lookup"><span data-stu-id="dbd93-111">For the following procedures, assume a server running SharePoint Server has a Product Orders list created from the Custom List template, similar to the sample Product Orders list used in  [How to: Implement business logic and data validation in a Windows Phone app for SharePoint](how-to-implement-business-logic-and-data-validation-in-a-windows-phone-app-for-s.md).</span></span> <span data-ttu-id="dbd93-112">Для примера приложения Windows Phone, используемых в этом разделе в списке заказов продукта — это приложение на основе был изменен дополнительные поля.</span><span class="sxs-lookup"><span data-stu-id="dbd93-112">For the sample Windows Phone app used in this topic, the Product Orders list on which the app is based has been modified to include additional fields.</span></span> <span data-ttu-id="dbd93-113">Измененный список заказов на продукт, используемый для целей примеров, описанных в этом разделе будет создан со столбцами и типы полей, показано в таблице 1.</span><span class="sxs-lookup"><span data-stu-id="dbd93-113">The modified Product Orders list used for the purposes of the examples in this topic has been created with the columns and field types shown in Table 1.</span></span>
  
    
    

<span data-ttu-id="dbd93-114">**В таблице 1. Измененный список заказов на продукт**</span><span class="sxs-lookup"><span data-stu-id="dbd93-114">**Table 1. Modified Product Orders list**</span></span>


|<span data-ttu-id="dbd93-115">**Столбец**</span><span class="sxs-lookup"><span data-stu-id="dbd93-115">**Column**</span></span>|<span data-ttu-id="dbd93-116">**Тип**</span><span class="sxs-lookup"><span data-stu-id="dbd93-116">**Type**</span></span>|<span data-ttu-id="dbd93-117">**Обязательный**</span><span class="sxs-lookup"><span data-stu-id="dbd93-117">**Required**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="dbd93-118">Продукт (например, заголовок)</span><span class="sxs-lookup"><span data-stu-id="dbd93-118">Product (i.e., Title)</span></span>  <br/> |<span data-ttu-id="dbd93-119">Однострочный текст (Текст)</span><span class="sxs-lookup"><span data-stu-id="dbd93-119">Single line of text (Text)</span></span>  <br/> |<span data-ttu-id="dbd93-120">Да</span><span class="sxs-lookup"><span data-stu-id="dbd93-120">Yes</span></span>  <br/> |
|<span data-ttu-id="dbd93-121">Описание</span><span class="sxs-lookup"><span data-stu-id="dbd93-121">Description</span></span>  <br/> |<span data-ttu-id="dbd93-122">Однострочный текст (Текст)</span><span class="sxs-lookup"><span data-stu-id="dbd93-122">Single line of text (Text)</span></span>  <br/> |<span data-ttu-id="dbd93-123">Нет</span><span class="sxs-lookup"><span data-stu-id="dbd93-123">No</span></span>  <br/> |
|<span data-ttu-id="dbd93-124">Категория продуктов</span><span class="sxs-lookup"><span data-stu-id="dbd93-124">Product Category</span></span>  <br/> |<span data-ttu-id="dbd93-125">Варианты</span><span class="sxs-lookup"><span data-stu-id="dbd93-125">Choice</span></span>  <br/> |<span data-ttu-id="dbd93-126">Нет</span><span class="sxs-lookup"><span data-stu-id="dbd93-126">No</span></span>  <br/> |
|<span data-ttu-id="dbd93-127">Количество</span><span class="sxs-lookup"><span data-stu-id="dbd93-127">Quantity</span></span>  <br/> |<span data-ttu-id="dbd93-128">Число</span><span class="sxs-lookup"><span data-stu-id="dbd93-128">Number</span></span>  <br/> |<span data-ttu-id="dbd93-129">Да</span><span class="sxs-lookup"><span data-stu-id="dbd93-129">Yes</span></span>  <br/> |
|<span data-ttu-id="dbd93-130">Дата заказа</span><span class="sxs-lookup"><span data-stu-id="dbd93-130">Order Date</span></span>  <br/> |<span data-ttu-id="dbd93-131">Дата и время (DateTime)</span><span class="sxs-lookup"><span data-stu-id="dbd93-131">Date and Time (DateTime)</span></span>  <br/> |<span data-ttu-id="dbd93-132">Нет</span><span class="sxs-lookup"><span data-stu-id="dbd93-132">No</span></span>  <br/> |
|<span data-ttu-id="dbd93-133">Дата выполнения</span><span class="sxs-lookup"><span data-stu-id="dbd93-133">Fulfillment Date</span></span>  <br/> |<span data-ttu-id="dbd93-134">Дата и время (DateTime)</span><span class="sxs-lookup"><span data-stu-id="dbd93-134">Date and Time (DateTime)</span></span>  <br/> |<span data-ttu-id="dbd93-135">Нет</span><span class="sxs-lookup"><span data-stu-id="dbd93-135">No</span></span>  <br/> |
|<span data-ttu-id="dbd93-136">Срочный</span><span class="sxs-lookup"><span data-stu-id="dbd93-136">Rush</span></span>  <br/> |<span data-ttu-id="dbd93-137">Логическое</span><span class="sxs-lookup"><span data-stu-id="dbd93-137">Boolean</span></span>  <br/> |<span data-ttu-id="dbd93-138">Нет</span><span class="sxs-lookup"><span data-stu-id="dbd93-138">No</span></span>  <br/> |
|<span data-ttu-id="dbd93-139">Номер контакта</span><span class="sxs-lookup"><span data-stu-id="dbd93-139">Contact Number</span></span>  <br/> |<span data-ttu-id="dbd93-140">Однострочный текст (Текст)</span><span class="sxs-lookup"><span data-stu-id="dbd93-140">Single line of text (Text)</span></span>  <br/> |<span data-ttu-id="dbd93-141">Нет</span><span class="sxs-lookup"><span data-stu-id="dbd93-141">No</span></span>  <br/> |
   
<span data-ttu-id="dbd93-142">Выполните процедуры, описанные в [как: Создание приложения списка SharePoint для Windows Phone](how-to-create-a-windows-phone-sharepoint-list-app.md) для использования шаблона приложения списка SharePoint для Windows Phone для создания приложения списка SharePoint в качестве отправной точки для следующих настроек пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="dbd93-142">Follow the procedures in  [How to: Create a Windows Phone SharePoint list app](how-to-create-a-windows-phone-sharepoint-list-app.md) to use the Windows Phone SharePoint List Application template to generate a SharePoint list app as a starting point for the following UI customizations.</span></span> <span data-ttu-id="dbd93-143">Укажите в качестве целевого списка SharePoint для приложения, список, содержащий схемы, аналогичную что представлен в таблице 1.</span><span class="sxs-lookup"><span data-stu-id="dbd93-143">Specify as the target SharePoint list for the app a list that has a schema similar to what is represented in Table 1.</span></span>
  
    
    

## <a name="replace-textbox-controls-with-datepicker-controls"></a><span data-ttu-id="dbd93-144">Замена элемента управления TextBox с элементами управления DatePicker</span><span class="sxs-lookup"><span data-stu-id="dbd93-144">Replace TextBox controls with DatePicker controls</span></span>
<span data-ttu-id="dbd93-145"><a name="BKMK_ReplacingControls"> </a></span><span class="sxs-lookup"><span data-stu-id="dbd93-145"></span></span>

<span data-ttu-id="dbd93-p105">На основе проекта, созданной с помощью шаблона, полей в списке обозначены как поля **даты и времени** (как, например поле **Дата заказа в списке заказов продукта примера)**, тем самым соглашаетесь соблюдать по умолчанию для элементов управления **TextBox** в форме редактирования (EditForm.xaml) и новая форма (NewForm.xaml) в приложении. Для упрощения ввода значения дат для таких полей, заменив их связанных **TextBox** элементы управления с элементами управления **DatePicker** с [Silverlight для Windows Phone Toolkit](http://silverlight.codeplex.com/releases/view/75888) первый улучшения, внесенные в пользовательском интерфейсе. Вы можете установить Silverlight для Windows Phone Toolkit из  [Веб-сайте CodePlex](http://www.codeplex.com/), узел размещения для проектов программного обеспечения с открытым исходным кодом.</span><span class="sxs-lookup"><span data-stu-id="dbd93-p105">Based on the project as generated by the template, fields in the list designated as **DateTime** fields (as, for example, the **Order Date** field in the sample Product Orders list) are bound by default to **TextBox** controls in the Edit form (EditForm.xaml) and the New form (NewForm.xaml) in the app. The first improvement you will make to the user interface is to facilitate entering date values for such fields by replacing their associated **TextBox** controls with **DatePicker** controls from the [Silverlight for Windows Phone Toolkit](http://silverlight.codeplex.com/releases/view/75888). You can install Silverlight for Windows Phone Toolkit from the  [CodePlex Website](http://www.codeplex.com/), a hosting site for open-source software projects.</span></span>
  
    
    

### <a name="to-replace-textbox-controls-with-datepicker-controls"></a><span data-ttu-id="dbd93-149">Замена элемента управления TextBox с элементами управления DatePicker</span><span class="sxs-lookup"><span data-stu-id="dbd93-149">To replace TextBox controls with DatePicker controls</span></span>


1. <span data-ttu-id="dbd93-150">В Microsoft Visual Studio 2010 Если проект еще не открыт, откройте проект, созданный в предыдущем разделе, на основе шаблона приложения списка SharePoint для Windows Phone и с помощью списка SharePoint как список заказов на продукт, представленный в таблице 1.</span><span class="sxs-lookup"><span data-stu-id="dbd93-150">In Microsoft Visual Studio 2010, if the project is not opened already, open the project you created in the preceding section, based on the Windows Phone SharePoint List Application template and using a SharePoint list like the Product Orders list represented in Table 1.</span></span>
    
  
2. <span data-ttu-id="dbd93-p106">В Visual Studio в меню **проект** выберите команду **Добавить ссылку**. Откроется диалоговое окно **Добавить ссылку**.</span><span class="sxs-lookup"><span data-stu-id="dbd93-p106">On the **Project** menu in Visual Studio, click **Add Reference**. The **Add Reference** dialog box appears.</span></span>
    
  
3. <span data-ttu-id="dbd93-153">На вкладке **Обзор** перейдите к Microsoft.Phone.Controls.Toolkit.dll сборки, установленные Toolkit Silverlight для Windows Phone.</span><span class="sxs-lookup"><span data-stu-id="dbd93-153">On the **Browse** tab, navigate to the Microsoft.Phone.Controls.Toolkit.dll assembly installed by the Silverlight for Windows Phone Toolkit.</span></span>
    
    > <span data-ttu-id="dbd93-154">**Примечание:** Microsoft.Phone.Controls.Toolkit.dll сборки можно найти в %PROGRAMFILES%(x86)\\пакеты SDK для Microsoft\\Windows Phone\\v7.1\\набор средств\\< *MonthYear*  >\\корзины в стандартном Установка набора средств, где < *MonthYear* > может быть что-то вроде «Oct11», в зависимости от версии набора средств установлены.</span><span class="sxs-lookup"><span data-stu-id="dbd93-154">**Note:** The Microsoft.Phone.Controls.Toolkit.dll assembly can be found in %PROGRAMFILES%(x86)\\Microsoft SDKs\\Windows Phone\\v7.1\\Toolkit\\< *MonthYear*  >\\Bin in a standard installation of the Toolkit, where < *MonthYear*  > may be something like "Oct11", depending on the version of the Toolkit installed.</span></span> <span data-ttu-id="dbd93-155">(Или можно найти сборки, установленные набор средств на компьютере, нажмите кнопку **Пуск** , **Все**программы, развертывание **Microsoft Silverlight для средств Windows Phone** элемента в меню программы выберите пункт и ** Двоичные файлы**.)</span><span class="sxs-lookup"><span data-stu-id="dbd93-155">(Or you can find the assemblies installed by the Toolkit on your system by clicking the **Start** button, pointing to **All Programs**, expanding the **Microsoft Silverlight for Windows Phone Toolkit** item in the Programs menu, and clicking **Binaries**.)</span></span> 
4. <span data-ttu-id="dbd93-156">В **Обозревателе решений** выберите файл EditForm.xaml в разделе узел **представления**.</span><span class="sxs-lookup"><span data-stu-id="dbd93-156">In **Solution Explorer**, select the EditForm.xaml file under the **Views** node.</span></span>
    
  
5. <span data-ttu-id="dbd93-157">КлавишиSHIFT + F7(или дважды щелкните файл) для открытия файла в конструкторе.</span><span class="sxs-lookup"><span data-stu-id="dbd93-157">Press SHIFT + F7 (or double-click the file) to open the file in the designer.</span></span>
    
  
6. <span data-ttu-id="dbd93-158">В XAML панели конструктора добавьте объявление пространства имен для различения элементов управления в сборке набор средств для тега  `<phone:PhoneApplicationPage>` .</span><span class="sxs-lookup"><span data-stu-id="dbd93-158">In the XAML pane of the designer, add a namespace declaration for distinguishing the controls in the Toolkit assembly to the  `<phone:PhoneApplicationPage>` tag.</span></span>
    
```
  
<phone:PhoneApplicationPage
    x:Class="ContosoSPListApp.EditForm"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:phone="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone"
    xmlns:toolkit="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone.Controls.Toolkit"
    xmlns:shell="clr-namespace:Microsoft.Phone.Shell;assembly=Microsoft.Phone"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d" d:DesignWidth="480" d:DesignHeight="696"
    FontFamily="{StaticResource PhoneFontFamilyNormal}"
    FontSize="{StaticResource PhoneFontSizeNormal}"
    Foreground="{StaticResource PhoneForegroundBrush}"
    SupportedOrientations="Portrait" Orientation="Portrait"
    shell:SystemTray.IsVisible="True" x:Name = "EditPage">
```


    The only change to the default markup generated by the template is the addition of the "xmlns:toolkit" namespace designation. Also note that the value of the **Class** attribute here is based on the name of your project. "ContosoSPListApp" is the name of this sample project. The value of this attribute in your project will differ from the value here depending on the name of your project.
    
  
7. <span data-ttu-id="dbd93-p108">В файле EditForm.xaml найдите элемент управления **StackPanel** в разметка, которая содержит элементы управления, связанные с полем **Дата заказа** (обозначены как "Order_x0020_Date" в XML-схему для поля). По умолчанию шаблон создает элемент управления **TextBox** и два элемента управления **TextBlock** для поля **даты и времени**. Разметка для элемента управления **StackPanel** и элементов управления, которые он содержит должен иметь следующую разметку:</span><span class="sxs-lookup"><span data-stu-id="dbd93-p108">In the EditForm.xaml file, locate the **StackPanel** control in the markup that contains the controls associated with the **Order Date** field (designated as "Order_x0020_Date" in the XML schema for the field). By default, the template generates a **TextBox** control and two **TextBlock** controls for **DateTime** fields. The markup for the **StackPanel** control and the controls it contains should resemble the following markup.</span></span>
    
```
  
<StackPanel Orientation="Vertical" Margin="0,5,0,5">
    <TextBlock TextWrapping="Wrap" HorizontalAlignment="Left" 
             Style="{StaticResource PhoneTextNormalStyle}">Order Date</TextBlock>
    <TextBox Height="Auto" Style="{StaticResource TextValidationTemplate}" 
                FontSize="{StaticResource PhoneFontSizeNormal}" Width="470" 
                HorizontalAlignment="Left" Name="txtOrder_x0020_Date" 
                Text="{Binding [Order_x0020_Date], Mode=TwoWay, ValidatesOnNotifyDataErrors=True,
                NotifyOnValidationError=True}" TextWrapping="Wrap" />
    <TextBlock FontSize="16" TextWrapping="Wrap" HorizontalAlignment="Left" Style="{StaticResource PhoneTextSubtleStyle}" Text="{Binding DateTimeFormat}" />
</StackPanel>
```

8. <span data-ttu-id="dbd93-162">Замените этот элемент управления **StackPanel** и элементов управления, которые он содержит следующую разметку.</span><span class="sxs-lookup"><span data-stu-id="dbd93-162">Replace that **StackPanel** control and the controls it contains with the following markup.</span></span>
    
```
  
<StackPanel Orientation="Vertical" Margin="0,5,0,5">
    <toolkit:DatePicker Header="Order Date" Value="{Binding [Order_x0020_Date], Mode=TwoWay}">
              </toolkit:DatePicker>
</StackPanel>
```

9. <span data-ttu-id="dbd93-p109">Затем найдите (а также в EditForm.xaml) элемента управления, **StackPanel** разметка, которая содержит элементы управления, связанные с полем Дата выполнения (обозначены как "Fulfillment_x0020_Date" в схеме для поля). Разметка для **StackPanel** и элементов управления, которые он содержит должен иметь следующую разметку:</span><span class="sxs-lookup"><span data-stu-id="dbd93-p109">Next, locate (also in EditForm.xaml) the **StackPanel** control in the markup that contains the controls associated with the Fulfillment Date field (designated as "Fulfillment_x0020_Date" in the schema for the field). The markup for the **StackPanel** and the controls it contains should resemble the following markup.</span></span>
    
```
  
<StackPanel Orientation="Vertical" Margin="0,5,0,5">
    <TextBlock TextWrapping="Wrap" HorizontalAlignment="Left" Style="{StaticResource PhoneTextNormalStyle}">Fulfillment Date</TextBlock>
    <TextBox Height="Auto" Style="{StaticResource TextValidationTemplate}" 
           FontSize="{StaticResource PhoneFontSizeNormal}" Width="470" HorizontalAlignment="Left"
           Name="txtFulfillment_x0020_Date" Text="{Binding [Fulfillment_x0020_Date], 
           Mode=TwoWay, ValidatesOnNotifyDataErrors=True, NotifyOnValidationError=True}" 
           TextWrapping="Wrap" />
    <TextBlock FontSize="16" TextWrapping="Wrap" HorizontalAlignment="Left" 
          Style="{StaticResource PhoneTextSubtleStyle}" Text="{Binding DateTimeFormat}" />
</StackPanel>
```

10. <span data-ttu-id="dbd93-165">Замените этот элемент управления **StackPanel** и элементов управления, которые он содержит следующую разметку.</span><span class="sxs-lookup"><span data-stu-id="dbd93-165">Replace that **StackPanel** control and the controls it contains with the following markup.</span></span>
    
```
  
<StackPanel Orientation="Vertical" Margin="0,5,0,5">
    <toolkit:DatePicker Header="Fulfillment Date" Value="{Binding [Fulfillment_x0020_Date], Mode=TwoWay}"></toolkit:DatePicker>
</StackPanel>
```

11. <span data-ttu-id="dbd93-p110">И, наконец можно добавить изображения значка интерфейс пользователя из набора Silverlight для Windows Phone в проект. В **Обозревателе решений** выберите узел, представляющий проект (с именем, например, "ContosoSPListApp").</span><span class="sxs-lookup"><span data-stu-id="dbd93-p110">Finally, you can add user interface icon images from the Silverlight for Windows Phone Toolkit to your project. In **Solution Explorer**, select the node representing the project (named, for example, "ContosoSPListApp").</span></span>
    
  
12. <span data-ttu-id="dbd93-p111">В меню **проект** в Visual Studio нажмите кнопку **Создать папку**. Новую папку добавляется в узле проекта. Назовите папку «Toolkit.Content».</span><span class="sxs-lookup"><span data-stu-id="dbd93-p111">On the **Project** menu in Visual Studio, click **New Folder**. A new folder is added under the project node. Name the folder "Toolkit.Content".</span></span>
    
  
13. <span data-ttu-id="dbd93-171">В **Обозревателе решений** выберите папку, созданную на предыдущем шаге.</span><span class="sxs-lookup"><span data-stu-id="dbd93-171">In **Solution Explorer**, select the folder you created in the preceding step.</span></span>
    
  
14. <span data-ttu-id="dbd93-p112">В меню **проект** выберите пункт **Добавить существующий элемент**. Откроется окно **Браузера файла**.</span><span class="sxs-lookup"><span data-stu-id="dbd93-p112">On the **Project** menu, click **Add Existing Item**. A **File Browser** window opens.</span></span>
    
  
15. <span data-ttu-id="dbd93-174">Перейдите к папке, где ApplicationBar.Cancel.png и ApplicationBar.Check.png, поддерживающей значки, установленных с Toolkit Silverlight для Windows Phone.</span><span class="sxs-lookup"><span data-stu-id="dbd93-174">Navigate to the folder where the supporting icon images, ApplicationBar.Cancel.png and ApplicationBar.Check.png, were installed by the Silverlight for Windows Phone Toolkit.</span></span>
    
    > <span data-ttu-id="dbd93-175">**Примечание:** Изображения находятся в %PROGRAMFILES%(x86)\\пакеты SDK для Microsoft\\Windows Phone\\v7.1\\набор средств\\ < *MonthYear*>\\Bin\\значков в стандартную установку пакета средств, где < *MonthYear* >, возможно, что-то вроде «Oct11», в зависимости от версии набора средств установлены.  </span><span class="sxs-lookup"><span data-stu-id="dbd93-175">**Note:** The images are in %PROGRAMFILES%(x86)\\Microsoft SDKs\\Windows Phone\\v7.1\\Toolkit\\< *MonthYear*  >\\Bin\\Icons in a standard installation of the Toolkit, where < *MonthYear*  > may be something like "Oct11", depending on the version of the Toolkit installed.</span></span>
16. <span data-ttu-id="dbd93-p113">Установите оба изображения и нажмите кнопку **Добавить**. Файлы изображений добавляются в проект в узле папка **Toolkit.Content**.</span><span class="sxs-lookup"><span data-stu-id="dbd93-p113">Select both images and click **Add**. The image files are added to the project under the **Toolkit.Content** folder node.</span></span>
    
    > <span data-ttu-id="dbd93-178">**Важные:** Для компонентов Silverlight для Windows Phone набора инструментов должны иметь возможность использовать изображения значка, они должны быть размещены в расположении в вашей планируемый как указано на предыдущем шаге.</span><span class="sxs-lookup"><span data-stu-id="dbd93-178">**Important:** For the components of the Silverlight for Windows Phone Toolkit to be able to use the icon images, they must be placed in the location in your projected as specified in the preceding steps.</span></span> 
17. <span data-ttu-id="dbd93-179">В **Обозревателе решений** выберите оба файла изображения в папке **Toolkit.Content**.</span><span class="sxs-lookup"><span data-stu-id="dbd93-179">In **Solution Explorer**, select both image files under the **Toolkit.Content** folder.</span></span>
    
  
18. <span data-ttu-id="dbd93-180">**Окно "Свойства"** установите для свойства **Действие при построении** изображений "Содержимого" и присвойте свойству **Копировать в выходной каталог** для "Копировать, если новее".</span><span class="sxs-lookup"><span data-stu-id="dbd93-180">In the **Properties Window**, set the **Build Action** property for the images to "Content" and set the **Copy to Output Directory** property to "Copy if newer".</span></span>
    
    > <span data-ttu-id="dbd93-181">**Примечание:** Если **Окно "Свойства"** не отображается, нажмите сочетание клавиш CTRL + W и P для отображения окна в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="dbd93-181">**Note:** If the **Properties Window** is not visible, press CTRL + W and then P to display the window in Visual Studio.</span></span>
      > <span data-ttu-id="dbd93-182">При запуске проекта (нажатием клавиши F5) для развертывания на эмулятора Windows Phone, можно перейти к форме **изменения** элемента (, щелкнув элемент в главной страницы представления списка и нажмите кнопку **Изменить** на **Панель приложения** приложение).</span><span class="sxs-lookup"><span data-stu-id="dbd93-182">If you start the project (by pressing F5) to deploy it to the Windows Phone Emulator, you can navigate to the **Edit** form for an item (by clicking an item in the main List View page and then clicking the **Edit** button on the **Application Bar** in the app).</span></span> <span data-ttu-id="dbd93-183">Поля **даты и времени** в формате, теперь связанный с элементом управления **DatePicker** , как показано на рисунке 1.</span><span class="sxs-lookup"><span data-stu-id="dbd93-183">The **DateTime** fields in the form are now associated with the **DatePicker** control, as shown in Figure 1.</span></span>
  
    
    

<span data-ttu-id="dbd93-184">**На рисунке 1. Изменение формы с элементом управления DatePicker**</span><span class="sxs-lookup"><span data-stu-id="dbd93-184">**Figure 1. Edit form with DatePicker control**</span></span>

  
    
    

  
    
    
![Форма редактирования с элементом управления DatePicker](../images/787df903-833d-4a12-a692-716ceaf54c10.gif)
  
    
    
<span data-ttu-id="dbd93-186">Элемент управления **DatePicker** (с выделением для поля **Дата заказа** на рис. 1) имеет вид, как элемент управления **TextBox** с помощью связанных **TextBlock** как метка, за исключением того, что если щелкните элемент управления **DatePicker** (или коснитесь ее на устройстве Windows Phone), элемент управления отображает отдельная страница с элементами управления для выбора даты с использованием жестов, как показано на рисунке 2.</span><span class="sxs-lookup"><span data-stu-id="dbd93-186">The **DatePicker** control (highlighted for the **Order Date** field in Figure 1) looks very much like a **TextBox** control with an associated **TextBlock** as a label, except that when you click the **DatePicker** control (or tap it on a Windows Phone device), the control displays a separate page with controls for selecting dates using gestures, as shown in Figure 2.</span></span>
  
    
    

<span data-ttu-id="dbd93-187">**На рисунке 2. Страница выбора даты**</span><span class="sxs-lookup"><span data-stu-id="dbd93-187">**Figure 2. Date chooser page**</span></span>

  
    
    

  
    
    
![Страница выбора даты](../images/21aebcdb-d7e6-4a61-ac6e-6ae266b1b55d.gif)
  
    
    
<span data-ttu-id="dbd93-p115">Щелчок передачи кнопки **Готово** выбранной даты в **DatePicker** элемент управления в форме **редактирования**. После нажатия кнопки **Сохранить** в данной форме значения поля **даты и времени**, связанные с элементами управления **DatePicker** обновляются в списке SharePoint на сервере, так как свойства **Value** элементов управления были привязаны к соответствующим полям в файл EditForm.xaml в предыдущей процедуре. Если вы хотите заменить **TextBox** элементы управления с элементами управления **DatePicker** в виде новой, будет повторите шаги 4 - 10 процедуры для файла NewForm.xaml в проекте.</span><span class="sxs-lookup"><span data-stu-id="dbd93-p115">Clicking the **Done** button transfers the chosen date to the **DatePicker** control on the **Edit** form. If you then click the **Save** button on that form, the values of the **DateTime** fields associated with the **DatePicker** controls are updated in the SharePoint list on the server, because the **Value** properties of the controls were bound to the appropriate fields in the EditForm.xaml file in the procedure above. If you wanted to replace **TextBox** controls with **DatePicker** controls in the New form as well, you would repeat Steps 4 through 10 of the procedure for the NewForm.xaml file in the project.</span></span>
  
    
    

## <a name="add-controls-to-support-custom-fill-in-options-for-choice-fields"></a><span data-ttu-id="dbd93-192">Добавление элементов управления для поддержки настраиваемых замещение вариантов для выбора.</span><span class="sxs-lookup"><span data-stu-id="dbd93-192">Add controls to support custom fill-in options for Choice fields</span></span>
<span data-ttu-id="dbd93-193"><a name="BKMK_AddingControlsForChoiceFields"> </a></span><span class="sxs-lookup"><span data-stu-id="dbd93-193"></span></span>

<span data-ttu-id="dbd93-p116">Поля, обозначенные с типом поля выбора в списке SharePoint можно настроить на сервере SharePoint, чтобы пользователи могли определить настраиваемые (или «замещение») выбора значения для поля, в дополнение к все объявленные выбора значения, которые можно назначить для поля выбора при определении на сервере. В проектах, созданных на основе шаблона приложения списка SharePoint для Windows Phone по умолчанию для поддержки интерфейса пользователя для ввода «замещение» параметры не отображаются поля Choice. В процедурах этого раздела добавляемого элементы управления пользовательского интерфейса и кода ваше приложение для поддержки ввода значений настраиваемого выбора в поле категории продуктов.</span><span class="sxs-lookup"><span data-stu-id="dbd93-p116">Fields designated with the Choice field type in a SharePoint list can be configured on a SharePoint Server to allow users to specify custom (or "fill-in") choice values for a field, in addition to any declared choice values that may be assigned to a Choice field when it is defined on the server. In projects created from the Windows Phone SharePoint List Application template, Choice fields are not rendered by default to include UI support for entering "fill-in" options. In the procedures in this section, you will add UI controls and code to your app to support entering custom choice values for the Product Category field.</span></span>
  
    
    
<span data-ttu-id="dbd93-197">В следующих процедурах выполним следующие задачи:</span><span class="sxs-lookup"><span data-stu-id="dbd93-197">In the following procedures, you will:</span></span>
  
    
    

- <span data-ttu-id="dbd93-198">Добавьте в класс ( **ContosoConverter**) с логикой преобразования данных процесса сохраняется в поле выбора категории продукта.</span><span class="sxs-lookup"><span data-stu-id="dbd93-198">Add a class ( **ContosoConverter**) with conversion logic to process data to be saved to the Product Category Choice field.</span></span>
    
  
- <span data-ttu-id="dbd93-p117">Добавьте свойство члена ( **OtherCategoryValue**) класс **EditItemViewModel**, который предоставляет доступ к string, представляющее значение "замещение" для поля выбора. Этот член свойство будет служить источником в объявлении привязки для элемента управления добавлены **TextBox** в форме редактирования.</span><span class="sxs-lookup"><span data-stu-id="dbd93-p117">Add a property member ( **OtherCategoryValue**) to the **EditItemViewModel** class that provides access to a string representing the "fill-in" value for the Choice field. This property member will serve as the source in a Binding declaration for an added **TextBox** control on the Edit form.</span></span>
    
  
- <span data-ttu-id="dbd93-201">Добавьте элемент управления **RadioButton** и управления **TextBox** форме редактирования для пользователи должны иметь возможность указывать значение "замещение" выбора в поле категории продуктов.</span><span class="sxs-lookup"><span data-stu-id="dbd93-201">Add a **RadioButton** control and a **TextBox** control to the Edit form for users to be able to specify a "fill-in" choice value for the Product Category field.</span></span>
    
  
- <span data-ttu-id="dbd93-202">Измените файл фонового кода EditForm.xaml.cs, связанного с формой редактирования для регистрации изменить поля значение конвертера **задать** функцию для полей Choice и реализация обработчиков событий для элементов управления в форме редактирования.</span><span class="sxs-lookup"><span data-stu-id="dbd93-202">Modify the code-behind file, EditForm.xaml.cs, associated with the Edit form to register an edit field value converter **set** function for Choice fields and implement event handlers for the controls added to the Edit form.</span></span>
    
  

> <span data-ttu-id="dbd93-203">**Примечание:** Дополнительные сведения о конвертерах значение поля можно [как: поддержка и convert SharePoint поля типов приложений Windows Phone](how-to-support-and-convert-sharepoint-field-types-for-windows-phone-apps.md).</span><span class="sxs-lookup"><span data-stu-id="dbd93-203">**Note:** For more information about field value converters, see  [How to: Support and convert SharePoint field types for Windows Phone apps](how-to-support-and-convert-sharepoint-field-types-for-windows-phone-apps.md).</span></span> 
  
    
    


  
    
    

### <a name="to-add-a-class-to-support-data-conversion-for-choice-fields"></a><span data-ttu-id="dbd93-204">Добавление класса для поддержки преобразования данных для выбора.</span><span class="sxs-lookup"><span data-stu-id="dbd93-204">To add a class to support data conversion for Choice fields</span></span>


1. <span data-ttu-id="dbd93-205">В **Обозревателе решений** выберите узел, представляющий проект (с именем, например,ContosoSPListApp).</span><span class="sxs-lookup"><span data-stu-id="dbd93-205">In **Solution Explorer**, select the node representing the project (named, for example, ContosoSPListApp).</span></span>
    
  
2. <span data-ttu-id="dbd93-p118">В Visual Studio (или Visual Studio Express для Windows Phone) в меню **проект** выберите пункт **Добавление класса**. Откроется диалоговое окно **Добавление нового элемента** с помощью C# **класс** шаблона уже выбраны.</span><span class="sxs-lookup"><span data-stu-id="dbd93-p118">On the **Project** menu in Visual Studio (or Visual Studio Express for Windows Phone), click **Add Class**. The **Add New Item** dialog box opens with the C# **Class** template already selected.</span></span>
    
  
3. <span data-ttu-id="dbd93-p119">Укажите имя для файла класса (как, например, ContosoConverter.cs) и нажмите кнопку **Добавить**. Файл класса будет добавлен в проект и открыт для редактирования.</span><span class="sxs-lookup"><span data-stu-id="dbd93-p119">Specify a name for the class file (as, for example, ContosoConverter.cs) and click **Add**. The class file is added to the project and opened for editing.</span></span>
    
  
4. <span data-ttu-id="dbd93-210">Замените содержимое файла следующим кодом.</span><span class="sxs-lookup"><span data-stu-id="dbd93-210">Replace the contents of the file with the following code.</span></span>
    
```cs
  
using System;
using System.Net;
using System.Windows;
using System.Collections.ObjectModel;
using Microsoft.SharePoint.Phone.Application;
using Microsoft.SharePoint.Client;

namespace SPListAppUICustomization
{
    public class ContosoConverter
    {
        // Edit Field Value Converter SET function for Choice fields.
        public static void SetConvertedChoiceEditFieldValue(string fieldName, object fieldValue, 
                                        ListItem item, ConversionContext context, string customCategory)
        {
            ObservableCollection<ChoiceFieldViewModel> choices = fieldValue as
                                                   ObservableCollection<ChoiceFieldViewModel>;
               bool isCustomValue = true;

            string specifiedChoice = string.Empty;

            if (choices != null)
            {
                foreach (ChoiceFieldViewModel choiceItem in choices)
                {
                    if ((choiceItem.IsChecked == true) || (choiceItem.Name.Equals(customCategory, 
                                                             StringComparison.CurrentCultureIgnoreCase)))
                    {
                        specifiedChoice = choiceItem.Name;
                        isCustomValue = false;
                        break;
                    }
                }

                if (isCustomValue == true)
                {
                    specifiedChoice = customCategory;
                }
            }
            else
            {
                specifiedChoice = customCategory;
            }

            item[fieldName] = specifiedChoice;
        }
    }
}
```

5. <span data-ttu-id="dbd93-211">Сохраните файл.</span><span class="sxs-lookup"><span data-stu-id="dbd93-211">Save the file.</span></span>
    
  
<span data-ttu-id="dbd93-p120">Функция **SetConvertedChoiceEditFieldValue** используется для реализации изменить поля значение конвертера **задать** делегат функции, зарегистрированные для выбора полей в приложении. Функция итерацию по коллекции объектов **ChoiceFieldViewModel**, переданное как аргумент **fieldValue**. объекты **ChoiceFieldViewModel** используются для представления отдельных значений для полей выбора проектов на основе шаблона приложения списка SharePoint для Windows Phone. Каждый объект имеет свойство **Name**, представляющее данного выбора и логическое свойство ( **IsChecked**), указывающее, является ли данный вариант значение (эти значения для поля, которое было определено) значение, указанное в поле. Функция **SetConvertedChoiceEditFieldValue** определяет, установлен ли объект **ChoiceFieldViewModel** в коллекции или совпадает ли свойство **Name** объекта указанного пользовательское значение для поля Категория продуктов. Если это так, свойство **Name** этого объекта **ChoiceFieldViewModel** используется для установки значения поля. В противном случае  значение указанного настраиваемого (из аргумента **customCategory** ) имеет значение как значение поля.</span><span class="sxs-lookup"><span data-stu-id="dbd93-p120">The **SetConvertedChoiceEditFieldValue** function here is used for the implementation of the edit field value converter **set** function delegate registered for Choice fields in the app. The function iterates through the collection of **ChoiceFieldViewModel** objects passed as the **fieldValue** argument. **ChoiceFieldViewModel** objects are used to represent individual values for Choice fields in projects based on the Windows Phone SharePoint List Application template. Each object has a **Name** property that represents a given choice and a Boolean property ( **IsChecked**) indicating whether a given choice value (of those values available for a field as was defined) is the value specified for the field. The **SetConvertedChoiceEditFieldValue** function determines whether a **ChoiceFieldViewModel** object in the collection is checked or whether the **Name** property of an object matches a specified custom value for the Product Category field. If so, the **Name** property of that **ChoiceFieldViewModel** object is used to set the value of the field. Otherwise, a specified custom value (from the **customCategory** argument) is set as the value of the field.</span></span>
  
    
    
<span data-ttu-id="dbd93-219">Далее вы добавите участником свойство **EditItemViewModel** класс, который предоставляет доступ к значению "замещение" для поля выбора (или пустая строка, если указанное значение поля выбора  это один из доступных вариантов, определенные для поля на сервере).</span><span class="sxs-lookup"><span data-stu-id="dbd93-219">Next you will add a property member to the **EditItemViewModel** class that provides access to the "fill-in" value for a Choice field (or an empty string if the specified value of the Choice field is one of the available choices defined for the field on the server).</span></span>
  
    
    

### <a name="to-add-a-property-member-to-the-edititemviewmodel-class"></a><span data-ttu-id="dbd93-220">Добавление элемента свойства в класс EditItemViewModel</span><span class="sxs-lookup"><span data-stu-id="dbd93-220">To add a property member to the EditItemViewModel class</span></span>


1. <span data-ttu-id="dbd93-221">В **Обозревателе решений** в узле папка **ViewModels** выберите файл EditItemViewModel.cs.</span><span class="sxs-lookup"><span data-stu-id="dbd93-221">In **Solution Explorer**, under the **ViewModels** folder node, select the EditItemViewModel.cs file.</span></span>
    
  
2. <span data-ttu-id="dbd93-222">КлавишиF7(или дважды щелкните файл) откройте файл для редактирования.</span><span class="sxs-lookup"><span data-stu-id="dbd93-222">Press F7 (or double-click the file) to open the file for editing.</span></span>
    
  
3. <span data-ttu-id="dbd93-223">После директив **using** по умолчанию в файле добавьте следующую директиву.</span><span class="sxs-lookup"><span data-stu-id="dbd93-223">After the default **using** directives in the file, add the following directive.</span></span>
    
```cs
  
using System.Collections.ObjectModel;
```

4. <span data-ttu-id="dbd93-224">Добавьте следующие реализации члена свойства (с именем **OtherCategoryValue**) в файл в блоке кода (обозначенного открывающих и закрывающих скобок), который реализует класс **EditItemViewModel**.</span><span class="sxs-lookup"><span data-stu-id="dbd93-224">Add the following implementation of a property member (named **OtherCategoryValue**) to the file, within the code block (demarcated by opening and closing braces) that implements the **EditItemViewModel** class.</span></span>
    
```cs
  public string OtherCategoryValue
{
    get
    {
        string specifiedCategory = string.Empty;

        // See if specified Choice field value is one of the available values
        // from the List ViewModel. If it is, return an empty string.
        ObservableCollection<ChoiceFieldViewModel> choicesCollection = this["Product_x0020_Category"] as
                                               ObservableCollection<ChoiceFieldViewModel>;
        if (choicesCollection != null &amp;&amp; choicesCollection.Any(choice => choice.IsChecked))
        {
            return specifiedCategory;
        }

        // If Choice field value is not one of the values from the List ViewModel,
        // get the value from the underlying list item and return value as string.
        specifiedCategory = SharePointListItem.FieldValuesAsText["Product_x0020_Category"];
        return specifiedCategory;
    }
}
```

5. <span data-ttu-id="dbd93-225">Сохраните файл.</span><span class="sxs-lookup"><span data-stu-id="dbd93-225">Save the file.</span></span>
    
  
<span data-ttu-id="dbd93-226">Затем будет добавление элементов управления на форме редактирования и настроить эти элементы управления для поддержки ввода пользовательские значения для поля Категория продуктов.</span><span class="sxs-lookup"><span data-stu-id="dbd93-226">Next, you will add controls to the Edit form and configure those controls to support entering custom values for the Product Category field.</span></span>
  
    
    

### <a name="to-add-and-configure-ui-controls-for-entering-custom-choice-field-values"></a><span data-ttu-id="dbd93-227">Чтобы добавить и настроить элементы управления пользовательского интерфейса для ввода значений настраиваемого поля выбора</span><span class="sxs-lookup"><span data-stu-id="dbd93-227">To add and configure UI controls for entering custom Choice field values</span></span>


1. <span data-ttu-id="dbd93-228">В **Обозревателе решений** выберите файл EditForm.xaml в узле папка **представлений**.</span><span class="sxs-lookup"><span data-stu-id="dbd93-228">In **Solution Explorer**, select the EditForm.xaml file under the **Views** folder node.</span></span>
    
  
2. <span data-ttu-id="dbd93-229">КлавишиSHIFT + F7(или дважды щелкните файл) для открытия файла в конструкторе.</span><span class="sxs-lookup"><span data-stu-id="dbd93-229">Press SHIFT + F7 (or double-click the file) to open the file in the designer.</span></span>
    
  
3. <span data-ttu-id="dbd93-p121">Найдите элемент управления **StackPanel**, который содержит элементы управления (элемент управления **TextBlock** и элемент управления **ListBox** ) для отрисовки поля **Категория продуктов** из списка SharePoint заказы продукта. Добавление и настройка элемента управления **RadioButton** и другим элементом управления **TextBox** в контейнер **StackPanel**, как показано в следующем коде.</span><span class="sxs-lookup"><span data-stu-id="dbd93-p121">Locate the **StackPanel** control that contains the controls (a **TextBlock** control and a **ListBox** control) for rendering the **Product Category** field from the Product Orders SharePoint list. Add and configure a **RadioButton** control and another **TextBox** control to the **StackPanel** container, as shown in the following code.</span></span>
    
```
  
<StackPanel Orientation="Vertical" Margin="0,5,0,5">
    <TextBlock TextWrapping="Wrap" HorizontalAlignment="Left" Style="{StaticResource PhoneTextNormalStyle}">
                                                                    Product Category</TextBlock>
    <ListBox MaxHeight="400" Width="Auto" x:Name="lstBoxProduct_x0020_Category" 
                                             ItemsSource="{Binding [Product_x0020_Category]}">
        <ListBox.ItemTemplate>
            <DataTemplate>
                <RadioButton FontSize="{StaticResource PhoneFontSizeNormal}" HorizontalAlignment="Left" 
                               GroupName="Product_x0020_Category" Content="{Binding Name}" 
                                  IsChecked="{Binding IsChecked, Mode=TwoWay}" />
            </DataTemplate>
        </ListBox.ItemTemplate>
    </ListBox>
    <!-- The following two controls added to support UI Customization for Choice field. -->
    <RadioButton x:Name="rbOtherCategory" FontSize="{StaticResource PhoneFontSizeNormal}" HorizontalAlignment="Left" GroupName="Product_x0020_Category" Content="Other:" IsChecked ="True" /><TextBox x:Name="txtOtherCategory" Text="{Binding OtherCategoryValue}" FontSize="{StaticResource PhoneFontSizeNormal}" Width="470" HorizontalAlignment="Left" TextWrapping="Wrap" Visibility="Visible" />
</StackPanel>
```

4. <span data-ttu-id="dbd93-232">С помощью файла EditForm.xaml, выбранного в **Обозревателе решений** нажмите клавишуF7Чтобы открыть файл его выделенным кодом EditForm.xaml.cs, для редактирования.</span><span class="sxs-lookup"><span data-stu-id="dbd93-232">With the EditForm.xaml file selected in **Solution Explorer**, press F7 to open its associated code-behind file, EditForm.xaml.cs, for editing.</span></span>
    
  
5. <span data-ttu-id="dbd93-p122">Измените конструктор в файл, чтобы добавить обработчик **EditForm_Loaded**, для события **Loaded**. Измененные конструктор должна соответствовать конструктор в следующем коде.</span><span class="sxs-lookup"><span data-stu-id="dbd93-p122">Modify the constructor in the file to add a handler, **EditForm_Loaded**, for the **Loaded** event. The modified constructor should match the constructor in the following code.</span></span>
    
```cs
  
public EditForm()
{
    InitializeComponent();

    viewModel = App.MainViewModel.SelectedItemEditViewModelInstance;
    if (!viewModel.IsInitialized)
    {
        viewModel.InitializationCompleted += new
                       EventHandler<InitializationCompletedEventArgs>(OnViewModelInitialization);
        viewModel.Initialize();
    }
    else
    {
        this.DataContext = viewModel;
    }

    // Adding handler for Loaded event.
    this.Loaded += new RoutedEventHandler(EditForm_Loaded);
}
```

6. <span data-ttu-id="dbd93-235">Добавьте следующие реализации обработчика событий **EditForm_Loaded** файл с именем в блоке кода (обозначенного открывающих и закрывающих скобок), который реализует разделяемый класс **EditForm**.</span><span class="sxs-lookup"><span data-stu-id="dbd93-235">Add the following implementation for the **EditForm_Loaded** event handler to the file, within the code block (demarcated by opening and closing braces) that implements the **EditForm** partial class.</span></span>
    
```cs
  
private void EditForm_Loaded(object sender, RoutedEventArgs e)
{
    // Register EditFieldValueConverter SET function on Choice fields.
    Converter.RegisterEditFieldValueConverter(FieldType.Choice, 
                            (string fieldName, object fieldValue, ListItem item, 
                                               ConversionContext context) =>
    {
        string otherCategoryValue = string.Empty;
        if (this.rbOtherCategory.IsChecked == true)
        {                    
            otherCategoryValue = this.txtOtherCategory.Text.Trim();
            if (string.IsNullOrWhiteSpace(OtherCategoryValue))
            {
                otherCategoryValue = "(Unspecified)";
            }
        }

        ContosoConverter.SetConvertedChoiceEditFieldValue(fieldName, 
                                         fieldValue, item, context, otherCategoryValue);
    });

    // Adding RadioButton event handlers here because the
    // txtOtherCategory TextBox will be loaded and available at this point.
    this.rbOtherCategory.Checked += new RoutedEventHandler(rbOtherCategory_Checked);
    this.rbOtherCategory.Unchecked += new RoutedEventHandler(rbOtherCategory_Unchecked);
}
```


    In this code, the lambda statement used in the call to the **RegisterEditFieldValueConverter** method of the **Converter** class determines whether the **rbOtherCategory** **RadioButton** control (added in Step 3) is checked. If so, the value in the **Text** property of **txtOtherCategory** **TextBox** control is passed to the **SetConvertedChoiceEditFieldValue** function. If **rbOtherCategory** is not checked, an empty string is passed. If **rbOtherCategory** is checked, but nothing is actually specified by the user in the **txtOtherCategory** text box, a value of "(Unspecified)" is passed.
    
  
7. <span data-ttu-id="dbd93-p123">Наконец добавьте обработчики для событий **Checked** и **Unchecked** для **rbOtherCategory** **RadioButton** для отображения или скрытия **TextBox** управления, используемый для предоставления настраиваемых значений Категория продуктов. Включают следующие реализации для этих обработчиков в файле EditForm.xaml.cs еще раз в блоке кода, который реализует разделяемый класс **EditForm**.</span><span class="sxs-lookup"><span data-stu-id="dbd93-p123">Finally, add handlers for the **Checked** and **Unchecked** events of the **rbOtherCategory** **RadioButton** to show or hide the **TextBox** control used to provide custom Product Category values. Include the following implementations for these handlers in the EditForm.xaml.cs file, again within the code block that implements the **EditForm** partial class.</span></span>
    
```cs
  
private void rbOtherCategory_Checked(object sender, RoutedEventArgs e)
{
    this.txtOtherCategory.Visibility = System.Windows.Visibility.Visible;
    this.txtOtherCategory.Focus();
}

private void rbOtherCategory_Unchecked(object sender, RoutedEventArgs e)
{
    this.txtOtherCategory.Visibility = System.Windows.Visibility.Collapsed;
}
```

8. <span data-ttu-id="dbd93-238">Сохраните файл.</span><span class="sxs-lookup"><span data-stu-id="dbd93-238">Save the file.</span></span>
    
  
<span data-ttu-id="dbd93-p124">Если вы выполните построение проекта и его развертывание на эмулятора телефона Windows (нажав сочетание клавишF5), можно увидеть, что в форме редактирования **RadioButton** добавления элемента управления для каждого choice значение, определенное в определении поля Категория продуктов на основе по умолчанию логики обработки пользовательского интерфейса для полей Choice. Кроме того, другой элемент управления **RadioButton** (помечены как "другие:" в пользовательском Интерфейсе) включены пользователи должны иметь возможность указать значения для настраиваемого выбора. Если установлен элемент управления дополнительные **RadioButton**, элемент управления **TextBox** отображается для ввода значение.</span><span class="sxs-lookup"><span data-stu-id="dbd93-p124">If you build the project and deploy it to a Windows Phone Emulator (by pressing F5), you can see that in the Edit form, a **RadioButton** control is added for each choice value designated in the Product Category field definition, based on the default UI rendering logic for Choice fields. In addition, another **RadioButton** control (labeled as "Other:" in the UI) is included for users to be able to specify custom choice values. If the additional **RadioButton** control is checked, a **TextBox** control is displayed for entering the intended value.</span></span>
  
    
    
<span data-ttu-id="dbd93-242">Для элементов в списке заказов на продукт, который уже связаны с пользовательское значение Категория продукта и нажмите Редактировать в приложении редактирования, форма отображается с **RadioButton** дополнительные элементы управления установлен и **TextBox** отображение пользовательское значение уже видимой.</span><span class="sxs-lookup"><span data-stu-id="dbd93-242">For items in the Product Orders list that are already associated with a custom Product Category value and then edited in the app, the Edit form is rendered with the additional **RadioButton** control already checked and the **TextBox** control displaying the custom value already visible.</span></span>
  
    
    

## <a name="additional-resources"></a><span data-ttu-id="dbd93-243">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="dbd93-243">Additional resources</span></span>
<span data-ttu-id="dbd93-244"><a name="BKMK_AddingControlsForChoiceFields"> </a></span><span class="sxs-lookup"><span data-stu-id="dbd93-244"></span></span>


-  [<span data-ttu-id="dbd93-245">Построение приложений Windows Phone, обращающихся к SharePoint</span><span class="sxs-lookup"><span data-stu-id="dbd93-245">Build Windows Phone apps that access SharePoint</span></span>](build-windows-phone-apps-that-access-sharepoint.md)
    
  
-  [<span data-ttu-id="dbd93-246">Как: Настройка среды разработки мобильных приложений для SharePoint</span><span class="sxs-lookup"><span data-stu-id="dbd93-246">How to: Set up an environment for developing mobile apps for SharePoint</span></span>](how-to-set-up-an-environment-for-developing-mobile-apps-for-sharepoint.md)
    
  
-  [<span data-ttu-id="dbd93-247">Windows Phone SDK 8.0</span><span class="sxs-lookup"><span data-stu-id="dbd93-247">Windows Phone SDK 8.0</span></span>](http://www.microsoft.com/en-us/download/details.aspx?id=35471)
    
  
-  [<span data-ttu-id="dbd93-248">Пакет SDK Microsoft SharePoint для Windows Phone 8</span><span class="sxs-lookup"><span data-stu-id="dbd93-248">Microsoft SharePoint SDK for Windows Phone 8</span></span>](http://www.microsoft.com/en-us/download/details.aspx?id=36818)
    
  
-  [<span data-ttu-id="dbd93-249">Пакет SDK для Windows Phone 7.1</span><span class="sxs-lookup"><span data-stu-id="dbd93-249">Windows Phone SDK 7.1</span></span>](http://www.microsoft.com/en-us/download/details.aspx?id=27570)
    
  
-  [<span data-ttu-id="dbd93-250">Пакет SDK Microsoft SharePoint для Windows Phone 7.1</span><span class="sxs-lookup"><span data-stu-id="dbd93-250">Microsoft SharePoint SDK for Windows Phone 7.1</span></span>](http://www.microsoft.com/en-us/download/details.aspx?id=30476)
    
  

